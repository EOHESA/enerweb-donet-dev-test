import{ChangeDetectionStrategy,Component,Input}from"@angular/core";import{take}from"rxjs/operators";import{IdentityServerClaimTypesService}from"../../../../proxy/identity-server-claim-types.service";import{IdentityServerModalTabComponent}from"../identity-server-modal-tab.component";export class IdentityServerModalClaimsTabComponent extends IdentityServerModalTabComponent{constructor(e){super(),this.service=e,this.title="Claims",this._claims=[],this.definedClaims=[],this.givenClaimsNotContains=e=>this.claims.findIndex(t=>t.name===e.name)<0}set claims(e){this._claims=e||[],this.mergeClaims()}get claims(){return this._claims}ngOnInit(){this.service.getList().pipe(take(1)).subscribe(e=>{this.definedClaims=e.map(e=>Object.assign(Object.assign({},e),{left:!1})),this.definedClaims=this.mergeClaims()})}getValue(){return{userClaims:this.definedClaims.filter(e=>e.left).map(e=>({type:e.name}))}}mergeClaims(){return[...this.definedClaims.filter(this.givenClaimsNotContains),...this.claims]}}IdentityServerModalClaimsTabComponent.decorators=[{type:Component,args:[{selector:"abp-identity-server-modal-claims-tab",template:'<div class="card shadow-none bg-light">\r\n  <div class="card-body">\r\n    <abp-picklist\r\n      *ngIf="claims"\r\n      trackByProp="name"\r\n      bindLabel="name"\r\n      [leftListTitle]="\'AbpIdentityServer::OwnedClaims\' | abpLocalization"\r\n      [rightListTitle]="\'AbpIdentityServer::NotOwnedClaims\' | abpLocalization"\r\n      [(ngModel)]="definedClaims"\r\n    ></abp-picklist>\r\n  </div>\r\n</div>\r\n',providers:[{provide:IdentityServerModalTabComponent,useExisting:IdentityServerModalClaimsTabComponent}],changeDetection:ChangeDetectionStrategy.OnPush}]}],IdentityServerModalClaimsTabComponent.ctorParameters=()=>[{type:IdentityServerClaimTypesService}],IdentityServerModalClaimsTabComponent.propDecorators={claims:[{type:Input}]};