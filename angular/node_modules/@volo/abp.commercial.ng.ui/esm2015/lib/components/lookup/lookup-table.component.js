import{Component,EventEmitter,Input,Output}from"@angular/core";import{finalize}from"rxjs/operators";export class LookupTableComponent{constructor(){this.lookupNameProp="displayName",this.pick=new EventEmitter,this.data=[],this.totalCount=0,this.pageQuery={maxResultCount:10,skipCount:0,filter:""}}ngOnInit(){this.get()}get(){this.loading=!0,this.getFn(this.pageQuery).pipe(finalize(()=>this.loading=!1)).subscribe(({totalCount:t,items:e})=>{this.data=e,this.totalCount=t})}pageChange(t){this.pageQuery.skipCount=this.pageQuery.maxResultCount*(t-1),this.get()}}LookupTableComponent.decorators=[{type:Component,args:[{selector:"abp-lookup-table",template:'<div class="card">\r\n  <div class="card-body">\r\n    <div id="data-tables-table-filter" class="data-tables-filter">\r\n      <label\r\n        ><input\r\n          type="search"\r\n          class="form-control"\r\n          [placeholder]="\'AbpUi::PagerSearch\' | abpLocalization"\r\n          [(ngModel)]="pageQuery.filter"\r\n          (input.debounce)="get()"\r\n      /></label>\r\n    </div>\r\n    <abp-table\r\n      [abpLoading]="loading"\r\n      [abpLoadingDelay]="500"\r\n      [colgroupTemplate]="tableColgroup"\r\n      [bodyTemplate]="tableBody"\r\n      [value]="data"\r\n      [rows]="pageQuery.maxResultCount"\r\n      [totalRecords]="totalCount"\r\n      [scrollable]="true"\r\n      (pageChange)="pageChange($event)"\r\n    >\r\n    </abp-table>\r\n    <ng-template #tableColgroup>\r\n      <colgroup>\r\n        <col [ngStyle]="{ \'width.px\': 150 }" />\r\n      </colgroup>\r\n    </ng-template>\r\n    <ng-template #tableBody let-data>\r\n      <tr>\r\n        <td class="text-center">\r\n          <button class="btn btn-primary btn-sm" type="button" (click)="pick.emit(data)">\r\n            {{ \'::Pick\' | abpLocalization }}\r\n          </button>\r\n        </td>\r\n        <td>{{ data[lookupNameProp] }}</td>\r\n      </tr>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n'}]}],LookupTableComponent.propDecorators={getFn:[{type:Input}],lookupNameProp:[{type:Input}],pick:[{type:Output}]};