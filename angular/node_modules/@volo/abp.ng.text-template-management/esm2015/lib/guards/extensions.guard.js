import{ConfigStateService}from"@abp/ng.core";import{ExtensionsService,getObjectExtensionEntitiesFromStore,mapEntitiesToContributors,mergeWithDefaultActions,mergeWithDefaultProps}from"@abp/ng.theme.shared/extensions";import{Injectable,Injector}from"@angular/core";import{map,mapTo,tap}from"rxjs/operators";import{DEFAULT_TEXT_TEMPLATE_MANAGEMENT_ENTITY_ACTIONS,DEFAULT_TEXT_TEMPLATE_MANAGEMENT_ENTITY_PROPS,DEFAULT_TEXT_TEMPLATE_MANAGEMENT_TOOLBAR_ACTIONS,TEXT_TEMPLATE_MANAGEMENT_ENTITY_ACTION_CONTRIBUTORS,TEXT_TEMPLATE_MANAGEMENT_ENTITY_PROP_CONTRIBUTORS,TEXT_TEMPLATE_MANAGEMENT_TOOLBAR_ACTION_CONTRIBUTORS}from"../tokens/extensions.token";export class TextTemplateManagementExtensionsGuard{constructor(T){this.injector=T}canActivate(){const T=this.injector.get(ExtensionsService),e=this.injector.get(TEXT_TEMPLATE_MANAGEMENT_ENTITY_ACTION_CONTRIBUTORS,null)||{},t=this.injector.get(TEXT_TEMPLATE_MANAGEMENT_TOOLBAR_ACTION_CONTRIBUTORS,null)||{},E=this.injector.get(TEXT_TEMPLATE_MANAGEMENT_ENTITY_PROP_CONTRIBUTORS,null)||{},n=this.injector.get(ConfigStateService);return getObjectExtensionEntitiesFromStore(n,"TextTemplateManagement").pipe(map(T=>({"TextTemplateManagement.TextTemplates":T.TextDefinition})),mapEntitiesToContributors(n,"TextTemplateManagement"),tap(n=>{mergeWithDefaultActions(T.entityActions,DEFAULT_TEXT_TEMPLATE_MANAGEMENT_ENTITY_ACTIONS,e),mergeWithDefaultActions(T.toolbarActions,DEFAULT_TEXT_TEMPLATE_MANAGEMENT_TOOLBAR_ACTIONS,t),mergeWithDefaultProps(T.entityProps,DEFAULT_TEXT_TEMPLATE_MANAGEMENT_ENTITY_PROPS,n.prop,E)}),mapTo(!0))}}TextTemplateManagementExtensionsGuard.decorators=[{type:Injectable}],TextTemplateManagementExtensionsGuard.ctorParameters=()=>[{type:Injector}];