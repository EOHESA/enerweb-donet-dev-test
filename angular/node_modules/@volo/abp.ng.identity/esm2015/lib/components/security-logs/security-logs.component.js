import{ListService}from"@abp/ng.core";import{DateAdapter,EXTENSIONS_IDENTIFIER}from"@abp/ng.theme.shared/extensions";import{Component}from"@angular/core";import{NgbDateAdapter}from"@ng-bootstrap/ng-bootstrap";import{IdentitySecurityLogService}from"../../proxy/identity/identity-security-log.service";const ɵ0="Identity.SecurityLogs";export class SecurityLogsComponent{constructor(r,t){this.list=r,this.service=t,this.data={items:[],totalCount:0},this.filter={}}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(r=>this.service.getList(Object.assign(Object.assign({},r),this.filter))).subscribe(r=>this.data=r)}}SecurityLogsComponent.decorators=[{type:Component,args:[{selector:"abp-security-logs",template:'<div id="wrapper">\r\n  <div class="row entry-row">\r\n    <div class="col-auto">\r\n      <h1 class="content-header-title">{{ \'AbpIdentity::SecurityLogs\' | abpLocalization }}</h1>\r\n    </div>\r\n    <div class="col-lg-auto pl-lg-0">\r\n      <abp-breadcrumb></abp-breadcrumb>\r\n    </div>\r\n    <div class="col">\r\n      <abp-page-toolbar [record]="data.items"></abp-page-toolbar>\r\n    </div>\r\n  </div>\r\n  <div class="card">\r\n    <div class="card-body pb-lg-3">\r\n      <div class="row" (keyup.enter)="list.get()">\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:StartTime\' | abpLocalization }}</label>\r\n            <input\r\n              #startDate="ngbDatepicker"\r\n              class="form-control"\r\n              name="start-date"\r\n              readonly\r\n              [(ngModel)]="filter.startTime"\r\n              [dayTemplate]="startDateTemplate"\r\n              ngbDatepicker\r\n              (click)="startDate.toggle()"\r\n            />\r\n            <ng-template\r\n              #startDateTemplate\r\n              let-date\r\n              let-focused="focused"\r\n              let-selected="selected"\r\n              let-currentMonth="currentMonth"\r\n            >\r\n              <div\r\n                class="btn-light custom-day"\r\n                [class.bg-primary]="selected"\r\n                [class.text-white]="selected"\r\n                [class.text-muted]="currentMonth !== date.month"\r\n                [class.ng-range]="date.after(filter.startTime) && date.before(filter.endTime)"\r\n                [class.ng-range-end]="date.equals(filter.endTime)"\r\n              >\r\n                {{ date.day }}\r\n              </div>\r\n            </ng-template>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:EndTime\' | abpLocalization }}</label>\r\n            <input\r\n              #endDate="ngbDatepicker"\r\n              class="form-control"\r\n              name="end-date"\r\n              readonly\r\n              [(ngModel)]="filter.endTime"\r\n              [dayTemplate]="endDateTemplate"\r\n              ngbDatepicker\r\n              (click)="endDate.toggle()"\r\n            />\r\n            <ng-template\r\n              #endDateTemplate\r\n              let-date\r\n              let-focused="focused"\r\n              let-selected="selected"\r\n              let-currentMonth="currentMonth"\r\n            >\r\n              <div\r\n                class="btn-light custom-day"\r\n                [class.bg-primary]="selected"\r\n                [class.text-white]="selected"\r\n                [class.text-muted]="currentMonth !== date.month"\r\n                [class.ng-range]="date.after(filter.startTime) && date.before(filter.endTime)"\r\n                [class.ng-range-end]="date.equals(filter.startTime)"\r\n              >\r\n                {{ date.day }}\r\n              </div>\r\n            </ng-template>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:Application\' | abpLocalization }}</label>\r\n            <input type="text" class="form-control" [(ngModel)]="filter.applicationName" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:Identity\' | abpLocalization }}</label>\r\n            <input type="text" class="form-control" [(ngModel)]="filter.identity" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:UserName\' | abpLocalization }}</label>\r\n            <input type="text" class="form-control" [(ngModel)]="filter.userName" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:Action\' | abpLocalization }}</label>\r\n            <input type="text" class="form-control" [(ngModel)]="filter.action" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:Client\' | abpLocalization }}</label>\r\n            <input type="text" class="form-control" [(ngModel)]="filter.clientId" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-6 col-lg-3">\r\n          <div class="form-group">\r\n            <label>{{ \'AbpIdentity::SecurityLogs:CorrelationId\' | abpLocalization }}</label>\r\n            <input type="text" class="form-control" [(ngModel)]="filter.correlationId" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-md-6 col-lg-3">\r\n          <button (click)="list.get()" class="mt-md-2 mb-md-2 btn btn-primary btn-block">\r\n            <i class="fas fa-search"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="card">\r\n    <div class="card-body p-0">\r\n      <abp-extensible-table\r\n        [data]="data.items"\r\n        [recordsTotal]="data.totalCount"\r\n        [list]="list"\r\n      ></abp-extensible-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n',providers:[ListService,{provide:EXTENSIONS_IDENTIFIER,useValue:ɵ0},{provide:NgbDateAdapter,useClass:DateAdapter}]}]}],SecurityLogsComponent.ctorParameters=()=>[{type:ListService},{type:IdentitySecurityLogService}];export{ɵ0};