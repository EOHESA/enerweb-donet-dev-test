!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("rxjs/operators"),require("@angular/common"),require("rxjs"),require("@angular/common/http"),require("@ngxs/store"),require("just-compare"),require("snq"),require("@angular/forms"),require("angular-oauth2-oidc"),require("just-clone")):"function"==typeof define&&define.amd?define("@abp/ng.core",["exports","@angular/core","@angular/router","rxjs/operators","@angular/common","rxjs","@angular/common/http","@ngxs/store","just-compare","snq","@angular/forms","angular-oauth2-oidc","just-clone"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).abp=t.abp||{},t.abp.ng=t.abp.ng||{},t.abp.ng.core={}),t.ng.core,t.ng.router,t.rxjs.operators,t.ng.common,t.rxjs,t.ng.common.http,t.i4,t.compare,t.snq,t.ng.forms,t.i1$1,t.clone)}(this,(function(t,e,n,r,o,i,a,u,s,c,p,f,l){"use strict";function d(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var h=d(s),y=d(c),v=d(l),g=function(){function t(t){this.injector=t,this.valueFn=function(t){return t},this.valueLimitFn=function(t){return!1},this.cdRef=t.get(e.ChangeDetectorRef)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value||this.defaultValue},set:function(t){t=this.valueFn(t,this._value),!1!==this.valueLimitFn(t,this._value)||this.readonly||(this._value=t,this.notifyValueChange())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.notifyValueChange=function(){this.onChange&&this.onChange(this.value)},t.prototype.writeValue=function(t){var e=this;this._value=this.valueLimitFn(t,this._value)||t,setTimeout((function(){return e.cdRef.markForCheck()}),0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t}();g.decorators=[{type:e.Component,args:[{template:""}]}],g.ctorParameters=function(){return[{type:e.Injector}]},g.propDecorators={disabled:[{type:e.Input}],readonly:[{type:e.Input}],valueFn:[{type:e.Input}],valueLimitFn:[{type:e.Input}],value:[{type:e.Input}]};var m=function(){};m.type="[Config] Get App Configuration";var b=function(t){this.environment=t};b.type="[Config] Set Environment";var S=function(t){this.state=t};S.type="[Config] Set State";var C=function(t){this.payload=t};C.type="[Loader] Start";var I=function(t){this.payload=t};I.type="[Loader] Stop";var A=function(){};A.type="[Profile] Get";var j=function(t){this.payload=t};j.type="[Profile] Update";var E=function(t){this.payload=t};E.type="[Profile] Change Password";var R=function(t){this.payload=t};R.type="[Rest] Error";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function T(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function P(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function k(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function L(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}Object.create;function N(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N(arguments[e]));return t}Object.create;var _=new e.InjectionToken("CORE_OPTIONS");function x(t){var e=T(t,[]);return Object.assign({},e)}function z(){return function(){}}function M(t){return void 0===t||""===t}function F(t){return null==t}function $(t){return!F(t)}function U(t){return t instanceof Object}function q(t){return Array.isArray(t)}function B(t){return U(t)&&!q(t)}function G(t){return t instanceof Node}function V(t){return B(t)&&!G(t)}function H(t,e){return V(t)&&V(e)?Z(t,e):F(t)&&F(e)?{}:$(e)?e:t}function Z(t,e){if(F(t)||F(e)||q(t)||q(e)||!U(t)||!U(e)||G(t)||G(e))return $(e)?e:t;var n=Object.keys(t),r=Object.keys(e);return D(new Set(n.concat(r))).reduce((function(n,r){return n[r]=Z(t[r],e[r]),n}),{})}var K=function(){function t(t){var e=this;this.initialState=t,this.state$=new i.BehaviorSubject(this.initialState),this.update$=new i.Subject,this.sliceState=function(t,n){return void 0===n&&(n=h.default),e.state$.pipe(r.map(t),r.distinctUntilChanged(n))},this.sliceUpdate=function(t,n){return void 0===n&&(n=function(t){return void 0!==t}),e.update$.pipe(r.map(t),r.filter(n))}}return Object.defineProperty(t.prototype,"state",{get:function(){return this.state$.value},enumerable:!1,configurable:!0}),t.prototype.patch=function(t){var e=t;"object"!=typeof t||Array.isArray(t)||(e=Object.assign(Object.assign({},this.state),t)),this.state$.next(e),this.update$.next(e)},t.prototype.deepPatch=function(t){this.state$.next(H(this.state,t)),this.update$.next(t)},t.prototype.set=function(t){this.state$.next(t),this.update$.next(t)},t.prototype.reset=function(){this.set(this.initialState)},t}(),W=function(){function t(){this.store=new K({})}return Object.defineProperty(t.prototype,"createOnUpdateStream",{get:function(){return this.store.sliceUpdate},enumerable:!1,configurable:!0}),t.prototype.getEnvironment$=function(){return this.store.sliceState((function(t){return t}))},t.prototype.getEnvironment=function(){return this.store.state},t.prototype.getApiUrl=function(t){return(this.store.state.apis[t||"default"]||this.store.state.apis.default).url},t.prototype.getApiUrl$=function(t){return this.store.sliceState((function(t){return t.apis})).pipe(r.map((function(e){return(e[t||"default"]||e.default).url})))},t.prototype.setState=function(t){this.store.set(t)},t}();W.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new W},token:W,providedIn:"root"}),W.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Y=function(){function t(t,e,n,r){this.options=t,this.http=e,this.environment=n,this.store=r}return t.prototype.getApiFromStore=function(t){return this.environment.getApiUrl(t)},t.prototype.handleError=function(t){return this.store.dispatch(new R(t)),i.throwError(t)},t.prototype.request=function(t,e,n){var o=this;e=e||{},n=n||this.getApiFromStore(e.apiName);var a=t.method,u=t.params,s=T(t,["method","params"]),c=e.observe,p=void 0===c?"body":c,f=e.skipHandleError;return this.http.request(a,n+t.url,Object.assign(Object.assign({observe:p},u&&{params:Object.keys(u).reduce((function(t,e){var n=u[e];return M(n)?t:null!==n||o.options.sendNullsAsQueryParam?(t[e]=n,t):t}),{})}),s)).pipe(r.catchError((function(t){return f?i.throwError(t):o.handleError(t)})))},t}();Y.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Y(e.ɵɵinject(_),e.ɵɵinject(a.HttpClient),e.ɵɵinject(W),e.ɵɵinject(u.Store))},token:Y,providedIn:"root"}),Y.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Y.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[_]}]},{type:a.HttpClient},{type:W},{type:u.Store}]};var J=function(){function t(t){this.restService=t,this.apiName="abp"}return t.prototype.get=function(){return this.restService.request({method:"GET",url:"/api/abp/application-configuration"},{apiName:this.apiName})},t}();function Q(t){return function(e,n,r){if("_"===e)return n;var o=y.default((function(){return t.values[e]}));return o&&o[n]||r}}function X(t){var e=tt(t);return function(t,n,r){return e(t,n).localized||r}}function tt(t){var e=Q(t);return function(n,r){for(var o=(n=n.concat(t.defaultResourceName).filter(Boolean)).length,i=r.length,a=0;a<o;a++)for(var u=n[a],s=0;s<i;s++){var c=r[s],p=e(u,c,null);if(p)return{resourceName:u,key:c,localized:p}}return{resourceName:void 0,key:void 0,localized:void 0}}}function et(t){return function(e){var n=[],r=t.replace(/\./g,"\\.").replace(/\{\s?([0-9a-zA-Z]+)\s?\}/g,(function(t,e){return n.push(e),"(.+)"}));return(e.match(r)||[]).slice(1).reduce((function(t,e,r){var o=n[r];return t[o]=D(t[o]||[],[e]).filter(Boolean),t}),{})}}function nt(t,e){return t.replace(/(['"]?\{\s*(\d+)\s*\}['"]?)/g,(function(t,n,r){var o;return null!==(o=e[r])&&void 0!==o?o:n})).replace(/\s+/g," ")}J.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new J(e.ɵɵinject(Y))},token:J,providedIn:"root"}),J.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],J.ctorParameters=function(){return[{type:Y}]};var rt=function(){function t(){this.store=new K({})}return Object.defineProperty(t.prototype,"createOnUpdateStream",{get:function(){return this.store.sliceUpdate},enumerable:!1,configurable:!0}),t.prototype.setState=function(t){this.store.set(t)},t.prototype.getOne$=function(t){return this.store.sliceState((function(e){return e[t]}))},t.prototype.getOne=function(t){return this.store.state[t]},t.prototype.getAll$=function(){return this.store.sliceState((function(t){return t}))},t.prototype.getAll=function(){return this.store.state},t.prototype.getDeep$=function(t){return t=ot(t),this.store.sliceState((function(t){return t})).pipe(r.map((function(e){return t.reduce((function(t,e){if(t)return t[e]}),e)})))},t.prototype.getDeep=function(t){return(t=ot(t)).reduce((function(t,e){if(t)return t[e]}),this.store.state)},t.prototype.getFeature=function(t){var e,n;return null===(n=null===(e=this.store.state.features)||void 0===e?void 0:e.values)||void 0===n?void 0:n[t]},t.prototype.getFeature$=function(t){return this.store.sliceState((function(e){var n,r;return null===(r=null===(n=e.features)||void 0===n?void 0:n.values)||void 0===r?void 0:r[t]}))},t.prototype.getSetting=function(t){var e,n;return null===(n=null===(e=this.store.state.setting)||void 0===e?void 0:e.values)||void 0===n?void 0:n[t]},t.prototype.getSetting$=function(t){return this.store.sliceState((function(e){var n,r;return null===(r=null===(n=e.setting)||void 0===n?void 0:n.values)||void 0===r?void 0:r[t]}))},t.prototype.getSettings=function(t){var e,n=(null===(e=this.store.state.setting)||void 0===e?void 0:e.values)||{};return t?Object.keys(n).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,e){return t[e]=n[e],t}),{}):n},t.prototype.getSettings$=function(t){return this.store.sliceState((function(t){var e;return null===(e=t.setting)||void 0===e?void 0:e.values})).pipe(r.map((function(e){return void 0===e&&(e={}),t?Object.keys(e).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,n){return t[n]=e[n],t}),{}):e})))},t}();function ot(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return t}rt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new rt},token:rt,providedIn:"root"}),rt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var it=function(){function t(t){var e=this;this.configState=t,this.store=new K({}),this.updateLocalStorage=function(){localStorage.setItem("abpSession",JSON.stringify(e.store.state))},this.init(),this.setInitialLanguage()}return t.prototype.init=function(){var t=localStorage.getItem("abpSession");t&&this.store.set(JSON.parse(t)),this.store.sliceUpdate((function(t){return t})).subscribe(this.updateLocalStorage)},t.prototype.setInitialLanguage=function(){var t=this;this.getLanguage()||this.configState.getDeep$("localization.currentCulture.cultureName").pipe(r.filter((function(t){return!!t})),r.take(1)).subscribe((function(e){e.includes(";")&&(e=e.split(";")[0]),t.setLanguage(e)}))},t.prototype.onLanguageChange$=function(){return this.store.sliceUpdate((function(t){return t.language}))},t.prototype.onTenantChange$=function(){return this.store.sliceUpdate((function(t){return t.tenant}))},t.prototype.getLanguage=function(){return this.store.state.language},t.prototype.getLanguage$=function(){return this.store.sliceState((function(t){return t.language}))},t.prototype.getTenant=function(){return this.store.state.tenant},t.prototype.getTenant$=function(){return this.store.sliceState((function(t){return t.tenant}))},t.prototype.setTenant=function(t){h.default(t,this.store.state.tenant)||this.store.set(Object.assign(Object.assign({},this.store.state),{tenant:t}))},t.prototype.setLanguage=function(t){t!==this.store.state.language&&(this.store.patch({language:t}),document.documentElement.setAttribute("lang",t))},t}();it.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new it(e.ɵɵinject(rt))},token:it,providedIn:"root"}),it.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],it.ctorParameters=function(){return[{type:rt}]};var at=function(){function t(t,e,n,r,o,a){if(this.sessionState=t,this.injector=e,this.ngZone=n,this.configState=o,this.appConfigService=a,this.latestLang=this.sessionState.getLanguage(),this._languageChange$=new i.Subject,r)throw new Error("LocalizationService should have only one instance.");this.listenToSetLanguage()}return Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.latestLang},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageChange$",{get:function(){return this._languageChange$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.listenToSetLanguage=function(){var t=this;this.sessionState.onLanguageChange$().pipe(r.filter((function(e){return t.configState.getDeep("localization.currentCulture.cultureName")!==e})),r.switchMap((function(e){return t.appConfigService.get().pipe(r.tap((function(e){return t.configState.setState(e)}))).pipe(r.mapTo(e))}))).subscribe((function(e){t.registerLocale(e),t._languageChange$.next(e)}))},t.prototype.registerLocale=function(t){var e=this,r=this.injector.get(n.Router),a=r.routeReuseStrategy.shouldReuseRoute;return r.routeReuseStrategy.shouldReuseRoute=function(){return!1},r.navigated=!1,(0,this.injector.get(_).registerLocaleFn)(t).then((function(n){(null==n?void 0:n.default)&&o.registerLocaleData(n.default),e.latestLang=t,e.ngZone.run((function(){return k(e,void 0,void 0,(function(){return L(this,(function(t){switch(t.label){case 0:return[4,r.navigateByUrl(r.url).catch(i.noop)];case 1:return t.sent(),r.routeReuseStrategy.shouldReuseRoute=a,[2]}}))}))}))}))},t.prototype.get=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.configState.getAll$().pipe(r.map((function(n){return ut.apply(void 0,D([n,t],e))})))},t.prototype.getResource=function(t){return this.configState.getDeep("localization.values."+t)},t.prototype.getResource$=function(t){return this.configState.getDeep$("localization.values."+t)},t.prototype.instant=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ut.apply(void 0,D([this.configState.getAll(),t],e))},t.prototype.localize=function(t,e,n){return this.configState.getOne$("localization").pipe(r.map(Q),r.map((function(r){return r(t,e,n)})))},t.prototype.localizeSync=function(t,e,n){return Q(this.configState.getOne("localization"))(t,e,n)},t.prototype.localizeWithFallback=function(t,e,n){return this.configState.getOne$("localization").pipe(r.map(X),r.map((function(r){return r(t,e,n)})))},t.prototype.localizeWithFallbackSync=function(t,e,n){return X(this.configState.getOne("localization"))(t,e,n)},t}();function ut(t,n){for(var r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];n||(n=""),"string"!=typeof n&&(r=n.defaultValue,n=n.key);var a=n.split("::"),u=function(t){e.isDevMode&&console.warn(t)};if(a.length<2)return u("The localization source separator (::) not found."),r||n;if(!t.localization)return r||a[1];var s=a[0]||t.localization.defaultResourceName,c=a[1];if("_"===s)return r||c;if(!s)return u("Localization source name is not specified and the defaultResourceName was not defined!"),r||c;var p=t.localization.values[s];if(!p)return u("Could not find localization source: "+s),r||c;var f=p[c];return void 0===f?r||c:(o=o.filter((function(t){return null!=t})),f&&(f=nt(f,o)),"string"!=typeof f&&(f=""),f||r||n)}function st(t,e){var n=t.find((function(t){return t.path===e}));return n||"/"===e?n:st(t,e.split("/").slice(0,-1).join("/")||"/")}function ct(t,e){void 0===e&&(e=t.url);return"/"+(t.parseUrl(e).root.children[n.PRIMARY_OUTLET]||{segments:[]}).segments.map((function(t){return t.path})).join("/")}function pt(t,e){var n=this,r=t.routeReuseStrategy.shouldReuseRoute,o=function(e){t.routeReuseStrategy.shouldReuseRoute=e};o((function(){return!1})),t.navigated=!1,e.run((function(){return k(n,void 0,void 0,(function(){return L(this,(function(e){switch(e.label){case 0:return[4,t.navigateByUrl(t.url).catch(z)];case 1:return e.sent(),o(r),[2]}}))}))}))}at.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new at(e.ɵɵinject(it),e.ɵɵinject(e.INJECTOR),e.ɵɵinject(e.NgZone),e.ɵɵinject(at,12),e.ɵɵinject(rt),e.ɵɵinject(J))},token:at,providedIn:"root"}),at.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],at.ctorParameters=function(){return[{type:it},{type:e.Injector},{type:e.NgZone},{type:at,decorators:[{type:e.Optional},{type:e.SkipSelf}]},{type:rt},{type:J}]};var ft=function(){function t(t,e){this.ngZone=t,this.router=e,this.store=new K([])}return Object.defineProperty(t.prototype,"replaceableComponents$",{get:function(){return this.store.sliceState((function(t){return t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replaceableComponents",{get:function(){return this.store.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUpdate$",{get:function(){return this.store.sliceUpdate((function(t){return t}))},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){var n=D(this.store.state),r=n.findIndex((function(e){return e.key===t.key}));r>-1?n[r]=t:n.push(t),this.store.set(n),e&&pt(this.router,this.ngZone)},t.prototype.get=function(t){return this.replaceableComponents.find((function(e){return e.key===t}))},t.prototype.get$=function(t){return this.replaceableComponents$.pipe(r.map((function(e){return e.find((function(e){return e.key===t}))})))},t}();function lt(t){return function(e){return t.push(e),t}}ft.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ft(e.ɵɵinject(e.NgZone),e.ɵɵinject(n.Router))},token:ft,providedIn:"root"}),ft.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ft.ctorParameters=function(){return[{type:e.NgZone},{type:n.Router}]};var dt=function(){function t(t){this.children=[],this.isLeaf=!0,Object.assign(this,t)}return t.create=function(e){return new t(e)},t}();function ht(t,e,n,r){var o=yt(t,e,r),i=[];return t.forEach((function(t){var r=e(t),a=n(t),u=o.get(r);if(u)if(a){var s=o.get(a);if(!s)return;s.children.push(u),s.isLeaf=!1,u.parent=s}else i.push(u)})),i}function yt(t,e,n){var r=new Map;return t.forEach((function(t){return r.set(e(t),n(t))})),r}var vt=function(){function t(t){this.configState=t}return t.prototype.getGrantedPolicy$=function(t){var e=this;return this.getStream().pipe(r.map((function(n){return e.isPolicyGranted(t,n)})))},t.prototype.getGrantedPolicy=function(t){var e=this.getSnapshot();return this.isPolicyGranted(t,e)},t.prototype.isPolicyGranted=function(t,e){var n=this;if(!t)return!0;var r;return/\|\|/g.test(t)?!((r=t.split("||").filter(Boolean)).length<2)&&r.some((function(t){return n.getPolicy(t.trim(),e)})):/&&/g.test(t)?!((r=t.split("&&").filter(Boolean)).length<2)&&r.every((function(t){return n.getPolicy(t.trim(),e)})):this.getPolicy(t,e)},t.prototype.getStream=function(){return this.configState.getAll$().pipe(r.map(this.mapToPolicies))},t.prototype.getSnapshot=function(){return this.mapToPolicies(this.configState.getAll())},t.prototype.mapToPolicies=function(t){return y.default((function(){return t.auth.grantedPolicies}),{})},t.prototype.getPolicy=function(t,e){return y.default((function(){return e[t]}),!1)},t}();vt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new vt(e.ɵɵinject(rt))},token:vt,providedIn:"root"}),vt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],vt.ctorParameters=function(){return[{type:rt}]};var gt=function(){function t(){this._flat$=new i.BehaviorSubject([]),this._tree$=new i.BehaviorSubject([]),this._visible$=new i.BehaviorSubject([])}return Object.defineProperty(t.prototype,"flat",{get:function(){return this._flat$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flat$",{get:function(){return this._flat$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree$",{get:function(){return this._tree$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible$",{get:function(){return this._visible$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.createTree=function(t){var e=this;return ht(t,(function(t){return t[e.id]}),(function(t){return t[e.parentId]}),(function(t){return dt.create(t)}))},t.prototype.filterWith=function(t){var e=this;return this._flat$.value.filter((function(n){return!t.has(n[e.id])}))},t.prototype.findItemsToRemove=function(t){var e=this;return this._flat$.value.reduce((function(t,n){if(!t.has(n[e.parentId]))return t;var r=new Set([n[e.id]]),o=e.findItemsToRemove(r);return new Set(D(t,o))}),t)},t.prototype.publish=function(t,e){return this._flat$.next(t),this._tree$.next(this.createTree(t)),this._visible$.next(this.createTree(e)),t},t.prototype.add=function(t){var e=this,n=new Map;t.forEach((function(t){return n.set(t[e.id],t)}));var r=this.filterWith(n);n.forEach(lt(r)),r.sort(this.sort);var o=r.filter((function(t){return!e.hide(t)}));return this.publish(r,o)},t.prototype.find=function(t,e){var n=this;return void 0===e&&(e=this.tree),e.reduce((function(e,r){return e||(t(r)?r:n.find(t,r.children))}),null)},t.prototype.patch=function(t,e){var n=this,r=this._flat$.value,o=r.findIndex((function(e){return e[n.id]===t}));if(o<0)return!1;r[o]=Object.assign(Object.assign({},r[o]),e),r.sort(this.sort);var i=r.filter((function(t){return!n.hide(t)}));return this.publish(r,i)},t.prototype.refresh=function(){return this.add([])},t.prototype.remove=function(t){var e=this,n=new Set;t.forEach((function(t){return n.add(t)}));var r=this.findItemsToRemove(n),o=this.filterWith(r),i=o.filter((function(t){return!e.hide(t)}));return this.publish(o,i)},t.prototype.search=function(t,e){var n=this;void 0===e&&(e=this.tree);var r=Object.keys(t);return e.reduce((function(e,o){return e||(r.every((function(e){return o[e]===t[e]}))?o:n.search(t,o.children))}),null)},t}(),mt=function(t){function e(e){var n=t.call(this)||this;n.injector=e,n.id="name",n.parentId="parentName",n.hide=function(t){return t.invisible||!n.isGranted(t)},n.sort=function(t,e){return Number.isInteger(t.order)?Number.isInteger(e.order)?t.order-e.order:-1:1};var r=n.injector.get(rt);return n.subscription=r.createOnUpdateStream((function(t){return t})).subscribe((function(){return n.refresh()})),n.permissionService=e.get(vt),n}return w(e,t),e.prototype.isGranted=function(t){var e=t.requiredPolicy;return this.permissionService.getGrantedPolicy(e)},e.prototype.hasChildren=function(t){var e,n=this,r=this.find((function(e){return e[n.id]===t}));return Boolean(null===(e=null==r?void 0:r.children)||void 0===e?void 0:e.length)},e.prototype.hasInvisibleChild=function(t){var e,n=this,r=this.find((function(e){return e[n.id]===t}));return null===(e=null==r?void 0:r.children)||void 0===e?void 0:e.some((function(t){return t.invisible}))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e}(gt);mt.decorators=[{type:e.Injectable}],mt.ctorParameters=function(){return[{type:e.Injector}]};var bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e}(mt);bt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new bt(e.ɵɵinject(e.INJECTOR))},token:bt,providedIn:"root"}),bt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e}(mt);St.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new St(e.ɵɵinject(e.INJECTOR))},token:St,providedIn:"root"}),St.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Ct=function(){function t(){this.subscription=new i.Subscription}return Object.defineProperty(t.prototype,"isClosed",{get:function(){return this.subscription.closed},enumerable:!1,configurable:!0}),t.prototype.addOne=function(t,e,n){var r=t.subscribe(e,n);return this.subscription.add(r),r},t.prototype.closeAll=function(){this.subscription.unsubscribe()},t.prototype.closeOne=function(t){this.removeOne(t),t.unsubscribe()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.removeOne=function(t){t&&this.subscription.remove(t)},t.prototype.reset=function(){this.subscription.unsubscribe(),this.subscription=new i.Subscription},t}();Ct.decorators=[{type:e.Injectable}];var It=function(){function t(t,e,o,i,a){var u=this;this.localizationService=e,this.replaceableComponents=o,this.subscription=i,this.layouts=new Map([["application","Theme.ApplicationLayoutComponent"],["account","Theme.AccountLayoutComponent"],["empty","Theme.EmptyLayoutComponent"]]),this.isLayoutVisible=!0,a||(this.route=t.get(n.ActivatedRoute),this.router=t.get(n.Router),this.routes=t.get(bt),this.getLayout(),this.subscription.addOne(this.router.events.pipe(r.filter((function(t){return t instanceof n.NavigationEnd}))),(function(){u.getLayout()})),this.listenToLanguageChange())}return t.prototype.getLayout=function(){var t,e=(this.route.snapshot.data||{}).layout;if(!e){var n=st(this.routes,ct(this.router));for(n={parent:n};n.parent;)if((n=n.parent).layout){e=n.layout;break}}if(e||(e="empty"),this.layoutKey!==e){var r=this.layouts.get(e);this.layout=null===(t=this.getComponent(r))||void 0===t?void 0:t.component,this.layoutKey=e}},t.prototype.listenToLanguageChange=function(){var t=this;this.subscription.addOne(this.localizationService.languageChange$,(function(){t.isLayoutVisible=!1,setTimeout((function(){return t.isLayoutVisible=!0}),0)}))},t.prototype.getComponent=function(t){return this.replaceableComponents.get(t)},t}();It.decorators=[{type:e.Component,args:[{selector:"abp-dynamic-layout",template:'\n    <ng-container *ngTemplateOutlet="layout ? componentOutlet : routerOutlet"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet\n      ><ng-container *ngIf="isLayoutVisible" [ngComponentOutlet]="layout"></ng-container\n    ></ng-template>\n  ',providers:[Ct]}]}],It.ctorParameters=function(){return[{type:e.Injector},{type:at},{type:ft},{type:Ct},{type:It,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]};var At=function(){function t(t,e,n){this.route=t,this.replaceableComponents=e,this.subscription=n}return t.prototype.ngOnInit=function(){var t=this;this.defaultComponent=this.route.snapshot.data.replaceableComponent.defaultComponent,this.componentKey=this.route.snapshot.data.replaceableComponent.key;var e=this.replaceableComponents.get$(this.componentKey).pipe(r.distinctUntilChanged());this.subscription.addOne(e,(function(e){void 0===e&&(e={}),t.externalComponent=e.component}))},t}();At.decorators=[{type:e.Component,args:[{selector:"abp-replaceable-route-container",template:'\n    <ng-container *ngComponentOutlet="externalComponent || defaultComponent"></ng-container>\n  ',providers:[Ct]}]}],At.ctorParameters=function(){return[{type:n.ActivatedRoute},{type:ft},{type:Ct}]};var jt=function(){};jt.decorators=[{type:e.Component,args:[{selector:"abp-router-outlet",template:"\n    <router-outlet></router-outlet>\n  "}]}];var Et={aa:"en","aa-DJ":"en","aa-ER":"en","aa-ET":"en","af-ZA":"af","agq-CM":"agq","ak-GH":"ak","am-ET":"am","ar-001":"ar",arn:"en","arn-CL":"en","as-IN":"as","asa-TZ":"asa","ast-ES":"ast","az-Cyrl-AZ":"az-Cyrl","az-Latn-AZ":"az-Latn",ba:"ru","ba-RU":"ru","bas-CM":"bas","be-BY":"be","bem-ZM":"bem","bez-TZ":"bez","bg-BG":"bg",bin:"en","bin-NG":"en","bm-Latn":"bm","bm-Latn-ML":"bm","bn-BD":"bn","bo-CN":"bo","br-FR":"br","brx-IN":"brx","bs-Cyrl-BA":"bs-Cyrl","bs-Latn-BA":"bs-Latn",byn:"en","byn-ER":"en","ca-ES":"ca","ca-ES-valencia":"ca-ES-VALENCIA","ce-RU":"ce","cgg-UG":"cgg","chr-Cher":"chr","chr-Cher-US":"chr",co:"en","co-FR":"fr","cs-CZ":"cs","cu-RU":"cu","cy-GB":"cy","da-DK":"da","dav-KE":"dav","de-DE":"de","dje-NE":"dje","dsb-DE":"dsb","dua-CM":"dua",dv:"en","dv-MV":"en","dyo-SN":"dyo","dz-BT":"dz","ebu-KE":"ebu","ee-GH":"ee","el-GR":"el","en-029":"en","en-ID":"en","en-US":"en","eo-001":"en","es-ES":"es","et-EE":"et","eu-ES":"eu","ewo-CM":"ewo","fa-IR":"fa","ff-Latn-SN":"ff-Latn","ff-NG":"ff","fi-FI":"fi","fil-PH":"fil","fo-FO":"fo","fr-029":"fr","fr-FR":"fr","fur-IT":"fur","fy-NL":"fy","ga-IE":"ga","gd-GB":"gd","gl-ES":"gl",gn:"en","gn-PY":"en","gsw-CH":"gsw","gu-IN":"gu","guz-KE":"guz","gv-IM":"gv","ha-Latn":"ha","ha-Latn-GH":"ha-GH","ha-Latn-NE":"ha-NE","ha-Latn-NG":"ha","haw-US":"haw","he-IL":"he","hi-IN":"hi","hr-HR":"hr","hsb-DE":"hsb","hu-HU":"hu","hy-AM":"hy","ia-001":"ia","ia-FR":"ia",ibb:"en","ibb-NG":"en","id-ID":"id","ig-NG":"ig","ii-CN":"ii","is-IS":"is","it-IT":"it",iu:"en","iu-Cans":"en","iu-Cans-CA":"en","iu-Latn":"en","iu-Latn-CA":"en","ja-JP":"ja","jgo-CM":"jgo","jmc-TZ":"jmc","jv-Java":"jv","jv-Java-ID":"jv","jv-Latn":"jv","jv-Latn-ID":"jv","ka-GE":"ka","kab-DZ":"kab","kam-KE":"kam","kde-TZ":"kde","kea-CV":"kea","khq-ML":"khq","ki-KE":"ki","kk-KZ":"kk","kkj-CM":"kkj","kl-GL":"kl","kln-KE":"kln","km-KH":"km","kn-IN":"kn","ko-KR":"ko","kok-IN":"kok",kr:"en","kr-NG":"en","ks-Arab":"ks","ks-Arab-IN":"ks","ks-Deva":"ks","ks-Deva-IN":"ks","ksb-TZ":"ksb","ksf-CM":"ksf","ksh-DE":"ksh","ku-Arab":"ku","ku-Arab-IQ":"ku","ku-Arab-IR":"ku","kw-GB":"kw","ky-KG":"ky",la:"en","la-001":"en","lag-TZ":"lag","lb-LU":"lb","lg-UG":"lg","lkt-US":"lkt","ln-CD":"ln","lo-LA":"lo","lrc-IR":"lrc","lt-LT":"lt","lu-CD":"lu","luo-KE":"luo","luy-KE":"luy","lv-LV":"lv","mas-KE":"mas","mer-KE":"mer","mfe-MU":"mfe","mg-MG":"mg","mgh-MZ":"mgh","mgo-CM":"mgo","mi-NZ":"mi","mk-MK":"mk","ml-IN":"ml","mn-Cyrl":"mn","mn-MN":"mn","mn-Mong":"mn","mn-Mong-CN":"mn","mn-Mong-MN":"mn",mni:"en","mni-IN":"en",moh:"en","moh-CA":"en","mr-IN":"mr","ms-MY":"ms","mt-MT":"mt","mua-CM":"mua","my-MM":"my","mzn-IR":"mzn","naq-NA":"naq","nb-NO":"nb","nd-ZW":"nd","ne-NP":"ne","nl-NL":"nl","nmg-CM":"ngm","nn-NO":"nn","nnh-CM":"nnh",no:"en",nqo:"en","nqo-GN":"en",nr:"en","nr-ZA":"en",nso:"en","nso-ZA":"en","nus-SS":"nus","nyn-UG":"nyn",oc:"en","oc-FR":"fr","om-ET":"om","or-IN":"or","os-GE":"os","pa-Arab-PK":"pa-Arab","pa-IN":"pa",pap:"en","pap-029":"en","pl-PL":"pl","prg-001":"prg",prs:"en","prs-AF":"en","ps-AF":"ps","pt-BR":"pt",quc:"en","quc-Latn":"en","quc-Latn-GT":"en",quz:"en","quz-BO":"en","quz-EC":"en","quz-PE":"en","rm-CH":"rm","rn-BI":"rn","ro-RO":"ro","rof-TZ":"rof","ru-RU":"ru","rw-RW":"rw","rwk-TZ":"rwk",sa:"en","sa-IN":"en","sah-RU":"sah","saq-KE":"saq","sbp-TZ":"en","sd-Arab":"sd","sd-Arab-PK":"sd","sd-Deva":"sd","sd-Deva-IN":"sd","se-NO":"se","seh-MZ":"seh","ses-ML":"ses","sg-CF":"sg","shi-Latn-MA":"shi-Latn","shi-Tfng-MA":"shi-Tfng","si-LK":"si","sk-SK":"sk","sl-SI":"sl",sma:"en","sma-NO":"en","sma-SE":"en",smj:"en","smj-NO":"en","smj-SE":"en","smn-FI":"en",sms:"en","sms-FI":"en","sn-Latn":"sn","sn-Latn-ZW":"sn","so-SO":"so","sq-AL":"so","sr-Cyrl-RS":"sr-Cryl","sr-Latn-RS":"sr-Latn",ss:"en","ss-SZ":"en","ss-ZA":"en",ssy:"en","ssy-ER":"en",st:"en","st-LS":"en","st-ZA":"en","sv-SE":"sv","sw-TZ":"sw",syr:"en","syr-SY":"en","ta-IN":"ta","te-IN":"te","teo-UG":"teo","tg-Cyrl":"tg","tg-Cyrl-TJ":"tg","th-TH":"th","ti-ET":"ti",tig:"en","tig-ER":"en","tk-TM":"tk",tn:"en","tn-BW":"en","tn-ZA":"en","to-TO":"to","tr-TR":"tr",ts:"en","ts-ZA":"en","tt-RU":"tt","twq-NE":"twq","tzm-Arab":"tzm","tzm-Arab-MA":"tzm","tzm-Latn":"tzm","tzm-Latn-DZ":"tzm","tzm-Latn-MA":"tzm","tzm-Tfng":"tzm","tzm-Tfng-MA":"tzm","ug-CN":"ug","uk-UA":"uk","ur-PK":"ur","uz-Arab-AF":"uz-Arab","uz-Cyrl-UZ":"uz-Cyrl","uz-Latn-UZ":"uz-Latn","vai-Latn-LR":"vai-Latn","vai-Vaii-LR":"vai-Vaii",ve:"en","ve-ZA":"en","vi-VN":"vi","vo-001":"vo","vun-TZ":"vun","wae-CH":"wae",wal:"en","wal-ET":"en","wo-SN":"wo","xh-ZA":"xh","xog-UG":"xog","yav-CM":"yav","yi-001":"yi","yo-NG":"yo","zgh-Tfng":"zgh","zgh-Tfng-MA":"zgh","zh-CN":"zh","zh-HK":"zh","zh-MO":"zh","zh-SG":"zh","zh-TW":"zh","zu-ZA":"zu"},Rt=function(){function t(t){this.elRef=t,this.delay=0}return t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.elRef.nativeElement.focus()}),this.delay)},t}();Rt.decorators=[{type:e.Directive,args:[{selector:"[autofocus]"}]}],Rt.ctorParameters=function(){return[{type:e.ElementRef}]},Rt.propDecorators={delay:[{type:e.Input,args:["autofocus"]}]};var Ot=function(){function t(t,n){this.el=t,this.subscription=n,this.debounce=300,this.debounceEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this,e=i.fromEvent(this.el.nativeElement,"input").pipe(r.debounceTime(this.debounce));this.subscription.addOne(e,(function(e){t.debounceEvent.emit(e)}))},t}();Ot.decorators=[{type:e.Directive,args:[{selector:"[input.debounce]",providers:[Ct]}]}],Ot.ctorParameters=function(){return[{type:e.ElementRef},{type:Ct}]},Ot.propDecorators={debounce:[{type:e.Input}],debounceEvent:[{type:e.Output,args:["input.debounce"]}]};var wt=function(){function t(t,e){this.cdRef=t,this.elRef=e,this.enabled=!0}return Object.defineProperty(t.prototype,"inlineClass",{get:function(){return this.enabled&&this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this.enabled&&!this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.enabled&&this.width?this.width||"170px":void 0},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.title=this.title||this.elRef.nativeElement.innerText,this.cdRef.detectChanges()},t}();wt.decorators=[{type:e.Directive,args:[{selector:"[abpEllipsis]"}]}],wt.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},wt.propDecorators={width:[{type:e.Input,args:["abpEllipsis"]}],title:[{type:e.HostBinding,args:["title"]},{type:e.Input}],enabled:[{type:e.Input,args:["abpEllipsisEnabled"]}],inlineClass:[{type:e.HostBinding,args:["class.abp-ellipsis-inline"]}],class:[{type:e.HostBinding,args:["class.abp-ellipsis"]}],maxWidth:[{type:e.HostBinding,args:["style.max-width"]}]};var Tt=function(t,e,n,r){this.$implicit=t,this.index=e,this.count=n,this.list=r},Pt=function(t,e){this.record=t,this.view=e},kt=function(){function t(t,e,n){this.tempRef=t,this.vcRef=e,this.differs=n}return Object.defineProperty(t.prototype,"compareFn",{get:function(){return this.compareBy||h.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackByFn",{get:function(){return this.trackBy||function(t,e){return e.id||t}},enumerable:!1,configurable:!0}),t.prototype.iterateOverAppliedOperations=function(t){var e=this,n=[];t.forEachOperation((function(t,r,o){if(null==t.previousIndex){var i=e.vcRef.createEmbeddedView(e.tempRef,new Tt(null,-1,-1,e.items),o);n.push(new Pt(t,i))}else if(null==o)e.vcRef.remove(r);else{i=e.vcRef.get(r);e.vcRef.move(i,o),n.push(new Pt(t,i))}}));for(var r=0,o=n.length;r<o;r++)n[r].view.context.$implicit=n[r].record.item},t.prototype.iterateOverAttachedViews=function(t){for(var e=this,n=0,r=this.vcRef.length;n<r;n++){var o=this.vcRef.get(n);o.context.index=n,o.context.count=r,o.context.list=this.items}t.forEachIdentityChange((function(t){e.vcRef.get(t.currentIndex).context.$implicit=t.item}))},t.prototype.projectItems=function(t){if(!t.length&&this.emptyRef)return this.vcRef.clear(),this.vcRef.createEmbeddedView(this.emptyRef).rootNodes,this.isShowEmptyRef=!0,void(this.differ=null);if(this.emptyRef&&this.isShowEmptyRef&&(this.vcRef.clear(),this.isShowEmptyRef=!1),!this.differ&&t&&(this.differ=this.differs.find(t).create(this.trackByFn)),this.differ){var e=this.differ.diff(t);e&&(this.iterateOverAppliedOperations(e),this.iterateOverAttachedViews(e))}},t.prototype.sortItems=function(t){var e=this;this.orderBy?t.sort((function(t,n){return t[e.orderBy]>n[e.orderBy]?1:t[e.orderBy]<n[e.orderBy]?-1:0})):t.sort()},t.prototype.ngOnChanges=function(){var t=this,e=v.default(this.items);if(Array.isArray(e)){var n=this.compareFn;switch(void 0!==this.filterBy&&void 0!==this.filterVal&&""!==this.filterVal&&(e=e.filter((function(e){return n(e[t.filterBy],t.filterVal)}))),this.orderDir){case"ASC":this.sortItems(e),this.projectItems(e);break;case"DESC":this.sortItems(e),e.reverse(),this.projectItems(e);break;default:this.projectItems(e)}}},t}();kt.decorators=[{type:e.Directive,args:[{selector:"[abpFor]"}]}],kt.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef},{type:e.IterableDiffers}]},kt.propDecorators={items:[{type:e.Input,args:["abpForOf"]}],orderBy:[{type:e.Input,args:["abpForOrderBy"]}],orderDir:[{type:e.Input,args:["abpForOrderDir"]}],filterBy:[{type:e.Input,args:["abpForFilterBy"]}],filterVal:[{type:e.Input,args:["abpForFilterVal"]}],trackBy:[{type:e.Input,args:["abpForTrackBy"]}],compareBy:[{type:e.Input,args:["abpForCompareBy"]}],emptyRef:[{type:e.Input,args:["abpForEmptyRef"]}]};var Lt=function(){function t(t,n,r,o){this.formGroupDirective=t,this.host=n,this.cdRef=r,this.subscription=o,this.debounce=200,this.ngSubmit=new e.EventEmitter,this.executedNgSubmit=!1}return t.prototype.ngOnInit=function(){var t=this;this.subscription.addOne(this.formGroupDirective.ngSubmit,(function(){t.markAsDirty(),t.executedNgSubmit=!0}));var e=i.fromEvent(this.host.nativeElement,"keyup").pipe(r.debounceTime(this.debounce),r.filter((function(t){return!(t.target instanceof HTMLTextAreaElement)})),r.filter((function(t){return t&&"Enter"===t.key})));this.subscription.addOne(e,(function(){t.executedNgSubmit||t.host.nativeElement.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})),t.executedNgSubmit=!1}))},t.prototype.markAsDirty=function(){var t=this.formGroupDirective.form;Nt(t.controls),t.markAsDirty(),this.cdRef.detectChanges()},t}();function Nt(t){Array.isArray(t)?t.forEach((function(t){Nt(t.controls)})):Object.keys(t).forEach((function(e){t[e].markAsDirty(),t[e].updateValueAndValidity()}))}Lt.decorators=[{type:e.Directive,args:[{selector:"form[ngSubmit][formGroup]",providers:[Ct]}]}],Lt.ctorParameters=function(){return[{type:p.FormGroupDirective,decorators:[{type:e.Self}]},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:Ct}]},Lt.propDecorators={debounce:[{type:e.Input}],notValidateOnSubmit:[{type:e.Input}],ngSubmit:[{type:e.Output}]};var Dt=function(){function t(t){this.elRef=t,this.init=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.init.emit(this.elRef)},t}();Dt.decorators=[{type:e.Directive,args:[{selector:"[abpInit]"}]}],Dt.ctorParameters=function(){return[{type:e.ElementRef}]},Dt.propDecorators={init:[{type:e.Output,args:["abpInit"]}]};var _t=function(){function t(t,e,n,r,o,i){this.elRef=t,this.renderer=e,this.templateRef=n,this.vcRef=r,this.permissionService=o,this.cdRef=i}return t.prototype.check=function(){var t=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=this.permissionService.getGrantedPolicy$(this.condition).pipe(r.distinctUntilChanged()).subscribe((function(e){t.templateRef?t.initStructural(e):t.initAttribute(e),t.cdRef.detectChanges()}))},t.prototype.initStructural=function(t){this.vcRef.clear(),t&&this.vcRef.createEmbeddedView(this.templateRef)},t.prototype.initAttribute=function(t){t||this.renderer.removeChild(this.elRef.nativeElement.parentElement,this.elRef.nativeElement)},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.ngOnChanges=function(){this.check()},t}();_t.decorators=[{type:e.Directive,args:[{selector:"[abpPermission]"}]}],_t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.TemplateRef,decorators:[{type:e.Optional}]},{type:e.ViewContainerRef},{type:vt},{type:e.ChangeDetectorRef}]},_t.propDecorators={condition:[{type:e.Input,args:["abpPermission"]}]};var xt=function(){function t(t,e,n,r,o,i){var a=this;this.injector=t,this.templateRef=e,this.cfRes=n,this.vcRef=r,this.replaceableComponents=o,this.subscription=i,this.providedData={inputs:{},outputs:{}},this.context={},this.defaultComponentSubscriptions={},this.initialized=!1,this.context={initTemplate:function(t){a.resetDefaultComponent(),a.defaultComponentRef=t,a.setDefaultComponentInputs()}}}return t.prototype.ngOnInit=function(){var t=this,n=this.replaceableComponents.get$(this.data.componentKey).pipe(r.filter((function(e){return void 0===e&&(e={}),!t.initialized||!h.default(e.component,t.externalComponent)})));this.subscription.addOne(n,(function(n){if(void 0===n&&(n={}),t.vcRef.clear(),t.externalComponent=n.component,t.defaultComponentRef&&t.resetDefaultComponent(),n.component){t.setProvidedData();var r=e.Injector.create({providers:[{provide:"REPLACEABLE_DATA",useValue:t.providedData}],parent:t.injector});t.vcRef.createComponent(t.cfRes.resolveComponentFactory(n.component),0,r)}else t.vcRef.createEmbeddedView(t.templateRef,t.context);t.initialized=!0}))},t.prototype.ngOnChanges=function(t){y.default((function(){return t.data.currentValue.inputs}))&&this.defaultComponentRef&&this.setDefaultComponentInputs()},t.prototype.setDefaultComponentInputs=function(){var t=this;if(this.defaultComponentRef&&(this.data.inputs||this.data.outputs)){if(this.data.inputs)for(var e in this.data.inputs)this.data.inputs.hasOwnProperty(e)&&(h.default(this.defaultComponentRef[e],this.data.inputs[e].value)||(this.defaultComponentRef[e]=this.data.inputs[e].value));if(this.data.outputs){var n=function(e){r.data.outputs.hasOwnProperty(e)&&(r.defaultComponentSubscriptions[e]||(r.defaultComponentSubscriptions[e]=r.defaultComponentRef[e].subscribe((function(n){t.data.outputs[e](n)}))))},r=this;for(var e in this.data.outputs)n(e)}}},t.prototype.setProvidedData=function(){var t=this;this.providedData=Object.assign(Object.assign({},this.data),{inputs:{}}),this.data.inputs&&Object.defineProperties(this.providedData.inputs,Object.assign({},Object.keys(this.data.inputs).reduce((function(e,n){var r;return Object.assign(Object.assign({},e),((r={})[n]=Object.assign({enumerable:!0,configurable:!0,get:function(){return t.data.inputs[n].value}},t.data.inputs[n].twoWay&&{set:function(e){t.data.inputs[n].value=e,t.data.outputs[n+"Change"](e)}}),r))}),{})))},t.prototype.resetDefaultComponent=function(){var t=this;Object.keys(this.defaultComponentSubscriptions).forEach((function(e){t.defaultComponentSubscriptions[e].unsubscribe()})),this.defaultComponentSubscriptions={},this.defaultComponentRef=null},t}();xt.decorators=[{type:e.Directive,args:[{selector:"[abpReplaceableTemplate]",providers:[Ct]}]}],xt.ctorParameters=function(){return[{type:e.Injector},{type:e.TemplateRef},{type:e.ComponentFactoryResolver},{type:e.ViewContainerRef},{type:ft},{type:Ct}]},xt.propDecorators={data:[{type:e.Input,args:["abpReplaceableTemplate"]}]};var zt=function(){function t(t,n){this.el=t,this.subscription=n,this.stopPropEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.subscription.addOne(i.fromEvent(this.el.nativeElement,"click"),(function(e){e.stopPropagation(),t.stopPropEvent.emit(e)}))},t}();zt.decorators=[{type:e.Directive,args:[{selector:"[click.stop]",providers:[Ct]}]}],zt.ctorParameters=function(){return[{type:e.ElementRef},{type:Ct}]},zt.propDecorators={stopPropEvent:[{type:e.Output,args:["click.stop"]}]};var Mt=function(){function t(t,e){this.elRef=t,this.renderer=e,this.completed$=new i.Subject}return t.prototype.ngAfterViewInit=function(){var t,e=this;!this.focusedElement&&this.elRef&&(this.focusedElement=this.elRef.nativeElement),(t=new MutationObserver((function(t){t.forEach((function(t){t.target&&(y.default((function(){return Array.from(t.target.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM())}))}))).observe(this.focusedElement,{childList:!0}),setTimeout((function(){y.default((function(){return Array.from(e.focusedElement.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM()}),0),this.completed$.subscribe((function(){return t.disconnect()}))},t.prototype.disconnect=function(){this.completed$.next(),this.completed$.complete()},t.prototype.removeFromDOM=function(){this.elRef.nativeElement&&(this.renderer.removeChild(this.elRef.nativeElement.parentElement,this.elRef.nativeElement),this.disconnect())},t}();Mt.decorators=[{type:e.Directive,args:[{selector:"[abpVisibility]"}]}],Mt.ctorParameters=function(){return[{type:e.ElementRef,decorators:[{type:e.Optional}]},{type:e.Renderer2}]},Mt.propDecorators={focusedElement:[{type:e.Input,args:["abpVisibility"]}]};var Ft=function(){function t(t,e,n){this.oAuthService=t,this.environmentService=e,this.options=n,this.listenToSetEnvironment()}return t.prototype.listenToSetEnvironment=function(){var t=this;this.environmentService.createOnUpdateStream((function(t){return t})).pipe(r.map((function(t){return t.oAuthConfig})),r.filter((function(e){return!h.default(e,t.options.environment.oAuthConfig)}))).subscribe((function(e){t.oAuthService.configure(e)}))},t}();Ft.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Ft(e.ɵɵinject(f.OAuthService),e.ɵɵinject(W),e.ɵɵinject(_))},token:Ft,providedIn:"root"}),Ft.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Ft.ctorParameters=function(){return[{type:f.OAuthService},{type:W},{type:void 0,decorators:[{type:e.Inject,args:[_]}]}]};var $t=function(){function t(t,e){this.routes=t,this.router=e,this.addRoutes()}return t.prototype.addRoutes=function(){var t,e,n=this;null===(e=null===(t=this.router)||void 0===t?void 0:t.config)||void 0===e||e.forEach((function(t){var e=t.path,r=void 0===e?"":e,o=t.data;if(null==o?void 0:o.routes)if(Array.isArray(o.routes))n.routes.add(o.routes);else{var i=Ut([Object.assign({path:r},o.routes)],{path:""});n.routes.add(i)}}))},t}();function Ut(t,e){return t?t.reduce((function(t,n){var r=Object.assign(Object.assign({},n),{parentName:e.name,path:(e.path+"/"+n.path).replace(/\/\//g,"/")}),o=r.children,i=T(r,["children"]);return t.push.apply(t,D([i],Ut(o,i))),t}),[]):[]}function qt(t){return new URL(t).pathname}$t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new $t(e.ɵɵinject(bt),e.ɵɵinject(n.Router,8))},token:$t,providedIn:"root"}),$t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],$t.ctorParameters=function(){return[{type:bt},{type:n.Router,decorators:[{type:e.Optional}]}]};var Bt=new e.InjectionToken("LOADER_DELAY"),Gt=function(){function t(t){this.store=new K({requests:[],filteredRequests:[]}),this.destroy$=new i.Subject,this.delay=t.get(Bt,500)}return t.prototype.getLoading=function(){return!!this.applyFilter(this.store.state.requests).length},t.prototype.getLoading$=function(){var t=this;return this.store.sliceState((function(t){return t.requests})).pipe(r.map((function(e){return!!t.applyFilter(e).length})),r.switchMap((function(e){return e?0===t.delay?i.of(!0):i.timer(t.delay).pipe(r.mapTo(!0),r.takeUntil(t.destroy$)):i.of(!1)})),r.tap((function(){return t.destroy$.next()})))},t.prototype.updateLoading$=function(){var t=this;return this.store.sliceUpdate((function(e){var n=e.requests;return!!t.applyFilter(n).length}))},t.prototype.clearLoading=function(){this.store.patch({requests:[]})},t.prototype.addRequest=function(t){this.store.patch({requests:D(this.store.state.requests,[t])})},t.prototype.deleteRequest=function(t){var e=this.store.state.requests.filter((function(e){return e!==t}));this.store.patch({requests:e})},t.prototype.addFilter=function(t){var e=this,n=Array.isArray(t)?t:[t],r=D(this.store.state.filteredRequests.filter((function(t){return!n.some((function(n){return e.isSameRequest(t,n)}))})),n);this.store.patch({filteredRequests:r})},t.prototype.removeFilter=function(t){var e=this,n=Array.isArray(t)?t:[t],r=this.store.state.filteredRequests.filter((function(t){return!n.some((function(n){return e.isSameRequest(t,n)}))}));this.store.patch({filteredRequests:r})},t.prototype.applyFilter=function(t){var e=this,n=this.store.state.filteredRequests;return t.filter((function(t){var r=t.method,o=t.url;return!n.find((function(t){return e.isSameRequest(t,{method:r,endpoint:qt(o)})}))}))},t.prototype.isSameRequest=function(t,e){var n=t.method;return t.endpoint===e.endpoint&&n===e.method},t}();Gt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Gt(e.ɵɵinject(e.INJECTOR))},token:Gt,providedIn:"root"}),Gt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Gt.ctorParameters=function(){return[{type:e.Injector}]};var Vt=function(){function t(t,e,n){this.oAuthService=t,this.sessionState=e,this.httpWaitService=n}return t.prototype.intercept=function(t,e){var n=this;return this.httpWaitService.addRequest(t),e.handle(t.clone({setHeaders:this.getAdditionalHeaders(t.headers)})).pipe(r.finalize((function(){return n.httpWaitService.deleteRequest(t)})))},t.prototype.getAdditionalHeaders=function(t){var e={},n=this.oAuthService.getAccessToken();!(null==t?void 0:t.has("Authorization"))&&n&&(e.Authorization="Bearer "+n);var r=this.sessionState.getLanguage();!(null==t?void 0:t.has("Accept-Language"))&&r&&(e["Accept-Language"]=r);var o=this.sessionState.getTenant();return!(null==t?void 0:t.has("__tenant"))&&(null==o?void 0:o.id)&&(e.__tenant=o.id),e},t}();Vt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Vt(e.ɵɵinject(f.OAuthService),e.ɵɵinject(it),e.ɵɵinject(Gt))},token:Vt,providedIn:"root"}),Vt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Vt.ctorParameters=function(){return[{type:f.OAuthService},{type:it},{type:Gt}]};var Ht=function(){function t(t){this.localization=t}return t.prototype.transform=function(t){var e;void 0===t&&(t="");for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=this.localization).instant.apply(e,D([t],n.reduce((function(t,e){return Array.isArray(e)?D(t,e):D(t,[e])}),[])))},t}();Ht.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpLocalization"}]}],Ht.ctorParameters=function(){return[{type:at}]};var Zt=function(){};Zt.decorators=[{type:e.NgModule,args:[{exports:[Ht],declarations:[Ht]}]}];var Kt=function(){function t(){}return t.prototype.transform=function(t,e,n){if(void 0===e&&(e="asc"),e=e&&e.toLowerCase(),!t||"asc"!==e&&"desc"!==e)return t;var r=[],o=[];n?(r=t.filter((function(t){return"number"==typeof t[n]})).sort((function(t,e){return t[n]-e[n]})),o=t.filter((function(t){return"string"==typeof t[n]})).sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}))):(r=t.filter((function(t){return"number"==typeof t})).sort(),o=t.filter((function(t){return"string"==typeof t})).sort());var i=D(r,o,t.filter((function(t){return"number"!=typeof(n?t[n]:t)&&"string"!=typeof(n?t[n]:t)})));return"asc"===e?i:i.reverse()},t}();Kt.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpSort"}]}];var Wt=function(t){function e(e){var n=t.call(this)||this;return n.localizationService=e,n}return w(e,t),e.prototype.toString=function(){var t=this.localizationService.currentLang;return Et[t]||t},e.prototype.valueOf=function(){return this.toString()},e}(String),Yt={provide:e.LOCALE_ID,useClass:Wt,deps:[at]},Jt=function(){function t(t){this.rest=t,this.apiName="AbpIdentity"}return t.prototype.get=function(){return this.rest.request({method:"GET",url:"/api/identity/my-profile"},{apiName:this.apiName})},t.prototype.update=function(t){var e={method:"PUT",url:"/api/identity/my-profile",body:t};return this.rest.request(e,{apiName:this.apiName})},t.prototype.changePassword=function(t,e){void 0===e&&(e=!1);var n={method:"POST",url:"/api/identity/my-profile/change-password",body:t};return this.rest.request(n,{skipHandleError:e,apiName:this.apiName})},t}();Jt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Jt(e.ɵɵinject(Y))},token:Jt,providedIn:"root"}),Jt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Jt.ctorParameters=function(){return[{type:Y}]},t.ɵbd=function(){function t(t){this.profileService=t}return t.getProfile=function(t){return t.profile},t.prototype.getProfile=function(t){var e=t.patchState;return this.profileService.get().pipe(r.tap((function(t){return e({profile:t})})))},t.prototype.updateProfile=function(t,e){var n=t.patchState,o=e.payload;return this.profileService.update(o).pipe(r.tap((function(t){return n({profile:t})})))},t.prototype.changePassword=function(t,e){var n=e.payload;return this.profileService.changePassword(n,!0)},t}(),t.ɵbd.decorators=[{type:e.Injectable}],t.ɵbd.ctorParameters=function(){return[{type:Jt}]},P([u.Action(A)],t.ɵbd.prototype,"getProfile",null),P([u.Action(j)],t.ɵbd.prototype,"updateProfile",null),P([u.Action(E)],t.ɵbd.prototype,"changePassword",null),P([u.Selector()],t.ɵbd,"getProfile",null),t.ɵbd=P([u.State({name:"ProfileState",defaults:{}})],t.ɵbd);var Qt=localStorage,Xt=function(){function t(t){var e=this;this.injector=t,this.catchError=function(t){return e.store.dispatch(new R(t))},this.store=t.get(u.Store),this.environment=t.get(W),this.configState=t.get(rt),this.oAuthService=t.get(f.OAuthService),this.oAuthConfig=this.environment.getEnvironment().oAuthConfig}return t.prototype.init=function(){return k(this,void 0,void 0,(function(){return L(this,(function(t){return function(t,e){var n="abpOAuthClientId";if(!e.getItem(n))return e.setItem(n,t),!1;var r=e.getItem(n)!==t;r&&e.setItem(n,t);return r}(this.environment.getEnvironment().oAuthConfig.clientId,Qt)&&ne(Qt),this.oAuthService.configure(this.oAuthConfig),[2,this.oAuthService.loadDiscoveryDocument().catch(this.catchError)]}))}))},t}(),te=function(t){function e(){var e=t.apply(this,D(arguments))||this;return e.isInternalAuth=!1,e}return w(e,t),e.prototype.init=function(){var e=Object.create(null,{init:{get:function(){return t.prototype.init}}});return k(this,void 0,void 0,(function(){var t=this;return L(this,(function(n){return[2,e.init.call(this).then((function(){return t.oAuthService.tryLogin()})).then((function(){return t.oAuthService.hasValidAccessToken()||!t.oAuthService.getRefreshToken()?Promise.resolve():t.oAuthService.refreshToken()})).then((function(){return t.oAuthService.setupAutomaticSilentRefresh({},"access_token")}))]}))}))},e.prototype.login=function(){this.oAuthService.initCodeFlow()},e.prototype.checkIfInternalAuth=function(){return this.oAuthService.initCodeFlow(),!1},e.prototype.logout=function(){return this.oAuthService.logOut(),i.of(null)},e.prototype.destroy=function(){},e}(Xt),ee={Code:function(t){return new te(t)}};function ne(t){void 0===t&&(t=Qt);["access_token","id_token","refresh_token","nonce","PKCE_verifier","expires_at","id_token_claims_obj","id_token_expires_at","id_token_stored_at","access_token_stored_at","granted_scopes","session_state"].forEach((function(e){return t.removeItem(e)}))}Date.prototype.toLocalISOString=function(){var t=this.getTimezoneOffset();return new Date(this.getTime()-6e4*t).toISOString()};var re=function(){function t(t,e){var n=this;this.environment=t,this.injector=e,this.setStrategy=function(){var t=n.environment.getEnvironment().oAuthConfig.responseType||"password";n.flow!==t&&(n.strategy&&n.strategy.destroy(),n.flow=t,n.strategy=ee.Code(n.injector))},this.setStrategy(),this.listenToSetEnvironment()}return Object.defineProperty(t.prototype,"isInternalAuth",{get:function(){return this.strategy.isInternalAuth},enumerable:!1,configurable:!0}),t.prototype.listenToSetEnvironment=function(){this.environment.createOnUpdateStream((function(t){return t.oAuthConfig})).subscribe(this.setStrategy)},t.prototype.init=function(){return k(this,void 0,void 0,(function(){return L(this,(function(t){switch(t.label){case 0:return[4,this.strategy.init()];case 1:return[2,t.sent()]}}))}))},t.prototype.logout=function(){return this.strategy.logout()},t.prototype.initLogin=function(){this.strategy.login()},t}();function oe(t,e){var n=t.get(W),o=e.remoteEnv,i=o||{},s=i.headers,c=void 0===s?{}:s,p=i.method,f=void 0===p?"GET":p,l=i.url;if(!l)return Promise.resolve();var d=t.get(a.HttpClient),h=t.get(u.Store);return d.request(f,l,{headers:c}).pipe(r.catchError((function(t){return h.dispatch(new R(t))})),r.tap((function(t){return n.setState(function(t,e,n){switch(n.mergeStrategy){case"deepmerge":return H(t,e);case"overwrite":case null:case void 0:return e;default:return n.mergeStrategy(t,e)}}(e,t,o))}))).toPromise()}re.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new re(e.ɵɵinject(W),e.ɵɵinject(e.INJECTOR))},token:re,providedIn:"root"}),re.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],re.ctorParameters=function(){return[{type:W},{type:e.Injector}]};var ie=function(t){var e=this;this.restService=t,this.apiName="abp",this.findTenantById=function(t){return e.restService.request({method:"GET",url:"/api/abp/multi-tenancy/tenants/by-id/"+t},{apiName:e.apiName})},this.findTenantByName=function(t,n){return e.restService.request({method:"GET",url:"/api/abp/multi-tenancy/tenants/by-name/"+t,headers:n},{apiName:e.apiName})}};ie.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ie(e.ɵɵinject(Y))},token:ie,providedIn:"root"}),ie.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ie.ctorParameters=function(){return[{type:Y}]};var ae=function(){function t(t,e){this.restService=t,this.sessionState=e,this._domainTenant=null,this.isTenantBoxVisible=!0,this.apiName="abp"}return Object.defineProperty(t.prototype,"domainTenant",{get:function(){return this._domainTenant},set:function(t){this._domainTenant=t,this.sessionState.setTenant(t)},enumerable:!1,configurable:!0}),t.prototype.findTenantByName=function(t,e){return this.restService.request({url:"/api/abp/multi-tenancy/tenants/by-name/"+t,method:"GET",headers:e},{apiName:this.apiName})},t.prototype.findTenantById=function(t,e){return this.restService.request({url:"/api/abp/multi-tenancy/tenants/by-id/"+t,method:"GET",headers:e},{apiName:this.apiName})},t}();ae.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ae(e.ɵɵinject(Y),e.ɵɵinject(it))},token:ae,providedIn:"root"}),ae.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ae.ctorParameters=function(){return[{type:Y},{type:it}]};var ue="{0}";function se(t){var e,n;return k(this,void 0,void 0,(function(){var o,a,u,s,c;return L(this,(function(p){return o=t.get(W),a=t.get(ae),u=t.get(ie),s=(null===(n=null===(e=o.getEnvironment())||void 0===e?void 0:e.application)||void 0===n?void 0:n.baseUrl)||"",(c=function(t){var e;"/"!==t.charAt(t.length-1)&&(t+="/");var n=et(t),r=ue.replace(/[}{]/g,"");return null===(e=n(window.location.href)[r])||void 0===e?void 0:e[0]}(s))?(a.isTenantBoxVisible=!1,function(t,e){var n=t.get(W),r=v.default(n.getEnvironment());r.application.baseUrl&&(r.application.baseUrl=r.application.baseUrl.replace(ue,e));r.oAuthConfig.redirectUri&&(r.oAuthConfig.redirectUri=r.oAuthConfig.redirectUri.replace(ue,e));r.oAuthConfig.issuer=r.oAuthConfig.issuer.replace(ue,e),Object.keys(r.apis).forEach((function(t){Object.keys(r.apis[t]).forEach((function(n){r.apis[t][n]=r.apis[t][n].replace(ue,e)}))})),n.setState(r)}(t,c),[2,i.of(null).pipe(r.switchMap((function(){return u.findTenantByName(c,{__tenant:""})})),r.tap((function(t){a.domainTenant=t.success?{id:t.tenantId,name:t.name}:null}))).toPromise()]):[2,Promise.resolve()]}))}))}function ce(t){var e=this;return function(){return k(e,void 0,void 0,(function(){var e,n,o,i;return L(this,(function(a){switch(a.label){case 0:return e=t.get(W),n=t.get(rt),o=t.get(J),i=t.get(_),e.setState(i.environment),[4,oe(t,i.environment)];case 1:return a.sent(),[4,se(t)];case 2:return a.sent(),[4,t.get(re).init()];case 3:return a.sent(),i.skipGetAppConfiguration?[2]:[2,o.get().pipe(r.tap((function(t){return n.setState(t)})),r.tap((function(){return pe(t)})),r.tap((function(){var e=n.getOne("currentTenant");t.get(it).setTenant(e)}))).toPromise()]}}))}))}}function pe(t){var e=t.get(rt);t.get(f.OAuthService).hasValidAccessToken()&&!e.getDeep("currentUser.id")&&ne()}function fe(t){return function(){var e=t.get(it),n=t.get(_).registerLocaleFn,r=e.getLanguage()||"en";return new Promise((function(t,e){n(r).then((function(e){return(null==e?void 0:e.default)&&o.registerLocaleData(e.default),t("resolved")}),e)}))}}function le(){return Qt}var de=function(){};de.decorators=[{type:e.NgModule,args:[{exports:[o.CommonModule,a.HttpClientModule,p.FormsModule,p.ReactiveFormsModule,n.RouterModule,Zt,g,Rt,It,wt,kt,Lt,Dt,Ot,_t,At,xt,jt,Kt,zt,Mt],imports:[f.OAuthModule,o.CommonModule,a.HttpClientModule,p.FormsModule,p.ReactiveFormsModule,n.RouterModule,Zt],declarations:[g,Rt,It,wt,kt,Lt,Dt,Ot,_t,At,xt,jt,Kt,zt,Mt],providers:[Ht],entryComponents:[jt,It,At]}]}];var he=function(){};he.decorators=[{type:e.NgModule,args:[{exports:[de,Zt],imports:[de,Zt,u.NgxsModule.forFeature([t.ɵbd]),f.OAuthModule.forRoot(),a.HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"RequestVerificationToken"})]}]}];var ye=function(){function t(){}return t.forRoot=function(t){return void 0===t&&(t={}),{ngModule:he,providers:[Yt,{provide:"CORE_OPTIONS",useValue:t},{provide:_,useFactory:x,deps:["CORE_OPTIONS"]},{provide:a.HTTP_INTERCEPTORS,useExisting:Vt,multi:!0},{provide:e.APP_INITIALIZER,multi:!0,deps:[Ft],useFactory:z},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:ce},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:fe},{provide:e.APP_INITIALIZER,multi:!0,deps:[at],useFactory:z},{provide:e.APP_INITIALIZER,multi:!0,deps:[$t],useFactory:z},{provide:f.OAuthStorage,useFactory:le}]}},t}();ye.decorators=[{type:e.NgModule,args:[{exports:[de],imports:[de]}]}];var ve=function(){function t(t,e){this.oauthService=t,this.authService=e}return t.prototype.canActivate=function(){return!!this.oauthService.hasValidAccessToken()||(this.authService.initLogin(),!1)},t}();ve.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ve(e.ɵɵinject(f.OAuthService),e.ɵɵinject(re))},token:ve,providedIn:"root"}),ve.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ve.ctorParameters=function(){return[{type:f.OAuthService},{type:re}]};var ge=function(){function t(t,e,n,r){this.router=t,this.routesService=e,this.store=n,this.permissionService=r}return t.prototype.canActivate=function(t,e){var n=this,o=(t.data||{}).requiredPolicy;if(!o){var a=st(this.routesService,ct(this.router,e.url));o=null==a?void 0:a.requiredPolicy}return o?this.permissionService.getGrantedPolicy$(o).pipe(r.tap((function(t){t||n.store.dispatch(new R({status:403}))}))):i.of(!0)},t}();ge.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ge(e.ɵɵinject(n.Router),e.ɵɵinject(bt),e.ɵɵinject(u.Store),e.ɵɵinject(vt))},token:ge,providedIn:"root"}),ge.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ge.ctorParameters=function(){return[{type:n.Router},{type:bt},{type:u.Store},{type:vt}]};var me=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},be=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(me),Se=function(t){for(var e in void 0===t&&(t={}),this.maxResultCount=10,t)t.hasOwnProperty(e)&&void 0!==t[e]&&(this[e]=t[e])},Ce=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Se),Ie=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Ce),Ae=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},je=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Ae),Ee=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(je),Re=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(je),Oe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Re),we=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Re),Te=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(we),Pe=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},ke=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Pe),Le=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(ke),Ne=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Le),De=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Ne),_e=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Le),xe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(Ne),ze=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return w(e,t),e}(xe),Me=function(){function t(t){this.rest=t}return t.prototype.getConfiguration=function(){return this.rest.request({method:"GET",url:"/api/abp/application-configuration"},{})},t}();Me.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Me(e.ɵɵinject(Y))},token:Me,providedIn:"root"}),Me.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Me.ctorParameters=function(){return[{type:Y}]};var Fe=function(){function t(t){this.injector=t}return t.prototype.projectContent=function(t,e){return void 0===e&&(e=this.injector),t.injectContent(e)},t}();Fe.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Fe(e.ɵɵinject(e.INJECTOR))},token:Fe,providedIn:"root"}),Fe.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Fe.ctorParameters=function(){return[{type:e.Injector}]};var $e=function(t){function n(e){var n=t.call(this)||this;return n.moduleWithProviders=e,n}return w(n,t),Object.defineProperty(n.prototype,"moduleType",{get:function(){return this.moduleWithProviders.ngModule},enumerable:!1,configurable:!0}),n.prototype.create=function(t){var n=e.Injector.create({parent:t,providers:this.moduleWithProviders.providers});return n.get(e.Compiler).compileModuleSync(this.moduleType).create(n)},n}(e.NgModuleFactory);function Ue(t){return t==Number(t)}function qe(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}var Be=function(){function t(t,e){this.crossorigin=t,this.integrity=e}return t.prototype.setCrossOrigin=function(t){this.integrity&&t.setAttribute("integrity",this.integrity),t.setAttribute("crossorigin",this.crossorigin)},t}(),Ge={Anonymous:function(t){return new Be("anonymous",t)},UseCredentials:function(t){return new Be("use-credentials",t)}},Ve=function(){function t(t,e){void 0===t&&(t=document.head),void 0===e&&(e="beforeend"),this.target=t,this.position=e}return t.prototype.insertElement=function(t){this.target.insertAdjacentElement(this.position,t)},t}(),He={AfterElement:function(t){return new Ve(t,"afterend")},AppendToBody:function(){return new Ve(document.body,"beforeend")},AppendToHead:function(){return new Ve(document.head,"beforeend")},BeforeElement:function(t){return new Ve(t,"beforebegin")},PrependToHead:function(){return new Ve(document.head,"afterbegin")}};function Ze(t,e,n){return void 0===e&&(e=He.AppendToHead()),void 0===n&&(n=Ge.Anonymous()),n.setCrossOrigin(t),e.insertElement(t),new i.Observable((function(e){t.onload=function(n){Ke(t),e.next(n),e.complete()};var n=function(t,e){return function(n){Ke(e),e.parentNode.removeChild(e),t.error(n)}}(e,t);return t.onerror=n,t.onabort=n,t.onemptied=n,t.onstalled=n,t.onsuspend=n,function(){Ke(t),e.complete()}}))}function Ke(t){t.onload=null,t.onerror=null,t.onabort=null,t.onemptied=null,t.onstalled=null,t.onsuspend=null}function We(t){return"function"==typeof t}var Ye=function(){function t(){this.inserted=new Set}return t.prototype.insertContent=function(t){var e=qe(t.content);if(!this.inserted.has(e)){var n=t.insertElement();return this.inserted.add(e),n}},t.prototype.removeContent=function(t){var e=qe(t.textContent);this.inserted.delete(e),t.parentNode.removeChild(t)},t.prototype.has=function(t){var e=qe(t);return this.inserted.has(e)},t}();Ye.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Ye},token:Ye,providedIn:"root"}),Ye.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Je=function(){function t(){this.store=new K({resources:new Set})}return t.prototype.getLoading=function(){return!!this.store.state.resources.size},t.prototype.getLoading$=function(){return this.store.sliceState((function(t){return!!t.resources.size}))},t.prototype.updateLoading$=function(){return this.store.sliceUpdate((function(t){return!!t.resources.size}))},t.prototype.clearLoading=function(){this.store.patch({resources:new Set})},t.prototype.addResource=function(t){var e=this.store.state.resources;e.add(t),this.store.patch({resources:e})},t.prototype.deleteResource=function(t){var e=this.store.state.resources;e.delete(t),this.store.patch({resources:e})},t}();Je.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Je},token:Je,providedIn:"root"}),Je.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Qe=function(){function t(t){this.resourceWaitService=t,this.loaded=new Map}return t.prototype.load=function(t,e,n){var o=this;return this.loaded.has(t.path)?i.of(new CustomEvent("load")):(this.resourceWaitService.addResource(t.path),t.createStream().pipe(r.retryWhen((function(t){return i.concat(t.pipe(r.delay(n),r.take(e)),i.throwError(new CustomEvent("error")))})),r.tap((function(){o.loaded.set(t.path,t.element),o.resourceWaitService.deleteResource(t.path)})),r.delay(100),r.shareReplay({bufferSize:1,refCount:!0})))},t.prototype.remove=function(t){var e=this.loaded.get(t);return!!e&&(e.parentNode.removeChild(e),this.loaded.delete(t),!0)},t}();Qe.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Qe(e.ɵɵinject(Je))},token:Qe,providedIn:"root"}),Qe.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Qe.ctorParameters=function(){return[{type:Je}]};var Xe,tn=new e.InjectionToken("LIST_QUERY_DEBOUNCE_TIME"),en=function(){function t(t){var e=this;this._filter="",this._maxResultCount=10,this._skipCount=0,this._page=0,this._sortKey="",this._sortOrder="",this._query$=new i.ReplaySubject(1),this._isLoading$=new i.BehaviorSubject(!1),this.destroy$=new i.Subject,this.get=function(){e.resetPageWhenUnchanged(),e._query$.next({filter:e._filter||void 0,maxResultCount:e._maxResultCount,skipCount:e._page*e._maxResultCount,sorting:e._sortOrder?e._sortKey+" "+e._sortOrder:void 0})};var n=t.get(tn,300);this.delay=n?r.debounceTime(n):r.tap(),this.get()}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxResultCount",{get:function(){return this._maxResultCount},set:function(t){this._maxResultCount=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(t){t!==this._page&&(this._page=t,this.get())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortKey",{get:function(){return this._sortKey},set:function(t){this._sortKey=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(t){this._sortOrder=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"query$",{get:function(){return this._query$.asObservable().pipe(this.delay,r.shareReplay({bufferSize:1,refCount:!0}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading$",{get:function(){return this._isLoading$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.hookToQuery=function(t){var e=this;return this._isLoading$.next(!0),this.query$.pipe(r.switchMap((function(e){return t(e).pipe(r.catchError((function(){return i.of(null)})))})),r.filter(Boolean),r.tap((function(){return e._isLoading$.next(!1)})),r.shareReplay({bufferSize:1,refCount:!0}),r.takeUntil(this.destroy$))},t.prototype.ngOnDestroy=function(){this.destroy$.next()},t.prototype.resetPageWhenUnchanged=function(){var t=this._page*this._maxResultCount;t===this._skipCount?(this._page=0,this._skipCount=0):this._skipCount=t},t}();en.decorators=[{type:e.Injectable}],en.ctorParameters=function(){return[{type:e.Injector}]},t.ConfigState=Xe=function(){function t(t,e,n,r,o){this.http=t,this.store=e,this.sessionState=n,this.environmentService=r,this.configState=o,this.syncConfigState(),this.syncEnvironment()}return t.getAll=function(t){return t},t.getApplicationInfo=function(t){return t.environment.application||{}},t.getEnvironment=function(t){return t.environment},t.getOne=function(t){return u.createSelector([Xe],(function(e){return e[t]}))},t.getDeep=function(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return u.createSelector([Xe],(function(e){return t.reduce((function(t,e){if(t)return t[e]}),e)}))},t.getApiUrl=function(t){return u.createSelector([Xe],(function(e){return(e.environment.apis[t||"default"]||e.environment.apis.default).url}))},t.getFeature=function(t){return u.createSelector([Xe],(function(e){return y.default((function(){return e.features.values[t]}))}))},t.getSetting=function(t){return u.createSelector([Xe],(function(e){return y.default((function(){return e.setting.values[t]}))}))},t.getSettings=function(t){return u.createSelector([Xe],(function(e){var n=y.default((function(){return e.setting.values}),{});return t?Object.keys(n).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,e){return t[e]=n[e],t}),{}):n}))},t.getGrantedPolicy=function(t){return u.createSelector([Xe],(function(e){if(!t)return!0;var n,r=function(t){return y.default((function(){return e.auth.grantedPolicies[t]}),!1)};return/\|\|/g.test(t)?!((n=t.split("||").filter(Boolean)).length<2)&&n.some((function(t){return r(t.trim())})):/&&/g.test(t)?!((n=t.split("&&").filter(Boolean)).length<2)&&n.every((function(t){return r(t.trim())})):r(t)}))},t.getLocalizationResource=function(t){return u.createSelector([Xe],(function(e){return e.localization.values[t]}))},t.getLocalization=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t||(t=""),"string"!=typeof t&&(e=t.defaultValue,t=t.key);var o=t.split("::"),i=u.createSelector([Xe],(function(r){var i=function(t){r.environment.production||console.warn(t)};if(o.length<2)return i("The localization source separator (::) not found."),e||t;if(!r.localization)return e||o[1];var a=o[0]||y.default((function(){return r.environment.localization.defaultResourceName}))||r.localization.defaultResourceName,u=o[1];if("_"===a)return e||u;if(!a)return i("Localization source name is not specified and the defaultResourceName was not defined!"),e||u;var s=r.localization.values[a];if(!s)return i("Could not find localization source: "+a),e||u;var c=s[u];return void 0===c?e||u:(n=n.filter((function(t){return null!=t})),c&&(c=nt(c,n)),"string"!=typeof c&&(c=""),c||e||t)}));return i},t.prototype.syncConfigState=function(){var t=this;this.configState.createOnUpdateStream((function(t){return t})).pipe(r.distinctUntilChanged(h.default)).subscribe((function(e){return t.store.dispatch(new S(e))}))},t.prototype.syncEnvironment=function(){var t=this;this.environmentService.createOnUpdateStream((function(t){return t})).pipe(r.distinctUntilChanged(h.default)).subscribe((function(e){return t.store.dispatch(new S({environment:e}))}))},t.prototype.addData=function(t){var e=this,n=(t.patchState,t.dispatch),o=this.store.selectSnapshot(Xe.getApiUrl("default"));return this.http.get(o+"/api/abp/application-configuration").pipe(r.tap((function(t){return e.configState.setState(t)})),r.catchError((function(t){return n(new R(t)),i.throwError(t)})))},t.prototype.setEnvironment=function(t,e){var n=e.environment;return this.environmentService.setState(n)},t.prototype.setConfig=function(t,e){var n=t.patchState,r=t.getState,o=e.state;n(Object.assign(Object.assign({},r()),o))},t}(),t.ConfigState.decorators=[{type:e.Injectable}],t.ConfigState.ctorParameters=function(){return[{type:a.HttpClient},{type:u.Store},{type:it},{type:W},{type:rt}]},P([u.Action(m)],t.ConfigState.prototype,"addData",null),P([u.Action(b)],t.ConfigState.prototype,"setEnvironment",null),P([u.Action(S)],t.ConfigState.prototype,"setConfig",null),P([u.Selector()],t.ConfigState,"getAll",null),P([u.Selector()],t.ConfigState,"getApplicationInfo",null),P([u.Selector()],t.ConfigState,"getEnvironment",null),t.ConfigState=Xe=P([u.State({name:"ConfigState",defaults:{}})],t.ConfigState);var nn=function(){function e(t){this.store=t}return e.prototype.getProfile=function(){return this.store.selectSnapshot(t.ɵbd.getProfile)},e.prototype.dispatchGetProfile=function(){return this.store.dispatch(new A)},e.prototype.dispatchUpdateProfile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(j.bind.apply(j,D([void 0],t))))},e.prototype.dispatchChangePassword=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(E.bind.apply(E,D([void 0],t))))},e}();nn.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new nn(e.ɵɵinject(u.Store))},token:nn,providedIn:"root"}),nn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],nn.ctorParameters=function(){return[{type:u.Store}]};var rn=function(){function t(t,e){var o=this;this.router=t,this.store=new K({loading:!1}),this.destroy$=new i.Subject,this.delay=e.get(Bt,500),this.router.events.pipe(r.filter((function(t){return t instanceof n.NavigationStart||t instanceof n.NavigationEnd||t instanceof n.NavigationError||t instanceof n.NavigationCancel})),r.map((function(t){return t instanceof n.NavigationStart})),r.switchMap((function(t){return t?0===o.delay?i.of(!0):i.timer(o.delay||0).pipe(r.mapTo(!0),r.takeUntil(o.destroy$)):i.of(!1)})),r.tap((function(){return o.destroy$.next()}))).subscribe((function(t){o.setLoading(t)}))}return t.prototype.getLoading=function(){return this.store.state.loading},t.prototype.getLoading$=function(){return this.store.sliceState((function(t){return t.loading}))},t.prototype.updateLoading$=function(){return this.store.sliceUpdate((function(t){return t.loading}))},t.prototype.setLoading=function(t){this.store.patch({loading:t})},t}();rn.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new rn(e.ɵɵinject(n.Router),e.ɵɵinject(e.INJECTOR))},token:rn,providedIn:"root"}),rn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],rn.ctorParameters=function(){return[{type:n.Router},{type:e.Injector}]};var on=function(t){return function(e,n){return n[t]}},an=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){return t.reduce((function(t,e){return t[e]}),n)}},un=function(){this.by=on,this.byDeep=an};un.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new un},token:un,providedIn:"root"}),un.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var sn=function(){function t(t){this.containerRef=t}return t.prototype.prepare=function(){},t}(),cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.getIndex=function(){return 0},e.prototype.prepare=function(){this.containerRef.clear()},e}(sn),pn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.index=n,r}return w(e,t),e.prototype.getIndex=function(){return Math.min(Math.max(0,this.index),this.containerRef.length)},e}(sn),fn={Clear:function(t){return new cn(t)},Append:function(t){return new pn(t,t.length)},Prepend:function(t){return new pn(t,0)},Insert:function(t,e){return new pn(t,e)}},ln=function(t){this.nonce=t},dn=function(t){function e(e){return t.call(this,e)||this}return w(e,t),e.prototype.applyCSP=function(t){t.setAttribute("nonce",this.nonce)},e}(ln),hn=function(t){function e(){return t.call(this)||this}return w(e,t),e.prototype.applyCSP=function(t){},e}(ln),yn={Loose:function(t){return new dn(t)},None:function(){return new hn}},vn=function(){function t(t,e,n){void 0===e&&(e=He.AppendToHead()),void 0===n&&(n=yn.None()),this.content=t,this.domStrategy=e,this.contentSecurityStrategy=n}return t.prototype.insertElement=function(){var t=this.createElement();return this.contentSecurityStrategy.applyCSP(t),this.domStrategy.insertElement(t),t},t}(),gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.createElement=function(){var t=document.createElement("style");return t.textContent=this.content,t},e}(vn),mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.textContent=this.content,t},e}(vn),bn={AppendScriptToBody:function(t){return new mn(t,He.AppendToBody())},AppendScriptToHead:function(t){return new mn(t,He.AppendToHead())},AppendStyleToHead:function(t){return new gn(t,He.AppendToHead())},PrependStyleToHead:function(t){return new gn(t,He.PrependToHead())}},Sn=function(){function t(t){this.context=t}return t.prototype.setContext=function(t){return this.context},t}(),Cn=function(t){function e(){return t.call(this,void 0)||this}return w(e,t),e}(Sn),In=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.setContext=function(t){var e=this;return Object.keys(this.context).forEach((function(n){return t.instance[n]=e.context[n]})),t.changeDetectorRef.detectChanges(),this.context},e}(Sn),An=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.setContext=function(){return this.context},e}(Sn),jn={None:function(){return new Cn},Component:function(t){return new In(t)},Template:function(t){return new An(t)}},En=function(){function t(t,e,n){void 0===e&&(e=He.AppendToHead()),void 0===n&&(n=Ge.Anonymous()),this.path=t,this.domStrategy=e,this.crossOriginStrategy=n}return t.prototype.createStream=function(){var t=this;return this.element=this.createElement(),i.of(null).pipe(r.switchMap((function(){return Ze(t.element,t.domStrategy,t.crossOriginStrategy)})))},t}(),Rn=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return w(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.src=this.path,t},e}(En),On=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return w(e,t),e.prototype.createElement=function(){var t=document.createElement("link");return t.rel="stylesheet",t.href=this.path,t},e}(En),wn={AppendAnonymousScriptToBody:function(t,e){return new Rn(t,He.AppendToBody(),Ge.Anonymous(e))},AppendAnonymousScriptToHead:function(t,e){return new Rn(t,He.AppendToHead(),Ge.Anonymous(e))},AppendAnonymousStyleToHead:function(t,e){return new On(t,He.AppendToHead(),Ge.Anonymous(e))},PrependAnonymousScriptToHead:function(t,e){return new Rn(t,He.PrependToHead(),Ge.Anonymous(e))},PrependAnonymousStyleToHead:function(t,e){return new On(t,He.PrependToHead(),Ge.Anonymous(e))}},Tn=function(t){this.content=t},Pn=function(t){function n(e,n,r){void 0===r&&(r=jn.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return w(n,t),n.prototype.injectContent=function(t){this.containerStrategy.prepare();var n=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content),r=this.containerStrategy.containerRef.createComponent(n,this.containerStrategy.getIndex(),t);return this.contextStrategy.setContext(r),r},n}(Tn),kn=function(t){function n(e,n,r){void 0===n&&(n=jn.None()),void 0===r&&(r=He.AppendToBody());var o=t.call(this,e)||this;return o.contextStrategy=n,o.domStrategy=r,o}return w(n,t),n.prototype.injectContent=function(t){var n=t.get(e.ApplicationRef),r=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content).create(t);this.contextStrategy.setContext(r),n.attachView(r.hostView);var o=r.hostView.rootNodes[0];return this.domStrategy.insertElement(o),r},n}(Tn),Ln=function(t){function e(e,n,r){void 0===r&&(r=jn.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return w(e,t),e.prototype.injectContent=function(){this.containerStrategy.prepare();var t=this.containerStrategy.containerRef.createEmbeddedView(this.content,this.contextStrategy.context,this.containerStrategy.getIndex());return t.detectChanges(),t},e}(Tn),Nn={AppendComponentToBody:function(t,e){return new kn(t,e&&jn.Component(e))},AppendComponentToContainer:function(t,e,n){return new Pn(t,fn.Append(e),n&&jn.Component(n))},AppendTemplateToContainer:function(t,e,n){return new Ln(t,fn.Append(e),n&&jn.Template(n))},PrependComponentToContainer:function(t,e,n){return new Pn(t,fn.Prepend(e),n&&jn.Component(n))},PrependTemplateToContainer:function(t,e,n){return new Ln(t,fn.Prepend(e),n&&jn.Template(n))},ProjectComponentToContainer:function(t,e,n){return new Pn(t,fn.Clear(e),n&&jn.Component(n))},ProjectTemplateToContainer:function(t,e,n){return new Ln(t,fn.Clear(e),n&&jn.Template(n))}};function Dn(t){var e=(void 0===t?{}:t).age,n=void 0===e?18:e;return function(t){return["",null,void 0].indexOf(t.value)>-1?null:(e=t.value,r=n,(o=new Date).setFullYear(o.getFullYear()-r),o.setHours(23,59,59,999),Number(new Date(e))<=o.valueOf()?null:{minAge:{age:n}});var e,r,o}}function _n(){return function(t){return["",null,void 0].indexOf(t.value)>-1||function(t){if(t=t.replace(/[ -]/g,""),!/^[0-9]{13,19}$/.test(t))return!1;for(var e=0,n=1,r=t.length;r>0;r--){var o=Number(t[r-1])*n;e+=o%10+~~(o/10),n=2*n%3}return e%10==0}(String(t.value))?null:{creditCard:!0}}}function xn(t){var e=void 0===t?{}:t,n=e.maximum,r=void 0===n?1/0:n,o=e.minimum,i=void 0===o?0:o;return function(t){if(["",null,void 0].indexOf(t.value)>-1)return null;var e=Number(t.value);return function(t,e,n){return t<e?{range:{min:e,max:n}}:null}(e,i,r)||function(t,e,n){return t>e?{range:{max:e,min:n}}:null}(e,r,i)}}function zn(t){var e=(void 0===t?{}:t).allowEmptyStrings;return function(t){return function(t,e){return!(!t&&0!==t&&!1!==t)||!(!e||""!==t)}(t.value,e)?null:{required:!0}}}function Mn(t){var e=void 0===t?{}:t,n=e.maximumLength,r=void 0===n?1/0:n,o=e.minimumLength,i=void 0===o?0:o;return function(t){if(["",null,void 0].indexOf(t.value)>-1)return null;var e=String(t.value);return function(t,e){return t.length<e?{minlength:{requiredLength:e}}:null}(e,i)||function(t,e){return t.length>e?{maxlength:{requiredLength:e}}:null}(e,r)}}function Fn(){return function(t){return["",null,void 0].indexOf(t.value)>-1||function(t){if(/^http(s)?:\/\/[^/]/.test(t)||/^ftp:\/\/[^/]/.test(t)){var e=document.createElement("a");return e.href=t,!!e.host}return!1}(t.value)?null:{url:!0}}}var $n=function(){return p.Validators.email},Un={creditCard:_n,emailAddress:$n,minAge:Dn,range:xn,required:zn,stringLength:Mn,url:Fn},qn=function(t){var e=this;this.restService=t,this.apiName="abp",this.getByModel=function(t){return e.restService.request({method:"GET",url:"/api/abp/api-definition",params:{includeTypes:t.includeTypes}},{apiName:e.apiName})}};qn.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new qn(e.ɵɵinject(Y))},token:qn,providedIn:"root"}),qn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],qn.ctorParameters=function(){return[{type:Y}]};var Bn=Object.freeze({__proto__:null});t.AUTH_FLOW_STRATEGY=ee,t.AbpApiDefinitionService=qn,t.AbpApplicationConfigurationService=J,t.AbpTenantService=ie,t.AbpValidators=Un,t.AbstractNavTreeService=mt,t.AbstractNgModelComponent=g,t.AbstractTreeService=gt,t.ApiInterceptor=Vt,t.ApplicationConfigurationService=Me,t.AuditedEntityDto=Re,t.AuditedEntityWithUserDto=Oe,t.AuthCodeFlowStrategy=te,t.AuthFlowStrategy=Xt,t.AuthGuard=ve,t.AuthService=re,t.AutofocusDirective=Rt,t.BaseCoreModule=de,t.BaseTreeNode=dt,t.CONTAINER_STRATEGY=fn,t.CONTENT_SECURITY_STRATEGY=yn,t.CONTENT_STRATEGY=bn,t.CONTEXT_STRATEGY=jn,t.CORE_OPTIONS=_,t.CROSS_ORIGIN_STRATEGY=Ge,t.ChangePassword=E,t.ClearContainerStrategy=cn,t.ComponentContextStrategy=In,t.ComponentProjectionStrategy=Pn,t.ConfigStateService=rt,t.ContainerStrategy=sn,t.ContentProjectionService=Fe,t.ContentSecurityStrategy=ln,t.ContentStrategy=vn,t.ContextStrategy=Sn,t.CoreModule=ye,t.CreationAuditedEntityDto=je,t.CreationAuditedEntityWithUserDto=Ee,t.CrossOriginStrategy=Be,t.DOM_STRATEGY=He,t.DomInsertionService=Ye,t.DomStrategy=Ve,t.DynamicLayoutComponent=It,t.EllipsisDirective=wt,t.EntityDto=Ae,t.EnvironmentService=W,t.ExtensibleAuditedEntityDto=Ne,t.ExtensibleAuditedEntityWithUserDto=De,t.ExtensibleCreationAuditedEntityDto=Le,t.ExtensibleCreationAuditedEntityWithUserDto=_e,t.ExtensibleEntityDto=ke,t.ExtensibleFullAuditedEntityDto=xe,t.ExtensibleFullAuditedEntityWithUserDto=ze,t.ExtensibleObject=Pe,t.ForDirective=kt,t.FormSubmitDirective=Lt,t.FullAuditedEntityDto=we,t.FullAuditedEntityWithUserDto=Te,t.GetAppConfiguration=m,t.GetProfile=A,t.HttpWaitService=Gt,t.InitDirective=Dt,t.InputEventDebounceDirective=Ot,t.InsertIntoContainerStrategy=pn,t.InternalStore=K,t.LIST_QUERY_DEBOUNCE_TIME=tn,t.LOADER_DELAY=Bt,t.LOADING_STRATEGY=wn,t.LazyLoadService=Qe,t.LazyModuleFactory=$e,t.LimitedResultRequestDto=Se,t.ListResultDto=me,t.ListService=en,t.LoadingStrategy=En,t.LocalizationModule=Zt,t.LocalizationPipe=Ht,t.LocalizationService=at,t.LooseContentSecurityStrategy=dn,t.MultiTenancyService=ae,t.NoContentSecurityStrategy=hn,t.NoContextStrategy=Cn,t.ObjectExtending=Bn,t.PROJECTION_STRATEGY=Nn,t.PagedAndSortedResultRequestDto=Ie,t.PagedResultDto=be,t.PagedResultRequestDto=Ce,t.PermissionDirective=_t,t.PermissionGuard=ge,t.PermissionService=vt,t.ProfileService=Jt,t.ProfileState=t.ɵbd,t.ProfileStateService=nn,t.ProjectionStrategy=Tn,t.ReplaceableComponentsService=ft,t.ReplaceableRouteContainerComponent=At,t.ReplaceableTemplateDirective=xt,t.ResourceWaitService=Je,t.RestOccurError=R,t.RestService=Y,t.RootComponentProjectionStrategy=kn,t.RootCoreModule=he,t.RouterOutletComponent=jt,t.RouterWaitService=rn,t.RoutesService=bt,t.ScriptContentStrategy=mn,t.ScriptLoadingStrategy=Rn,t.SessionStateService=it,t.SetEnvironment=b,t.SettingTabsService=St,t.SortPipe=Kt,t.StartLoader=C,t.StopLoader=I,t.StopPropagationDirective=zt,t.StyleContentStrategy=gn,t.StyleLoadingStrategy=On,t.SubscriptionService=Ct,t.TemplateContextStrategy=An,t.TemplateProjectionStrategy=Ln,t.TrackByService=un,t.UpdateProfile=j,t.VisibilityDirective=Mt,t.checkAccessToken=pe,t.clearOAuthStorage=ne,t.coreOptionsFactory=x,t.createLocalizationPipeKeyGenerator=function(t){var e=tt(t);return function(t,n,r){var o=e(t,n),i=o.resourceName,a=o.key;return i?"_"===i?a:i+"::"+a:r}},t.createLocalizer=Q,t.createLocalizerWithFallback=X,t.createMapFromList=yt,t.createTokenParser=et,t.createTreeFromList=ht,t.deepMerge=H,t.differentLocales=Et,t.downloadBlob=function(t,e){var n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(r)},t.exists=$,t.findRoute=st,t.fromLazyLoad=Ze,t.generateHash=qe,t.generatePassword=function(t){void 0===t&&(t=8),t=Math.min(Math.max(4,t),128);var e="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789",o="!@#$%&*()_+{}<>?[]./",i=function(t){return t[Math.floor(Math.random()*t.length)]},a=Array({length:t});a[0]=i(e),a[1]=i(n),a[2]=i(r),a[3]=i(o);for(var u=4;u<t;u++)a[u]=i("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()_+{}<>?[]./");return a.sort((function(){return.5-Math.random()})).join("")},t.getInitialData=ce,t.getLocaleDirection=function(t){return/^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(t)?"rtl":"ltr"},t.getPathName=qt,t.getRemoteEnv=oe,t.getRoutePath=ct,t.getShortDateFormat=function(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortDatePattern},t.getShortDateShortTimeFormat=function(t){var e=t.getDeep("localization.currentCulture.dateTimeFormat");return e.shortDatePattern+" "+e.shortTimePattern.replace("tt","a")},t.getShortTimeFormat=function(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortTimePattern.replace("tt","a")},t.interpolate=nt,t.isArray=q,t.isNode=G,t.isNullOrUndefined=F,t.isNumber=Ue,t.isObject=U,t.isObjectAndNotArray=B,t.isObjectAndNotArrayNotNode=V,t.isUndefinedOrEmptyString=M,t.localeInitializer=fe,t.mapEnumToOptions=function(t){var e=[];for(var n in t)Ue(n)||e.push({key:n,value:t[n]});return e},t.ngxsStoragePluginSerialize=function(t){return t},t.noop=z,t.oAuthStorage=Qt,t.parseTenantFromUrl=se,t.pushValueTo=lt,t.reloadRoute=pt,t.storageFactory=le,t.takeUntilDestroy=function(t,e){return void 0===e&&(e="ngOnDestroy"),function(n){var o=t[e];if(!1===We(o))throw new Error(t.constructor.name+" is using untilDestroyed but doesn't implement "+e);return t.__takeUntilDestroy||(t.__takeUntilDestroy=new i.Subject,t[e]=function(){We(o)&&o.apply(this,arguments),t.__takeUntilDestroy.next(!0),t.__takeUntilDestroy.complete()}),n.pipe(r.takeUntil(t.__takeUntilDestroy))}},t.trackBy=on,t.trackByDeep=an,t.uuid=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)},t.validateCreditCard=_n,t.validateMinAge=Dn,t.validateRange=xn,t.validateRequired=zn,t.validateStringLength=Mn,t.validateUrl=Fn,t.ɵ0=$n,t.ɵa=Qt,t.ɵb=Ht,t.ɵba=Kt,t.ɵbb=zt,t.ɵbc=Mt,t.ɵbe=Jt,t.ɵbf=A,t.ɵbg=j,t.ɵbh=E,t.ɵbj=Wt,t.ɵbk=Yt,t.ɵbl=Vt,t.ɵbm=Gt,t.ɵbn=Ft,t.ɵbo=z,t.ɵbp=ce,t.ɵbq=fe,t.ɵbr=$t,t.ɵbs=gt,t.ɵbt=mt,t.ɵbu=bt,t.ɵc=at,t.ɵd=it,t.ɵe=rt,t.ɵf=J,t.ɵg=Y,t.ɵh=_,t.ɵi=x,t.ɵk=W,t.ɵl=g,t.ɵm=Rt,t.ɵn=It,t.ɵo=Ct,t.ɵp=ft,t.ɵq=wt,t.ɵr=kt,t.ɵs=Lt,t.ɵt=Dt,t.ɵu=Ot,t.ɵv=_t,t.ɵw=vt,t.ɵx=At,t.ɵy=xt,t.ɵz=jt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=abp-ng.core.umd.min.js.map