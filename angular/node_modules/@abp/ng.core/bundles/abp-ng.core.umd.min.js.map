{"version":3,"sources":["../packages/core/src/lib/abstracts/ng-model.component.ts","../packages/core/src/lib/actions/config.actions.ts","../packages/core/src/lib/actions/loader.actions.ts","../packages/core/src/lib/actions/profile.actions.ts","../packages/core/src/lib/actions/rest.actions.ts","../../../node_modules/tslib/tslib.es6.js","../packages/core/src/lib/tokens/options.token.ts","../packages/core/src/lib/utils/common-utils.ts","../packages/core/src/lib/utils/object-utils.ts","../packages/core/src/lib/utils/internal-store-utils.ts","../packages/core/src/lib/services/environment.service.ts","../packages/core/src/lib/services/rest.service.ts","../esm2015/lib/proxy/volo/abp/packages/core/src/lib/proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service.ts","../packages/core/src/lib/utils/localization-utils.ts","../packages/core/src/lib/utils/string-utils.ts","../packages/core/src/lib/services/config-state.service.ts","../packages/core/src/lib/services/session-state.service.ts","../packages/core/src/lib/services/localization.service.ts","../packages/core/src/lib/utils/route-utils.ts","../packages/core/src/lib/services/replaceable-components.service.ts","../packages/core/src/lib/utils/array-utils.ts","../packages/core/src/lib/utils/tree-utils.ts","../packages/core/src/lib/services/permission.service.ts","../packages/core/src/lib/services/routes.service.ts","../packages/core/src/lib/services/subscription.service.ts","../packages/core/src/lib/components/dynamic-layout.component.ts","../packages/core/src/lib/components/replaceable-route-container.component.ts","../packages/core/src/lib/components/router-outlet.component.ts","../packages/core/src/lib/constants/different-locales.ts","../packages/core/src/lib/directives/autofocus.directive.ts","../packages/core/src/lib/directives/debounce.directive.ts","../packages/core/src/lib/directives/ellipsis.directive.ts","../packages/core/src/lib/directives/for.directive.ts","../packages/core/src/lib/directives/form-submit.directive.ts","../packages/core/src/lib/directives/init.directive.ts","../packages/core/src/lib/directives/permission.directive.ts","../packages/core/src/lib/directives/replaceable-template.directive.ts","../packages/core/src/lib/directives/stop-propagation.directive.ts","../packages/core/src/lib/directives/visibility.directive.ts","../packages/core/src/lib/handlers/oauth-configuration.handler.ts","../packages/core/src/lib/handlers/routes.handler.ts","../packages/core/src/lib/utils/http-utils.ts","../packages/core/src/lib/tokens/lodaer-delay.token.ts","../packages/core/src/lib/services/http-wait.service.ts","../packages/core/src/lib/interceptors/api.interceptor.ts","../packages/core/src/lib/pipes/localization.pipe.ts","../../packages/core/src/lib/localization.module.ts","../packages/core/src/lib/pipes/sort.pipe.ts","../packages/core/src/lib/providers/locale.provider.ts","../packages/core/src/lib/services/profile.service.ts","../packages/core/src/lib/states/profile.state.ts","../packages/core/src/lib/strategies/auth-flow.strategy.ts","../packages/core/src/lib/utils/date-extensions.ts","../packages/core/src/lib/services/auth.service.ts","../packages/core/src/lib/utils/environment-utils.ts","../esm2015/lib/proxy/packages/core/src/lib/proxy/pages/abp/multi-tenancy/abp-tenant.service.ts","../packages/core/src/lib/services/multi-tenancy.service.ts","../packages/core/src/lib/utils/multi-tenancy-utils.ts","../packages/core/src/lib/utils/initial-utils.ts","../../packages/core/src/lib/core.module.ts","../packages/core/src/lib/guards/auth.guard.ts","../packages/core/src/lib/guards/permission.guard.ts","../packages/core/src/lib/models/dtos.ts","../packages/core/src/lib/services/application-configuration.service.ts","../packages/core/src/lib/services/content-projection.service.ts","../packages/core/src/lib/utils/factory-utils.ts","../packages/core/src/lib/utils/number-utils.ts","../packages/core/src/lib/utils/generator-utils.ts","../packages/core/src/lib/strategies/cross-origin.strategy.ts","../packages/core/src/lib/strategies/dom.strategy.ts","../packages/core/src/lib/utils/lazy-load-utils.ts","../packages/core/src/lib/utils/rxjs-utils.ts","../packages/core/src/lib/services/dom-insertion.service.ts","../packages/core/src/lib/services/resource-wait.service.ts","../packages/core/src/lib/services/lazy-load.service.ts","../packages/core/src/lib/tokens/list.token.ts","../packages/core/src/lib/services/list.service.ts","../packages/core/src/lib/states/config.state.ts","../packages/core/src/lib/services/profile-state.service.ts","../packages/core/src/lib/services/router-wait.service.ts","../packages/core/src/lib/services/track-by.service.ts","../packages/core/src/lib/strategies/container.strategy.ts","../packages/core/src/lib/strategies/content-security.strategy.ts","../packages/core/src/lib/strategies/content.strategy.ts","../packages/core/src/lib/strategies/context.strategy.ts","../packages/core/src/lib/strategies/loading.strategy.ts","../packages/core/src/lib/strategies/projection.strategy.ts","../packages/core/src/lib/validators/age.validator.ts","../packages/core/src/lib/validators/credit-card.validator.ts","../packages/core/src/lib/validators/range.validator.ts","../packages/core/src/lib/validators/required.validator.ts","../packages/core/src/lib/validators/string-length.validator.ts","../packages/core/src/lib/validators/url.validator.ts","../packages/core/src/lib/validators/index.ts","../esm2015/lib/proxy/volo/abp/packages/core/src/lib/proxy/volo/abp/asp-net-core/mvc/api-exploring/abp-api-definition.service.ts","../packages/core/src/lib/utils/file-utils.ts","../packages/core/src/lib/utils/date-utils.ts","../packages/core/src/lib/utils/form-utils.ts"],"names":["AbstractNgModelComponent","injector","this","valueFn","value","valueLimitFn","cdRef","get","ChangeDetectorRef","Object","defineProperty","prototype","_value","defaultValue","readonly","notifyValueChange","onChange","writeValue","_this","setTimeout","markForCheck","registerOnChange","fn","registerOnTouched","onTouched","setDisabledState","isDisabled","disabled","Component","args","template","Injector","Input","GetAppConfiguration","type","environment","SetEnvironment","PatchConfigState","state","payload","StartLoader","StopLoader","GetProfile","UpdateProfile","ChangePassword","RestOccurError","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__rest","s","e","t","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","pop","push","__read","o","m","ar","error","__spread","concat","CORE_OPTIONS","InjectionToken","coreOptionsFactory","_a","options","assign","noop","isUndefinedOrEmptyString","undefined","isNullOrUndefined","obj","exists","isObject","isArray","isObjectAndNotArray","isNode","Node","isObjectAndNotArrayNotNode","deepMerge","source","deepMergeRecursively","keysOfTarget","keys","keysOfSource","Set","reduce","retVal","InternalStore","initialState","state$","BehaviorSubject","update$","Subject","sliceState","selector","compareFn","compare__default","pipe","map","distinctUntilChanged","sliceUpdate","filterFn","x","filter","patch","patchedState","deepPatch","set","reset","EnvironmentService","store","getEnvironment$","getEnvironment","getApiUrl","apis","default","url","getApiUrl$","setState","Injectable","providedIn","RestService","http","getApiFromStore","apiName","handleError","err","dispatch","throwError","request","config","api","method","params","observe","skipHandleError","acc","sendNullsAsQueryParam","catchError","Inject","HttpClient","Store","AbpApplicationConfigurationService","restService","createLocalizer","localization","resourceName","resource","snq","values","createLocalizerWithFallback","findLocalization","createLocalizationFinder","resourceNames","localized","localize","resourceCount","defaultResourceName","Boolean","keyCount","j","createTokenParser","format","str","tokens","regex","replace","token","match","slice","interpolate","text","digit","ConfigStateService","getOne$","getOne","getAll$","getAll","getDeep$","splitKeys","val","getDeep","getFeature","_b","features","getFeature$","getSetting","setting","getSetting$","getSettings","keyword","settings","getSettings$","split","Error","SessionStateService","configState","updateLocalStorage","localStorage","setItem","JSON","stringify","init","setInitialLanguage","session","getItem","parse","subscribe","getLanguage","cultureName","take","lang","includes","setLanguage","onLanguageChange$","language","onTenantChange$","tenant","getLanguage$","getTenant","getTenant$","setTenant","compare","document","documentElement","setAttribute","LocalizationService","sessionState","ngZone","otherInstance","appConfigService","latestLang","_languageChange$","listenToSetLanguage","asObservable","switchMap","tap","res","mapTo","registerLocale","locale","router","Router","shouldReuseRoute","routeReuseStrategy","navigated","registerLocaleFn","module","registerLocaleData","run","navigateByUrl","catch","interpolateParams","_i","getLocalization","getResource","getResource$","instant","localizeSync","localizeWithFallback","localizeWithFallbackSync","warn","message","isDevMode","console","sourceName","sourceKey","findRoute","routesService","path","node","find","route","join","getRoutePath","parseUrl","root","children","PRIMARY_OUTLET","segments","reloadRoute","setRouteReuse","reuse","NgZone","Optional","SkipSelf","ReplaceableComponentsService","add","replaceableComponent","reload","replaceableComponents","index","findIndex","component","replaceableComponentKey","get$","replaceableComponents$","components","pushValueTo","array","element","BaseTreeNode","props","isLeaf","createTreeFromList","list","keySelector","parentKeySelector","valueMapper","createMapFromList","tree","forEach","row","id","parentId","parent","Map","PermissionService","getGrantedPolicy$","getStream","grantedPolicies","isPolicyGranted","getGrantedPolicy","policies","getSnapshot","test","some","k","getPolicy","trim","every","mapToPolicies","applicationConfiguration","auth","AbstractTreeService","_flat$","_tree$","_visible$","createTree","items","item","filterWith","setOrMap","has","findItemsToRemove","childSet","publish","flatItems","visibleItems","sort","hide","predicate","identifier","refresh","remove","identifiers","setToRemove","search","searchKeys","AbstractNavTreeService","_super","invisible","isGranted","a","Number","isInteger","order","subscription","createOnUpdateStream","permissionService","requiredPolicy","hasChildren","hasInvisibleChild","child","ngOnDestroy","unsubscribe","RoutesService","SettingTabsService","SubscriptionService","Subscription","closed","addOne","source$","nextOrObserver","closeAll","closeOne","removeOne","DynamicLayoutComponent","localizationService","dynamicLayoutComponent","layouts","isLayoutVisible","ActivatedRoute","routes","getLayout","events","event","NavigationEnd","listenToLanguageChange","expectedLayout","snapshot","data","layout","layoutKey","getComponent","languageChange$","providers","ReplaceableRouteContainerComponent","ngOnInit","defaultComponent","componentKey","component$","externalComponent","differentLocales","aa","aa-DJ","aa-ER","aa-ET","af-ZA","agq-CM","ak-GH","am-ET","ar-001","arn","arn-CL","as-IN","asa-TZ","ast-ES","az-Cyrl-AZ","az-Latn-AZ","ba","ba-RU","bas-CM","be-BY","bem-ZM","bez-TZ","bg-BG","bin","bin-NG","bm-Latn","bm-Latn-ML","bn-BD","bo-CN","br-FR","brx-IN","bs-Cyrl-BA","bs-Latn-BA","byn","byn-ER","ca-ES","ca-ES-valencia","ce-RU","cgg-UG","chr-Cher","chr-Cher-US","co","co-FR","cs-CZ","cu-RU","cy-GB","da-DK","dav-KE","de-DE","dje-NE","dsb-DE","dua-CM","dv","dv-MV","dyo-SN","dz-BT","ebu-KE","ee-GH","el-GR","en-029","en-ID","en-US","eo-001","es-ES","et-EE","eu-ES","ewo-CM","fa-IR","ff-Latn-SN","ff-NG","fi-FI","fil-PH","fo-FO","fr-029","fr-FR","fur-IT","fy-NL","ga-IE","gd-GB","gl-ES","gn","gn-PY","gsw-CH","gu-IN","guz-KE","gv-IM","ha-Latn","ha-Latn-GH","ha-Latn-NE","ha-Latn-NG","haw-US","he-IL","hi-IN","hr-HR","hsb-DE","hu-HU","hy-AM","ia-001","ia-FR","ibb","ibb-NG","id-ID","ig-NG","ii-CN","is-IS","it-IT","iu","iu-Cans","iu-Cans-CA","iu-Latn","iu-Latn-CA","ja-JP","jgo-CM","jmc-TZ","jv-Java","jv-Java-ID","jv-Latn","jv-Latn-ID","ka-GE","kab-DZ","kam-KE","kde-TZ","kea-CV","khq-ML","ki-KE","kk-KZ","kkj-CM","kl-GL","kln-KE","km-KH","kn-IN","ko-KR","kok-IN","kr","kr-NG","ks-Arab","ks-Arab-IN","ks-Deva","ks-Deva-IN","ksb-TZ","ksf-CM","ksh-DE","ku-Arab","ku-Arab-IQ","ku-Arab-IR","kw-GB","ky-KG","la","la-001","lag-TZ","lb-LU","lg-UG","lkt-US","ln-CD","lo-LA","lrc-IR","lt-LT","lu-CD","luo-KE","luy-KE","lv-LV","mas-KE","mer-KE","mfe-MU","mg-MG","mgh-MZ","mgo-CM","mi-NZ","mk-MK","ml-IN","mn-Cyrl","mn-MN","mn-Mong","mn-Mong-CN","mn-Mong-MN","mni","mni-IN","moh","moh-CA","mr-IN","ms-MY","mt-MT","mua-CM","my-MM","mzn-IR","naq-NA","nb-NO","nd-ZW","ne-NP","nl-NL","nmg-CM","nn-NO","nnh-CM","no","nqo","nqo-GN","nr","nr-ZA","nso","nso-ZA","nus-SS","nyn-UG","oc","oc-FR","om-ET","or-IN","os-GE","pa-Arab-PK","pa-IN","pap","pap-029","pl-PL","prg-001","prs","prs-AF","ps-AF","pt-BR","quc","quc-Latn","quc-Latn-GT","quz","quz-BO","quz-EC","quz-PE","rm-CH","rn-BI","ro-RO","rof-TZ","ru-RU","rw-RW","rwk-TZ","sa","sa-IN","sah-RU","saq-KE","sbp-TZ","sd-Arab","sd-Arab-PK","sd-Deva","sd-Deva-IN","se-NO","seh-MZ","ses-ML","sg-CF","shi-Latn-MA","shi-Tfng-MA","si-LK","sk-SK","sl-SI","sma","sma-NO","sma-SE","smj","smj-NO","smj-SE","smn-FI","sms","sms-FI","sn-Latn","sn-Latn-ZW","so-SO","sq-AL","sr-Cyrl-RS","sr-Latn-RS","ss","ss-SZ","ss-ZA","ssy","ssy-ER","st","st-LS","st-ZA","sv-SE","sw-TZ","syr","syr-SY","ta-IN","te-IN","teo-UG","tg-Cyrl","tg-Cyrl-TJ","th-TH","ti-ET","tig","tig-ER","tk-TM","tn","tn-BW","tn-ZA","to-TO","tr-TR","ts","ts-ZA","tt-RU","twq-NE","tzm-Arab","tzm-Arab-MA","tzm-Latn","tzm-Latn-DZ","tzm-Latn-MA","tzm-Tfng","tzm-Tfng-MA","ug-CN","uk-UA","ur-PK","uz-Arab-AF","uz-Cyrl-UZ","uz-Latn-UZ","vai-Latn-LR","vai-Vaii-LR","ve","ve-ZA","vi-VN","vo-001","vun-TZ","wae-CH","wal","wal-ET","wo-SN","xh-ZA","xog-UG","yav-CM","yi-001","yo-NG","zgh-Tfng","zgh-Tfng-MA","zh-CN","zh-HK","zh-MO","zh-SG","zh-TW","zu-ZA","AutofocusDirective","elRef","delay","ngAfterViewInit","nativeElement","focus","Directive","ElementRef","InputEventDebounceDirective","el","debounce","debounceEvent","EventEmitter","input$","fromEvent","debounceTime","emit","Output","EllipsisDirective","enabled","width","title","innerText","detectChanges","HostBinding","AbpForContext","$implicit","count","RecordView","record","view","ForDirective","tempRef","vcRef","differs","compareBy","trackBy","iterateOverAppliedOperations","changes","rw","forEachOperation","previousIndex","currentIndex","createEmbeddedView","move","l","context","iterateOverAttachedViews","viewRef","forEachIdentityChange","projectItems","emptyRef","clear","rootNodes","isShowEmptyRef","differ","trackByFn","diff","sortItems","orderBy","ngOnChanges","clone","filterBy","filterVal","orderDir","reverse","TemplateRef","ViewContainerRef","IterableDiffers","FormSubmitDirective","formGroupDirective","host","ngSubmit","executedNgSubmit","markAsDirty","keyup$","HTMLTextAreaElement","dispatchEvent","Event","bubbles","cancelable","form","setDirty","controls","group","updateValueAndValidity","FormGroupDirective","Self","InitDirective","PermissionDirective","renderer","templateRef","check","condition","initStructural","initAttribute","removeChild","parentElement","Renderer2","ReplaceableTemplateDirective","cfRes","providedData","inputs","outputs","defaultComponentSubscriptions","initialized","initTemplate","ref","resetDefaultComponent","defaultComponentRef","setDefaultComponentInputs","setProvidedData","customInjector","provide","useValue","createComponent","resolveComponentFactory","currentValue","this_1","defineProperties","enumerable","configurable","twoWay","newValue","ComponentFactoryResolver","StopPropagationDirective","stopPropEvent","stopPropagation","VisibilityDirective","completed$","observer","focusedElement","MutationObserver","mutations","mutation","from","childNodes","HTMLElement","removeFromDOM","childList","disconnect","complete","OAuthConfigurationHandler","oAuthService","environmentService","listenToSetEnvironment","oAuthConfig","configure","OAuthService","RoutesHandler","addRoutes","_c","_d","flatRoutes","parentName","name","current","getPathName","URL","pathname","LOADER_DELAY","HttpWaitService","requests","filteredRequests","destroy$","getLoading","applyFilter","getLoading$","of","timer","takeUntil","updateLoading$","clearLoading","addRequest","deleteRequest","addFilter","isSameRequest","removeFilter","filteredRequest","endpoint","ApiInterceptor","httpWaitService","intercept","handle","setHeaders","getAdditionalHeaders","headers","finalize","existingHeaders","getAccessToken","LocalizationPipe","transform","Pipe","NgModule","exports","declarations","SortPipe","sortOrder","sortKey","toLowerCase","numberArray","stringArray","sorted","LocaleId","toString","currentLang","valueOf","LocaleProvider","LOCALE_ID","useClass","deps","ProfileService","rest","update","changePassword","ProfileState","profileService","getProfile","profile","patchState","updateProfile","Action","Selector","State","defaults","oAuthStorage","AuthFlowStrategy","clientId","storage","shouldClear","shouldStorageClear","clearOAuthStorage","loadDiscoveryDocument","AuthCodeFlowStrategy","_super_1","isInternalAuth","tryLogin","hasValidAccessToken","getRefreshToken","refreshToken","setupAutomaticSilentRefresh","login","initCodeFlow","checkIfInternalAuth","logout","logOut","destroy","AUTH_FLOW_STRATEGY","Code","removeItem","Date","toLocalISOString","timezoneOffset","getTimezoneOffset","getTime","toISOString","AuthService","setStrategy","flow","responseType","strategy","initLogin","getRemoteEnv","remoteEnv","env","local","remote","mergeStrategy","mergeEnvironments","toPromise","findTenantById","findTenantByName","MultiTenancyService","_domainTenant","isTenantBoxVisible","tenancyPlaceholder","parseTenantFromUrl","multiTenancyService","abpTenantService","AbpTenantService","baseUrl","application","tenancyName","appBaseUrl","charAt","parseTokens","window","location","href","getCurrentTenancyName","redirectUri","issuer","setEnvironment","__tenant","domainTenant","success","tenantId","getInitialData","skipGetAppConfiguration","checkAccessToken","currentTenant","localeInitializer","storageFactory","CommonModule","HttpClientModule","FormsModule","ReactiveFormsModule","RouterModule","LocalizationModule","RouterOutletComponent","imports","OAuthModule","entryComponents","BaseCoreModule","NgxsModule","forFeature","forRoot","HttpClientXsrfModule","withOptions","cookieName","headerName","CoreModule","ngModule","RootCoreModule","useFactory","HTTP_INTERCEPTORS","useExisting","multi","APP_INITIALIZER","OAuthStorage","AuthGuard","oauthService","authService","canActivate","PermissionGuard","routeFound","access","status","initialValues","PagedResultDto","ListResultDto","maxResultCount","PagedResultRequestDto","LimitedResultRequestDto","PagedAndSortedResultRequestDto","CreationAuditedEntityDto","EntityDto","CreationAuditedEntityWithUserDto","AuditedEntityDto","AuditedEntityWithUserDto","FullAuditedEntityDto","FullAuditedEntityWithUserDto","ExtensibleEntityDto","ExtensibleObject","ExtensibleCreationAuditedEntityDto","ExtensibleAuditedEntityDto","ExtensibleAuditedEntityWithUserDto","ExtensibleCreationAuditedEntityWithUserDto","ExtensibleFullAuditedEntityDto","ExtensibleFullAuditedEntityWithUserDto","ApplicationConfigurationService","getConfiguration","ContentProjectionService","projectContent","projectionStrategy","injectContent","LazyModuleFactory","moduleWithProviders","parentInjector","Compiler","compileModuleSync","moduleType","NgModuleFactory","isNumber","generateHash","hashed","charCodeAt","CrossOriginStrategy","crossorigin","integrity","setCrossOrigin","CROSS_ORIGIN_STRATEGY","Anonymous","UseCredentials","DomStrategy","position","head","insertElement","insertAdjacentElement","DOM_STRATEGY","AfterElement","AppendToBody","AppendToHead","BeforeElement","PrependToHead","fromLazyLoad","domStrategy","crossOriginStrategy","Observable","onload","clearCallbacks","parentNode","createErrorHandler","onerror","onabort","onemptied","onstalled","onsuspend","isFunction","DomInsertionService","inserted","insertContent","contentStrategy","hash","content","removeContent","textContent","delete","ResourceWaitService","resources","size","addResource","deleteResource","LazyLoadService","resourceWaitService","loaded","load","retryTimes","retryDelay","CustomEvent","createStream","retryWhen","error$","shareReplay","bufferSize","refCount","LIST_QUERY_DEBOUNCE_TIME","ListService","_filter","_maxResultCount","_skipCount","_page","_sortKey","_sortOrder","_query$","ReplaySubject","_isLoading$","resetPageWhenUnchanged","skipCount","sorting","hookToQuery","streamCreatorCallback","query$","query","ConfigState","ConfigState_1","syncConfigState","syncEnvironment","getApplicationInfo","createSelector","getLocalizationResource","production","addData","selectSnapshot","configuration","setConfig","getState","ProfileStateService","dispatchGetProfile","dispatchUpdateProfile","bind","dispatchChangePassword","RouterWaitService","loading","NavigationStart","NavigationError","NavigationCancel","setLoading","trackByDeep","by","byDeep","ContainerStrategy","containerRef","prepare","ClearContainerStrategy","getIndex","InsertIntoContainerStrategy","Math","min","max","CONTAINER_STRATEGY","Clear","Append","Prepend","Insert","nonce","LooseContentSecurityStrategy","applyCSP","ContentSecurityStrategy","NoContentSecurityStrategy","CONTENT_SECURITY_STRATEGY","Loose","None","ContentStrategy","contentSecurityStrategy","createElement","StyleContentStrategy","ScriptContentStrategy","CONTENT_STRATEGY","AppendScriptToBody","AppendScriptToHead","AppendStyleToHead","PrependStyleToHead","ContextStrategy","setContext","componentRef","NoContextStrategy","ComponentContextStrategy","instance","changeDetectorRef","TemplateContextStrategy","CONTEXT_STRATEGY","Template","LoadingStrategy","ScriptLoadingStrategy","src","StyleLoadingStrategy","rel","LOADING_STRATEGY","AppendAnonymousScriptToBody","AppendAnonymousScriptToHead","AppendAnonymousStyleToHead","PrependAnonymousScriptToHead","PrependAnonymousStyleToHead","ComponentProjectionStrategy","containerStrategy","contextStrategy","factory","ProjectionStrategy","RootComponentProjectionStrategy","appRef","ApplicationRef","attachView","hostView","TemplateProjectionStrategy","embeddedViewRef","PROJECTION_STRATEGY","AppendComponentToBody","AppendComponentToContainer","AppendTemplateToContainer","PrependComponentToContainer","PrependTemplateToContainer","ProjectComponentToContainer","ProjectTemplateToContainer","validateMinAge","age","control","minAge","date","setFullYear","getFullYear","setHours","validateCreditCard","checksum","multiplier","isValidCreditCard","creditCard","validateRange","maximum","Infinity","minimum","range","getMinError","getMaxError","validateRequired","allowEmptyStrings","isValidRequired","required","validateStringLength","maximumLength","minimumLength","requiredLength","minlength","getMinLengthError","maxlength","getMaxLengthError","validateUrl","isValidUrl","Validators","email","AbpValidators","emailAddress","ɵ0","stringLength","getByModel","model","includeTypes","defaultKey","blob","filename","blobUrl","createObjectURL","link","download","appendChild","MouseEvent","lowers","uppers","numbers","specials","getRandom","chrSet","floor","random","password","configStateService","shortDatePattern","dateTimeFormat","shortTimePattern","_enum","member","componentInstance","destroyMethodName","originalDestroy","uuid"],"mappings":"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","sourcesContent":["import { ControlValueAccessor } from '@angular/forms';\nimport { ChangeDetectorRef, Component, Injector, Input } from '@angular/core';\n\n// Not an abstract class on purpose. Do not change!\n// tslint:disable-next-line: use-component-selector\n@Component({ template: '' })\nexport class AbstractNgModelComponent<T = any, U = T> implements ControlValueAccessor {\n  protected _value: T;\n  protected cdRef: ChangeDetectorRef;\n  onChange: (value: T) => {};\n  onTouched: () => {};\n\n  @Input()\n  disabled: boolean;\n\n  @Input()\n  readonly: boolean;\n\n  @Input()\n  valueFn: (value: U, previousValue?: T) => T = value => (value as any) as T;\n\n  @Input()\n  valueLimitFn: (value: T, previousValue?: T) => any = value => false;\n\n  @Input()\n  set value(value: T) {\n    value = this.valueFn((value as any) as U, this._value);\n\n    if (this.valueLimitFn(value, this._value) !== false || this.readonly) return;\n\n    this._value = value;\n    this.notifyValueChange();\n  }\n\n  get value(): T {\n    return this._value || this.defaultValue;\n  }\n\n  get defaultValue(): T {\n    return this._value;\n  }\n\n  constructor(public injector: Injector) {\n    // tslint:disable-next-line: deprecation\n    this.cdRef = injector.get(ChangeDetectorRef);\n  }\n\n  notifyValueChange(): void {\n    if (this.onChange) {\n      this.onChange(this.value);\n    }\n  }\n\n  writeValue(value: T): void {\n    this._value = this.valueLimitFn(value, this._value) || value;\n    setTimeout(() => this.cdRef.markForCheck(), 0);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","import { Config } from '../models/config';\n\n/**\n * @deprecated Use ConfigStateService. To be deleted in v5.0.\n */\nexport class GetAppConfiguration {\n  static readonly type = '[Config] Get App Configuration';\n}\n\n/**\n * @deprecated Use EnvironmentService instead. To be deleted in v5.0.\n */\nexport class SetEnvironment {\n  static readonly type = '[Config] Set Environment';\n  constructor(public environment: Config.Environment) {}\n}\n\n/**\n * @deprecated Use EnvironmentService instead. To be deleted in v5.0.\n */\nexport class PatchConfigState {\n  static readonly type = '[Config] Set State';\n  constructor(public state: Config.State) {}\n}\n","import { HttpRequest } from '@angular/common/http';\n\nexport class StartLoader {\n  static readonly type = '[Loader] Start';\n  constructor(public payload: HttpRequest<any>) {}\n}\n\nexport class StopLoader {\n  static readonly type = '[Loader] Stop';\n  constructor(public payload: HttpRequest<any>) {}\n}\n","import { Profile } from '../models';\n\nexport class GetProfile {\n  static readonly type = '[Profile] Get';\n}\n\nexport class UpdateProfile {\n  static readonly type = '[Profile] Update';\n  constructor(public payload: Profile.Response) {}\n}\n\nexport class ChangePassword {\n  static readonly type = '[Profile] Change Password';\n  constructor(public payload: Profile.ChangePasswordRequest) {}\n}\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport class RestOccurError {\n  static readonly type = '[Rest] Error';\n  constructor(public payload: HttpErrorResponse | any) {}\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { InjectionToken } from '@angular/core';\nimport { ABP } from '../models/common';\n\nexport const CORE_OPTIONS = new InjectionToken<ABP.Root>('CORE_OPTIONS');\n\nexport function coreOptionsFactory({ ...options }: ABP.Root) {\n  return {\n    ...options,\n  } as ABP.Root;\n}\n","export function noop() {\n  // tslint:disable-next-line: only-arrow-functions\n  const fn = function() {};\n  return fn;\n}\n\nexport function isUndefinedOrEmptyString(value: unknown): boolean {\n  return value === undefined || value === '';\n}\n\nexport function isNullOrUndefined(obj) {\n  return obj === null || obj === undefined;\n}\n\nexport function exists(obj) {\n  return !isNullOrUndefined(obj);\n}\n\nexport function isObject(obj) {\n  return obj instanceof Object;\n}\n\nexport function isArray(obj) {\n  return Array.isArray(obj);\n}\n\nexport function isObjectAndNotArray(obj) {\n  return isObject(obj) && !isArray(obj);\n}\n\nexport function isNode(obj) {\n  return obj instanceof Node;\n}\n\nexport function isObjectAndNotArrayNotNode(obj) {\n  return isObjectAndNotArray(obj) && !isNode(obj);\n}\n","import {\n  exists,\n  isArray,\n  isNode,\n  isNullOrUndefined,\n  isObject,\n  isObjectAndNotArrayNotNode,\n} from './common-utils';\n\nexport function deepMerge(target, source) {\n  if (isObjectAndNotArrayNotNode(target) && isObjectAndNotArrayNotNode(source)) {\n    return deepMergeRecursively(target, source);\n  } else if (isNullOrUndefined(target) && isNullOrUndefined(source)) {\n    return {};\n  } else {\n    return exists(source) ? source : target;\n  }\n}\n\nfunction deepMergeRecursively(target, source) {\n  const shouldNotRecurse =\n    isNullOrUndefined(target) ||\n    isNullOrUndefined(source) || // at least one not defined\n    isArray(target) ||\n    isArray(source) || // at least one array\n    !isObject(target) ||\n    !isObject(source) || // at least one not an object\n    isNode(target) ||\n    isNode(source); // at least one node\n\n  /**\n   * if we will not recurse any further,\n   * we will prioritize source if it is a defined value.\n   */\n  if (shouldNotRecurse) {\n    return exists(source) ? source : target;\n  }\n\n  const keysOfTarget = Object.keys(target);\n  const keysOfSource = Object.keys(source);\n  const uniqueKeys = new Set(keysOfTarget.concat(keysOfSource));\n  return [...uniqueKeys].reduce((retVal, key) => {\n    retVal[key] = deepMergeRecursively(target[key], source[key]);\n    return retVal;\n  }, {});\n}\n","import compare from 'just-compare';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map } from 'rxjs/operators';\nimport { DeepPartial } from '../models';\nimport { deepMerge } from './object-utils';\n\nexport class InternalStore<State> {\n  private state$ = new BehaviorSubject<State>(this.initialState);\n\n  private update$ = new Subject<DeepPartial<State>>();\n\n  get state() {\n    return this.state$.value;\n  }\n\n  sliceState = <Slice>(\n    selector: (state: State) => Slice,\n    compareFn: (s1: Slice, s2: Slice) => boolean = compare,\n  ) => this.state$.pipe(map(selector), distinctUntilChanged(compareFn));\n\n  sliceUpdate = <Slice>(\n    selector: (state: DeepPartial<State>) => Slice,\n    filterFn = (x: Slice) => x !== undefined,\n  ) => this.update$.pipe(map(selector), filter(filterFn));\n\n  constructor(private initialState: State) {}\n\n  patch(state: Partial<State>) {\n    let patchedState = state as State;\n\n    if (typeof state === 'object' && !Array.isArray(state)) {\n      patchedState = { ...this.state, ...state };\n    }\n\n    this.state$.next(patchedState);\n    this.update$.next(patchedState as DeepPartial<State>);\n  }\n\n  deepPatch(state: DeepPartial<State>) {\n    this.state$.next(deepMerge(this.state, state));\n    this.update$.next(state);\n  }\n\n  set(state: State) {\n    this.state$.next(state);\n    this.update$.next(state as DeepPartial<State>);\n  }\n\n  reset() {\n    this.set(this.initialState);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Apis, Environment } from '../models/environment';\nimport { InternalStore } from '../utils/internal-store-utils';\n\n@Injectable({ providedIn: 'root' })\nexport class EnvironmentService {\n  private readonly store = new InternalStore({} as Environment);\n\n  get createOnUpdateStream() {\n    return this.store.sliceUpdate;\n  }\n\n  getEnvironment$(): Observable<Environment> {\n    return this.store.sliceState(state => state);\n  }\n\n  getEnvironment(): Environment {\n    return this.store.state;\n  }\n\n  getApiUrl(key?: string) {\n    return (this.store.state.apis[key || 'default'] || this.store.state.apis.default).url;\n  }\n\n  getApiUrl$(key?: string) {\n    return this.store\n      .sliceState(state => state.apis)\n      .pipe(map((apis: Apis) => (apis[key || 'default'] || apis.default).url));\n  }\n\n  setState(environment: Environment) {\n    this.store.set(environment);\n  }\n}\n","import { HttpClient, HttpRequest } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { ABP } from '../models/common';\nimport { Rest } from '../models/rest';\nimport { CORE_OPTIONS } from '../tokens/options.token';\nimport { isUndefinedOrEmptyString } from '../utils/common-utils';\nimport { EnvironmentService } from './environment.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RestService {\n  constructor(\n    @Inject(CORE_OPTIONS) protected options: ABP.Root,\n    protected http: HttpClient,\n    protected environment: EnvironmentService,\n    protected store: Store,\n  ) {}\n\n  protected getApiFromStore(apiName: string): string {\n    return this.environment.getApiUrl(apiName);\n  }\n\n  handleError(err: any): Observable<any> {\n    this.store.dispatch(new RestOccurError(err));\n    return throwError(err);\n  }\n\n  // TODO: Deprecate service or improve interface in v5.0\n  request<T, R>(\n    request: HttpRequest<T> | Rest.Request<T>,\n    config?: Rest.Config,\n    api?: string,\n  ): Observable<R> {\n    config = config || ({} as Rest.Config);\n    api = api || this.getApiFromStore(config.apiName);\n    const { method, params, ...options } = request;\n    const { observe = Rest.Observe.Body, skipHandleError } = config;\n\n    return this.http\n      .request<R>(method, api + request.url, {\n        observe,\n        ...(params && {\n          params: Object.keys(params).reduce((acc, key) => {\n            const value = params[key];\n\n            if (isUndefinedOrEmptyString(value)) return acc;\n            if (value === null && !this.options.sendNullsAsQueryParam) return acc;\n\n            acc[key] = value;\n            return acc;\n          }, {}),\n        }),\n        ...options,\n      } as any)\n      .pipe(catchError(err => (skipHandleError ? throwError(err) : this.handleError(err))));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RestService } from '../../../../../../services/rest.service';\nimport type { ApplicationConfigurationDto } from './models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AbpApplicationConfigurationService {\n  apiName = 'abp';\n\n  get() {\n    return this.restService.request<any, ApplicationConfigurationDto>(\n      {\n        method: 'GET',\n        url: '/api/abp/application-configuration',\n      },\n      { apiName: this.apiName },\n    );\n  }\n\n  constructor(private restService: RestService) {}\n}\n","import snq from 'snq';\nimport { ApplicationLocalizationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\n\n// This will not be necessary when only Angukar 9.1+ is supported\nexport function getLocaleDirection(locale: string): 'ltr' | 'rtl' {\n  return /^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(\n    locale,\n  )\n    ? 'rtl'\n    : 'ltr';\n}\n\nexport function createLocalizer(localization: ApplicationLocalizationConfigurationDto) {\n  return (resourceName: string, key: string, defaultValue: string) => {\n    if (resourceName === '_') return key;\n\n    const resource = snq(() => localization.values[resourceName]);\n\n    if (!resource) return defaultValue;\n\n    return resource[key] || defaultValue;\n  };\n}\n\nexport function createLocalizerWithFallback(localization: ApplicationLocalizationConfigurationDto) {\n  const findLocalization = createLocalizationFinder(localization);\n\n  return (resourceNames: string[], keys: string[], defaultValue: string) => {\n    const { localized } = findLocalization(resourceNames, keys);\n    return localized || defaultValue;\n  };\n}\n\nexport function createLocalizationPipeKeyGenerator(\n  localization: ApplicationLocalizationConfigurationDto,\n) {\n  const findLocalization = createLocalizationFinder(localization);\n\n  return (resourceNames: string[], keys: string[], defaultKey: string) => {\n    const { resourceName, key } = findLocalization(resourceNames, keys);\n    return !resourceName ? defaultKey : resourceName === '_' ? key : `${resourceName}::${key}`;\n  };\n}\n\nfunction createLocalizationFinder(localization: ApplicationLocalizationConfigurationDto) {\n  const localize = createLocalizer(localization);\n\n  return (resourceNames: string[], keys: string[]) => {\n    resourceNames = resourceNames.concat(localization.defaultResourceName).filter(Boolean);\n\n    const resourceCount = resourceNames.length;\n    const keyCount = keys.length;\n\n    for (let i = 0; i < resourceCount; i++) {\n      const resourceName = resourceNames[i];\n\n      for (let j = 0; j < keyCount; j++) {\n        const key = keys[j];\n        const localized = localize(resourceName, key, null);\n        if (localized) return { resourceName, key, localized };\n      }\n    }\n\n    return { resourceName: undefined, key: undefined, localized: undefined };\n  };\n}\n","export function createTokenParser(format: string) {\n  return (str: string) => {\n    const tokens: string[] = [];\n    const regex = format.replace(/\\./g, '\\\\.').replace(/\\{\\s?([0-9a-zA-Z]+)\\s?\\}/g, (_, token) => {\n      tokens.push(token);\n      return '(.+)';\n    });\n\n    const matches = (str.match(regex) || []).slice(1);\n\n    return matches.reduce((acc, v, i) => {\n      const key = tokens[i];\n      acc[key] = [...(acc[key] || []), v].filter(Boolean);\n      return acc;\n    }, {} as Record<string, string[]>);\n  };\n}\n\nexport function interpolate(text: string, params: string[]) {\n  return text\n    .replace(/(['\"]?\\{\\s*(\\d+)\\s*\\}['\"]?)/g, (_, match, digit) => params[digit] ?? match)\n    .replace(/\\s+/g, ' ');\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { InternalStore } from '../utils/internal-store-utils';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ConfigStateService {\n  private readonly store = new InternalStore({} as ApplicationConfigurationDto);\n\n  get createOnUpdateStream() {\n    return this.store.sliceUpdate;\n  }\n\n  setState(state: ApplicationConfigurationDto) {\n    this.store.set(state);\n  }\n\n  getOne$(key: string) {\n    return this.store.sliceState(state => state[key]);\n  }\n\n  getOne(key: string) {\n    return this.store.state[key];\n  }\n\n  getAll$(): Observable<ApplicationConfigurationDto> {\n    return this.store.sliceState(state => state);\n  }\n\n  getAll(): ApplicationConfigurationDto {\n    return this.store.state;\n  }\n\n  getDeep$(keys: string[] | string) {\n    keys = splitKeys(keys);\n\n    return this.store\n      .sliceState(state => state)\n      .pipe(\n        map(state => {\n          return (keys as string[]).reduce((acc, val) => {\n            if (acc) {\n              return acc[val];\n            }\n\n            return undefined;\n          }, state);\n        }),\n      );\n  }\n\n  getDeep(keys: string[] | string) {\n    keys = splitKeys(keys);\n\n    return (keys as string[]).reduce((acc, val) => {\n      if (acc) {\n        return acc[val];\n      }\n\n      return undefined;\n    }, this.store.state);\n  }\n\n  getFeature(key: string) {\n    return this.store.state.features?.values?.[key];\n  }\n\n  getFeature$(key: string) {\n    return this.store.sliceState(state => state.features?.values?.[key]);\n  }\n\n  getSetting(key: string) {\n    return this.store.state.setting?.values?.[key];\n  }\n\n  getSetting$(key: string) {\n    return this.store.sliceState(state => state.setting?.values?.[key]);\n  }\n\n  getSettings(keyword?: string) {\n    const settings = this.store.state.setting?.values || {};\n\n    if (!keyword) return settings;\n\n    const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\n\n    return keysFound.reduce((acc, key) => {\n      acc[key] = settings[key];\n      return acc;\n    }, {});\n  }\n\n  getSettings$(keyword?: string) {\n    return this.store\n      .sliceState(state => state.setting?.values)\n      .pipe(\n        map((settings = {}) => {\n          if (!keyword) return settings;\n\n          const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\n\n          return keysFound.reduce((acc, key) => {\n            acc[key] = settings[key];\n            return acc;\n          }, {});\n        }),\n      );\n  }\n}\n\nfunction splitKeys(keys: string[] | string): string[] {\n  if (typeof keys === 'string') {\n    keys = keys.split('.');\n  }\n\n  if (!Array.isArray(keys)) {\n    throw new Error('The argument must be a dot string or an string array.');\n  }\n\n  return keys;\n}\n","import { Injectable } from '@angular/core';\nimport compare from 'just-compare';\nimport { filter, take } from 'rxjs/operators';\nimport { Session } from '../models/session';\nimport { CurrentTenantDto } from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { ConfigStateService } from './config-state.service';\n\nexport interface SessionDetail {\n  openedTabCount: number;\n  lastExitTime: number;\n  remember: boolean;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SessionStateService {\n  private readonly store = new InternalStore({} as Session.State);\n\n  private updateLocalStorage = () => {\n    localStorage.setItem('abpSession', JSON.stringify(this.store.state));\n  };\n\n  constructor(private configState: ConfigStateService) {\n    this.init();\n    this.setInitialLanguage();\n  }\n\n  private init() {\n    const session = localStorage.getItem('abpSession');\n    if (session) {\n      this.store.set(JSON.parse(session));\n    }\n\n    this.store.sliceUpdate(state => state).subscribe(this.updateLocalStorage);\n  }\n\n  private setInitialLanguage() {\n    if (this.getLanguage()) return;\n\n    this.configState\n      .getDeep$('localization.currentCulture.cultureName')\n      .pipe(\n        filter(cultureName => !!cultureName),\n        take(1),\n      )\n      .subscribe(lang => {\n        if (lang.includes(';')) {\n          lang = lang.split(';')[0];\n        }\n\n        this.setLanguage(lang);\n      });\n  }\n\n  onLanguageChange$() {\n    return this.store.sliceUpdate(state => state.language);\n  }\n\n  onTenantChange$() {\n    return this.store.sliceUpdate(state => state.tenant);\n  }\n\n  getLanguage() {\n    return this.store.state.language;\n  }\n\n  getLanguage$() {\n    return this.store.sliceState(state => state.language);\n  }\n\n  getTenant() {\n    return this.store.state.tenant;\n  }\n\n  getTenant$() {\n    return this.store.sliceState(state => state.tenant);\n  }\n\n  setTenant(tenant: CurrentTenantDto) {\n    if (compare(tenant, this.store.state.tenant)) return;\n\n    this.store.set({ ...this.store.state, tenant });\n  }\n\n  setLanguage(language: string) {\n    if (language === this.store.state.language) return;\n\n    this.store.patch({ language });\n    document.documentElement.setAttribute('lang', language);\n  }\n}\n","import { registerLocaleData } from '@angular/common';\nimport { Injectable, Injector, isDevMode, NgZone, Optional, SkipSelf } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { noop, Observable, Subject } from 'rxjs';\nimport { filter, map, mapTo, switchMap, tap } from 'rxjs/operators';\nimport { ABP } from '../models/common';\nimport { Config } from '../models/config';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { CORE_OPTIONS } from '../tokens/options.token';\nimport { createLocalizer, createLocalizerWithFallback } from '../utils/localization-utils';\nimport { interpolate } from '../utils/string-utils';\nimport { ConfigStateService } from './config-state.service';\nimport { SessionStateService } from './session-state.service';\n\n@Injectable({ providedIn: 'root' })\nexport class LocalizationService {\n  private latestLang = this.sessionState.getLanguage();\n  private _languageChange$ = new Subject<string>();\n\n  /**\n   * Returns currently selected language\n   */\n  get currentLang(): string {\n    return this.latestLang;\n  }\n\n  get languageChange$(): Observable<string> {\n    return this._languageChange$.asObservable();\n  }\n\n  constructor(\n    private sessionState: SessionStateService,\n    private injector: Injector,\n    private ngZone: NgZone,\n    @Optional()\n    @SkipSelf()\n    otherInstance: LocalizationService,\n    private configState: ConfigStateService,\n    private appConfigService: AbpApplicationConfigurationService,\n  ) {\n    if (otherInstance) throw new Error('LocalizationService should have only one instance.');\n\n    this.listenToSetLanguage();\n  }\n\n  private listenToSetLanguage() {\n    this.sessionState\n      .onLanguageChange$()\n      .pipe(\n        filter(\n          lang => this.configState.getDeep('localization.currentCulture.cultureName') !== lang,\n        ),\n        switchMap(lang =>\n          this.appConfigService\n            .get()\n            .pipe(tap(res => this.configState.setState(res)))\n            .pipe(mapTo(lang)),\n        ),\n      )\n      .subscribe(lang => {\n        this.registerLocale(lang);\n        this._languageChange$.next(lang);\n      });\n  }\n\n  registerLocale(locale: string) {\n    const router = this.injector.get(Router);\n    const { shouldReuseRoute } = router.routeReuseStrategy;\n    router.routeReuseStrategy.shouldReuseRoute = () => false;\n    router.navigated = false;\n\n    const { registerLocaleFn }: ABP.Root = this.injector.get(CORE_OPTIONS);\n\n    return registerLocaleFn(locale).then(module => {\n      if (module?.default) registerLocaleData(module.default);\n      this.latestLang = locale;\n\n      this.ngZone.run(async () => {\n        await router.navigateByUrl(router.url).catch(noop);\n        router.routeReuseStrategy.shouldReuseRoute = shouldReuseRoute;\n      });\n    });\n  }\n\n  /**\n   * Returns an observable localized text with the given interpolation parameters in current language.\n   * @param key Localizaton key to replace with localized text\n   * @param interpolateParams Values to interpolate\n   */\n  get(\n    key: string | Config.LocalizationWithDefault,\n    ...interpolateParams: string[]\n  ): Observable<string> {\n    return this.configState\n      .getAll$()\n      .pipe(map(state => getLocalization(state, key, ...interpolateParams)));\n  }\n\n  getResource(resourceName: string) {\n    return this.configState.getDeep(`localization.values.${resourceName}`);\n  }\n\n  getResource$(resourceName: string) {\n    return this.configState.getDeep$(`localization.values.${resourceName}`);\n  }\n\n  /**\n   * Returns localized text with the given interpolation parameters in current language.\n   * @param key Localization key to replace with localized text\n   * @param interpolateParams Values to intepolate.\n   */\n  instant(key: string | Config.LocalizationWithDefault, ...interpolateParams: string[]): string {\n    return getLocalization(this.configState.getAll(), key, ...interpolateParams);\n  }\n\n  localize(resourceName: string, key: string, defaultValue: string): Observable<string> {\n    return this.configState.getOne$('localization').pipe(\n      map(createLocalizer),\n      map(localize => localize(resourceName, key, defaultValue)),\n    );\n  }\n\n  localizeSync(resourceName: string, key: string, defaultValue: string): string {\n    const localization = this.configState.getOne('localization');\n    return createLocalizer(localization)(resourceName, key, defaultValue);\n  }\n\n  localizeWithFallback(\n    resourceNames: string[],\n    keys: string[],\n    defaultValue: string,\n  ): Observable<string> {\n    return this.configState.getOne$('localization').pipe(\n      map(createLocalizerWithFallback),\n      map(localizeWithFallback => localizeWithFallback(resourceNames, keys, defaultValue)),\n    );\n  }\n\n  localizeWithFallbackSync(resourceNames: string[], keys: string[], defaultValue: string): string {\n    const localization = this.configState.getOne('localization');\n    return createLocalizerWithFallback(localization)(resourceNames, keys, defaultValue);\n  }\n}\n\nfunction getLocalization(\n  state: ApplicationConfigurationDto,\n  key: string | Config.LocalizationWithDefault,\n  ...interpolateParams: string[]\n) {\n  if (!key) key = '';\n  let defaultValue: string;\n\n  if (typeof key !== 'string') {\n    defaultValue = key.defaultValue;\n    key = key.key;\n  }\n\n  const keys = key.split('::') as string[];\n  const warn = (message: string) => {\n    if (isDevMode) console.warn(message);\n  };\n\n  if (keys.length < 2) {\n    warn('The localization source separator (::) not found.');\n    return defaultValue || (key as string);\n  }\n  if (!state.localization) return defaultValue || keys[1];\n\n  const sourceName = keys[0] || state.localization.defaultResourceName;\n  const sourceKey = keys[1];\n\n  if (sourceName === '_') {\n    return defaultValue || sourceKey;\n  }\n\n  if (!sourceName) {\n    warn('Localization source name is not specified and the defaultResourceName was not defined!');\n\n    return defaultValue || sourceKey;\n  }\n\n  const source = state.localization.values[sourceName];\n  if (!source) {\n    warn('Could not find localization source: ' + sourceName);\n    return defaultValue || sourceKey;\n  }\n\n  let localization = source[sourceKey];\n  if (typeof localization === 'undefined') {\n    return defaultValue || sourceKey;\n  }\n\n  interpolateParams = interpolateParams.filter(params => params != null);\n  if (localization) localization = interpolate(localization, interpolateParams);\n\n  if (typeof localization !== 'string') localization = '';\n\n  return localization || defaultValue || (key as string);\n}\n","import { NgZone } from '@angular/core';\nimport { PRIMARY_OUTLET, Router, UrlSegmentGroup } from '@angular/router';\nimport { ABP } from '../models/common';\nimport { RoutesService } from '../services/routes.service';\nimport { noop } from './common-utils';\nimport { TreeNode } from './tree-utils';\n\nexport function findRoute(routesService: RoutesService, path: string): TreeNode<ABP.Route> {\n  const node = routesService.find(route => route.path === path);\n\n  return node || path === '/'\n    ? node\n    : findRoute(routesService, path.split('/').slice(0, -1).join('/') || '/');\n}\n\nexport function getRoutePath(router: Router, url = router.url) {\n  const emptyGroup = { segments: [] } as UrlSegmentGroup;\n  const primaryGroup = router.parseUrl(url).root.children[PRIMARY_OUTLET];\n\n  return '/' + (primaryGroup || emptyGroup).segments.map(({ path }) => path).join('/');\n}\n\nexport function reloadRoute(router: Router, ngZone: NgZone) {\n  const { shouldReuseRoute } = router.routeReuseStrategy;\n  const setRouteReuse = (reuse: typeof shouldReuseRoute) => {\n    router.routeReuseStrategy.shouldReuseRoute = reuse;\n  };\n\n  setRouteReuse(() => false);\n  router.navigated = false;\n\n  ngZone.run(async () => {\n    await router.navigateByUrl(router.url).catch(noop);\n    setRouteReuse(shouldReuseRoute);\n  });\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { reloadRoute } from '../utils/route-utils';\n\n@Injectable({ providedIn: 'root' })\nexport class ReplaceableComponentsService {\n  private readonly store: InternalStore<ReplaceableComponents.ReplaceableComponent[]>;\n\n  get replaceableComponents$(): Observable<ReplaceableComponents.ReplaceableComponent[]> {\n    return this.store.sliceState(state => state);\n  }\n\n  get replaceableComponents(): ReplaceableComponents.ReplaceableComponent[] {\n    return this.store.state;\n  }\n\n  get onUpdate$(): Observable<ReplaceableComponents.ReplaceableComponent[]> {\n    return this.store.sliceUpdate(state => state);\n  }\n\n  constructor(private ngZone: NgZone, private router: Router) {\n    this.store = new InternalStore([]);\n  }\n\n  add(replaceableComponent: ReplaceableComponents.ReplaceableComponent, reload?: boolean): void {\n    const replaceableComponents = [...this.store.state];\n\n    const index = replaceableComponents.findIndex(\n      component => component.key === replaceableComponent.key,\n    );\n\n    if (index > -1) {\n      replaceableComponents[index] = replaceableComponent;\n    } else {\n      replaceableComponents.push(replaceableComponent);\n    }\n\n    this.store.set(replaceableComponents);\n\n    if (reload) reloadRoute(this.router, this.ngZone);\n  }\n\n  get(replaceableComponentKey: string): ReplaceableComponents.ReplaceableComponent {\n    return this.replaceableComponents.find(component => component.key === replaceableComponentKey);\n  }\n\n  get$(replaceableComponentKey: string): Observable<ReplaceableComponents.ReplaceableComponent> {\n    return this.replaceableComponents$.pipe(\n      map(components => components.find(component => component.key === replaceableComponentKey)),\n    );\n  }\n}\n","export function pushValueTo<T extends any>(array: T[]) {\n  return (element: T) => {\n    array.push(element);\n    return array;\n  };\n}\n","export class BaseTreeNode<T extends object> {\n  children: TreeNode<T>[] = [];\n  isLeaf = true;\n  parent?: TreeNode<T>;\n\n  constructor(props: T) {\n    Object.assign(this, props);\n  }\n\n  static create<T extends object>(props: T) {\n    return new BaseTreeNode<T>(props) as TreeNode<T>;\n  }\n}\n\nexport function createTreeFromList<T extends object, R extends unknown>(\n  list: T[],\n  keySelector: (item: T) => NodeKey,\n  parentKeySelector: typeof keySelector,\n  valueMapper: (item: T) => R,\n) {\n  const map = createMapFromList(list, keySelector, valueMapper);\n  const tree: NodeValue<T, typeof valueMapper>[] = [];\n\n  list.forEach(row => {\n    const id = keySelector(row);\n    const parentId = parentKeySelector(row);\n    const node = map.get(id);\n\n    if (!node) return;\n\n    if (parentId) {\n      const parent = map.get(parentId);\n      if (!parent) return;\n      (parent as any).children.push(node);\n      (parent as any).isLeaf = false;\n      (node as any).parent = parent;\n    } else {\n      tree.push(node);\n    }\n  });\n\n  return tree;\n}\n\nexport function createMapFromList<T extends object, R extends unknown>(\n  list: T[],\n  keySelector: (item: T) => NodeKey,\n  valueMapper: (item: T) => R,\n) {\n  type Key = ReturnType<typeof keySelector>;\n  type Value = NodeValue<T, typeof valueMapper>;\n  const map = new Map<Key, Value>();\n  list.forEach(row => map.set(keySelector(row), valueMapper(row)));\n  return map;\n}\n\nexport type TreeNode<T extends object> = {\n  [K in keyof T]: T[K];\n} & {\n  children: TreeNode<T>[];\n  isLeaf: boolean;\n  parent?: TreeNode<T>;\n};\n\ntype NodeKey = number | string | symbol | undefined | null;\n\ntype NodeValue<T extends object, F extends (...args: any) => any> = F extends undefined\n  ? TreeNode<T>\n  : ReturnType<F>;\n","import { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport snq from 'snq';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { ConfigStateService } from './config-state.service';\n\n@Injectable({ providedIn: 'root' })\nexport class PermissionService {\n  constructor(protected configState: ConfigStateService) {}\n\n  getGrantedPolicy$(key: string) {\n    return this.getStream().pipe(\n      map(grantedPolicies => this.isPolicyGranted(key, grantedPolicies)),\n    );\n  }\n\n  getGrantedPolicy(key: string) {\n    const policies = this.getSnapshot();\n    return this.isPolicyGranted(key, policies);\n  }\n\n  protected isPolicyGranted(key: string, grantedPolicies: Record<string, boolean>) {\n    if (!key) return true;\n\n    const orRegexp = /\\|\\|/g;\n    const andRegexp = /&&/g;\n\n    // TODO: Allow combination of ANDs & ORs\n    if (orRegexp.test(key)) {\n      const keys = key.split('||').filter(Boolean);\n\n      if (keys.length < 2) return false;\n\n      return keys.some(k => this.getPolicy(k.trim(), grantedPolicies));\n    } else if (andRegexp.test(key)) {\n      const keys = key.split('&&').filter(Boolean);\n\n      if (keys.length < 2) return false;\n\n      return keys.every(k => this.getPolicy(k.trim(), grantedPolicies));\n    }\n\n    return this.getPolicy(key, grantedPolicies);\n  }\n\n  protected getStream() {\n    return this.configState.getAll$().pipe(map(this.mapToPolicies));\n  }\n\n  protected getSnapshot() {\n    return this.mapToPolicies(this.configState.getAll());\n  }\n\n  protected mapToPolicies(applicationConfiguration: ApplicationConfigurationDto) {\n    return snq(() => applicationConfiguration.auth.grantedPolicies, {});\n  }\n\n  protected getPolicy(key: string, grantedPolicies: Record<string, boolean>) {\n    return snq(() => grantedPolicies[key], false);\n  }\n}\n","import { Injectable, Injector, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { ABP } from '../models/common';\nimport { pushValueTo } from '../utils/array-utils';\nimport { BaseTreeNode, createTreeFromList, TreeNode } from '../utils/tree-utils';\nimport { ConfigStateService } from './config-state.service';\nimport { PermissionService } from './permission.service';\n\nexport abstract class AbstractTreeService<T extends object> {\n  abstract id: string;\n  abstract parentId: string;\n  abstract hide: (item: T) => boolean;\n  abstract sort: (a: T, b: T) => number;\n\n  private _flat$ = new BehaviorSubject<T[]>([]);\n  private _tree$ = new BehaviorSubject<TreeNode<T>[]>([]);\n  private _visible$ = new BehaviorSubject<TreeNode<T>[]>([]);\n\n  get flat(): T[] {\n    return this._flat$.value;\n  }\n\n  get flat$(): Observable<T[]> {\n    return this._flat$.asObservable();\n  }\n\n  get tree(): TreeNode<T>[] {\n    return this._tree$.value;\n  }\n\n  get tree$(): Observable<TreeNode<T>[]> {\n    return this._tree$.asObservable();\n  }\n\n  get visible(): TreeNode<T>[] {\n    return this._visible$.value;\n  }\n\n  get visible$(): Observable<TreeNode<T>[]> {\n    return this._visible$.asObservable();\n  }\n\n  protected createTree(items: T[]): TreeNode<T>[] {\n    return createTreeFromList<T, TreeNode<T>>(\n      items,\n      item => item[this.id],\n      item => item[this.parentId],\n      item => BaseTreeNode.create(item),\n    );\n  }\n\n  private filterWith(setOrMap: Set<string> | Map<string, T>): T[] {\n    return this._flat$.value.filter(item => !setOrMap.has(item[this.id]));\n  }\n\n  private findItemsToRemove(set: Set<string>): Set<string> {\n    return this._flat$.value.reduce((acc, item) => {\n      if (!acc.has(item[this.parentId])) return acc;\n      const childSet = new Set([item[this.id]]);\n      const children = this.findItemsToRemove(childSet);\n      return new Set([...acc, ...children]);\n    }, set);\n  }\n\n  private publish(flatItems: T[], visibleItems: T[]): T[] {\n    this._flat$.next(flatItems);\n    this._tree$.next(this.createTree(flatItems));\n    this._visible$.next(this.createTree(visibleItems));\n    return flatItems;\n  }\n\n  add(items: T[]): T[] {\n    const map = new Map<string, T>();\n    items.forEach(item => map.set(item[this.id], item));\n\n    const flatItems = this.filterWith(map);\n    map.forEach(pushValueTo(flatItems));\n\n    flatItems.sort(this.sort);\n    const visibleItems = flatItems.filter(item => !this.hide(item));\n\n    return this.publish(flatItems, visibleItems);\n  }\n\n  find(predicate: (item: TreeNode<T>) => boolean, tree = this.tree): TreeNode<T> | null {\n    return tree.reduce(\n      (acc, node) => (acc ? acc : predicate(node) ? node : this.find(predicate, node.children)),\n      null,\n    );\n  }\n\n  patch(identifier: string, props: Partial<T>): T[] | false {\n    const flatItems = this._flat$.value;\n    const index = flatItems.findIndex(item => item[this.id] === identifier);\n    if (index < 0) return false;\n\n    flatItems[index] = { ...flatItems[index], ...props };\n\n    flatItems.sort(this.sort);\n    const visibleItems = flatItems.filter(item => !this.hide(item));\n\n    return this.publish(flatItems, visibleItems);\n  }\n\n  refresh(): T[] {\n    return this.add([]);\n  }\n\n  remove(identifiers: string[]): T[] {\n    const set = new Set<string>();\n    identifiers.forEach(id => set.add(id));\n\n    const setToRemove = this.findItemsToRemove(set);\n    const flatItems = this.filterWith(setToRemove);\n    const visibleItems = flatItems.filter(item => !this.hide(item));\n\n    return this.publish(flatItems, visibleItems);\n  }\n\n  search(params: Partial<T>, tree = this.tree): TreeNode<T> | null {\n    const searchKeys = Object.keys(params);\n\n    return tree.reduce(\n      (acc, node) =>\n        acc\n          ? acc\n          : searchKeys.every(key => node[key] === params[key])\n          ? node\n          : this.search(params, node.children),\n      null,\n    );\n  }\n}\n\n@Injectable()\nexport abstract class AbstractNavTreeService<T extends ABP.Nav>\n  extends AbstractTreeService<T>\n  implements OnDestroy {\n  private subscription: Subscription;\n  private permissionService: PermissionService;\n  readonly id = 'name';\n  readonly parentId = 'parentName';\n  readonly hide = (item: T) => item.invisible || !this.isGranted(item);\n  readonly sort = (a: T, b: T) => {\n    if (!Number.isInteger(a.order)) return 1;\n    if (!Number.isInteger(b.order)) return -1;\n\n    return a.order - b.order;\n  };\n\n  constructor(protected injector: Injector) {\n    super();\n    const configState = this.injector.get(ConfigStateService);\n    this.subscription = configState\n      .createOnUpdateStream(state => state)\n      .subscribe(() => this.refresh());\n    this.permissionService = injector.get(PermissionService);\n  }\n\n  protected isGranted({ requiredPolicy }: T): boolean {\n    return this.permissionService.getGrantedPolicy(requiredPolicy);\n  }\n\n  hasChildren(identifier: string): boolean {\n    const node = this.find(item => item[this.id] === identifier);\n    return Boolean(node?.children?.length);\n  }\n\n  hasInvisibleChild(identifier: string): boolean {\n    const node = this.find(item => item[this.id] === identifier);\n    return node?.children?.some(child => child.invisible);\n  }\n\n  /* istanbul ignore next */\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class RoutesService extends AbstractNavTreeService<ABP.Route> {}\n\n@Injectable({ providedIn: 'root' })\nexport class SettingTabsService extends AbstractNavTreeService<ABP.Tab> {}\n","import { Injectable } from '@angular/core';\nimport type { OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport type { Observable, PartialObserver } from 'rxjs';\n\n@Injectable()\nexport class SubscriptionService implements OnDestroy {\n  private subscription = new Subscription();\n\n  get isClosed() {\n    return this.subscription.closed;\n  }\n\n  addOne<T extends unknown>(\n    source$: Observable<T>,\n    next?: (value: T) => void,\n    error?: (error: any) => void,\n  ): Subscription;\n  addOne<T extends unknown>(source$: Observable<T>, observer?: PartialObserver<T>): Subscription;\n  addOne<T extends unknown>(\n    source$: Observable<T>,\n    nextOrObserver?: PartialObserver<T> | Next<T>,\n    error?: (error: any) => void,\n  ): Subscription {\n    const subscription = source$.subscribe(nextOrObserver as Next<T>, error);\n    this.subscription.add(subscription);\n    return subscription;\n  }\n\n  closeAll() {\n    this.subscription.unsubscribe();\n  }\n\n  closeOne(subscription: Subscription | undefined | null) {\n    this.removeOne(subscription);\n    subscription.unsubscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  removeOne(subscription: Subscription | undefined | null) {\n    if (!subscription) return;\n    this.subscription.remove(subscription);\n  }\n\n  reset() {\n    this.subscription.unsubscribe();\n    this.subscription = new Subscription();\n  }\n}\n\ntype Next<T> = (value: T) => void;\n","import { Component, Injector, Optional, SkipSelf, Type } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { eLayoutType } from '../enums/common';\nimport { ABP } from '../models';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { LocalizationService } from '../services/localization.service';\nimport { ReplaceableComponentsService } from '../services/replaceable-components.service';\nimport { RoutesService } from '../services/routes.service';\nimport { SubscriptionService } from '../services/subscription.service';\nimport { findRoute, getRoutePath } from '../utils/route-utils';\nimport { TreeNode } from '../utils/tree-utils';\n\n@Component({\n  selector: 'abp-dynamic-layout',\n  template: `\n    <ng-container *ngTemplateOutlet=\"layout ? componentOutlet : routerOutlet\"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet\n      ><ng-container *ngIf=\"isLayoutVisible\" [ngComponentOutlet]=\"layout\"></ng-container\n    ></ng-template>\n  `,\n  providers: [SubscriptionService],\n})\nexport class DynamicLayoutComponent {\n  layout: Type<any>;\n  layoutKey: eLayoutType;\n\n  // TODO: Consider a shared enum (eThemeSharedComponents) for known layouts\n  readonly layouts = new Map([\n    ['application', 'Theme.ApplicationLayoutComponent'],\n    ['account', 'Theme.AccountLayoutComponent'],\n    ['empty', 'Theme.EmptyLayoutComponent'],\n  ]);\n\n  isLayoutVisible = true;\n\n  private router: Router;\n  private route: ActivatedRoute;\n  private routes: RoutesService;\n\n  constructor(\n    injector: Injector,\n    private localizationService: LocalizationService,\n    private replaceableComponents: ReplaceableComponentsService,\n    private subscription: SubscriptionService,\n    @Optional() @SkipSelf() dynamicLayoutComponent: DynamicLayoutComponent,\n  ) {\n    if (dynamicLayoutComponent) return;\n    this.route = injector.get(ActivatedRoute);\n    this.router = injector.get(Router);\n    this.routes = injector.get(RoutesService);\n\n    this.getLayout();\n    this.subscription.addOne(\n      this.router.events.pipe(filter(event => event instanceof NavigationEnd)),\n      () => {\n        this.getLayout();\n      },\n    );\n\n    this.listenToLanguageChange();\n  }\n\n  private getLayout() {\n    let expectedLayout = (this.route.snapshot.data || {}).layout;\n\n    if (!expectedLayout) {\n      let node = findRoute(this.routes, getRoutePath(this.router));\n      node = { parent: node } as TreeNode<ABP.Route>;\n\n      while (node.parent) {\n        node = node.parent;\n\n        if (node.layout) {\n          expectedLayout = node.layout;\n          break;\n        }\n      }\n    }\n\n    if (!expectedLayout) expectedLayout = eLayoutType.empty;\n\n    if (this.layoutKey === expectedLayout) return;\n\n    const key = this.layouts.get(expectedLayout);\n    this.layout = this.getComponent(key)?.component;\n    this.layoutKey = expectedLayout;\n  }\n\n  private listenToLanguageChange() {\n    this.subscription.addOne(this.localizationService.languageChange$, () => {\n      this.isLayoutVisible = false;\n      setTimeout(() => (this.isLayoutVisible = true), 0);\n    });\n  }\n\n  private getComponent(key: string): ReplaceableComponents.ReplaceableComponent {\n    return this.replaceableComponents.get(key);\n  }\n}\n","import { Component, OnInit, Type } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { ReplaceableComponentsService } from '../services/replaceable-components.service';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Component({\n  selector: 'abp-replaceable-route-container',\n  template: `\n    <ng-container *ngComponentOutlet=\"externalComponent || defaultComponent\"></ng-container>\n  `,\n  providers: [SubscriptionService],\n})\nexport class ReplaceableRouteContainerComponent implements OnInit {\n  defaultComponent: Type<any>;\n\n  componentKey: string;\n\n  externalComponent: Type<any>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private replaceableComponents: ReplaceableComponentsService,\n    private subscription: SubscriptionService,\n  ) {}\n\n  ngOnInit() {\n    this.defaultComponent = this.route.snapshot.data.replaceableComponent.defaultComponent;\n    this.componentKey = (this.route.snapshot.data\n      .replaceableComponent as ReplaceableComponents.RouteData).key;\n\n    const component$ = this.replaceableComponents\n      .get$(this.componentKey)\n      .pipe(distinctUntilChanged());\n\n    this.subscription.addOne(\n      component$,\n      (res = {} as ReplaceableComponents.ReplaceableComponent) => {\n        this.externalComponent = res.component;\n      },\n    );\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'abp-router-outlet',\n  template: `\n    <router-outlet></router-outlet>\n  `,\n})\nexport class RouterOutletComponent {}\n","// Different locales from .NET\n// Key is .NET locale, value is Angular locale\n\nexport const differentLocales = {\n  aa: 'en',\n  'aa-DJ': 'en',\n  'aa-ER': 'en',\n  'aa-ET': 'en',\n  'af-ZA': 'af',\n  'agq-CM': 'agq',\n  'ak-GH': 'ak',\n  'am-ET': 'am',\n  'ar-001': 'ar',\n  arn: 'en',\n  'arn-CL': 'en',\n  'as-IN': 'as',\n  'asa-TZ': 'asa',\n  'ast-ES': 'ast',\n  'az-Cyrl-AZ': 'az-Cyrl',\n  'az-Latn-AZ': 'az-Latn',\n  ba: 'ru',\n  'ba-RU': 'ru',\n  'bas-CM': 'bas',\n  'be-BY': 'be',\n  'bem-ZM': 'bem',\n  'bez-TZ': 'bez',\n  'bg-BG': 'bg',\n  bin: 'en',\n  'bin-NG': 'en',\n  'bm-Latn': 'bm',\n  'bm-Latn-ML': 'bm',\n  'bn-BD': 'bn',\n  'bo-CN': 'bo',\n  'br-FR': 'br',\n  'brx-IN': 'brx',\n  'bs-Cyrl-BA': 'bs-Cyrl',\n  'bs-Latn-BA': 'bs-Latn',\n  byn: 'en',\n  'byn-ER': 'en',\n  'ca-ES': 'ca',\n  'ca-ES-valencia': 'ca-ES-VALENCIA',\n  'ce-RU': 'ce',\n  'cgg-UG': 'cgg',\n  'chr-Cher': 'chr',\n  'chr-Cher-US': 'chr',\n  co: 'en',\n  'co-FR': 'fr',\n  'cs-CZ': 'cs',\n  'cu-RU': 'cu',\n  'cy-GB': 'cy',\n  'da-DK': 'da',\n  'dav-KE': 'dav',\n  'de-DE': 'de',\n  'dje-NE': 'dje',\n  'dsb-DE': 'dsb',\n  'dua-CM': 'dua',\n  dv: 'en',\n  'dv-MV': 'en',\n  'dyo-SN': 'dyo',\n  'dz-BT': 'dz',\n  'ebu-KE': 'ebu',\n  'ee-GH': 'ee',\n  'el-GR': 'el',\n  'en-029': 'en',\n  'en-ID': 'en',\n  'en-US': 'en',\n  'eo-001': 'en',\n  'es-ES': 'es',\n  'et-EE': 'et',\n  'eu-ES': 'eu',\n  'ewo-CM': 'ewo',\n  'fa-IR': 'fa',\n  'ff-Latn-SN': 'ff-Latn',\n  'ff-NG': 'ff',\n  'fi-FI': 'fi',\n  'fil-PH': 'fil',\n  'fo-FO': 'fo',\n  'fr-029': 'fr',\n  'fr-FR': 'fr',\n  'fur-IT': 'fur',\n  'fy-NL': 'fy',\n  'ga-IE': 'ga',\n  'gd-GB': 'gd',\n  'gl-ES': 'gl',\n  gn: 'en',\n  'gn-PY': 'en',\n  'gsw-CH': 'gsw',\n  'gu-IN': 'gu',\n  'guz-KE': 'guz',\n  'gv-IM': 'gv',\n  'ha-Latn': 'ha',\n  'ha-Latn-GH': 'ha-GH',\n  'ha-Latn-NE': 'ha-NE',\n  'ha-Latn-NG': 'ha',\n  'haw-US': 'haw',\n  'he-IL': 'he',\n  'hi-IN': 'hi',\n  'hr-HR': 'hr',\n  'hsb-DE': 'hsb',\n  'hu-HU': 'hu',\n  'hy-AM': 'hy',\n  'ia-001': 'ia',\n  'ia-FR': 'ia',\n  ibb: 'en',\n  'ibb-NG': 'en',\n  'id-ID': 'id',\n  'ig-NG': 'ig',\n  'ii-CN': 'ii',\n  'is-IS': 'is',\n  'it-IT': 'it',\n  iu: 'en',\n  'iu-Cans': 'en',\n  'iu-Cans-CA': 'en',\n  'iu-Latn': 'en',\n  'iu-Latn-CA': 'en',\n  'ja-JP': 'ja',\n  'jgo-CM': 'jgo',\n  'jmc-TZ': 'jmc',\n  'jv-Java': 'jv',\n  'jv-Java-ID': 'jv',\n  'jv-Latn': 'jv',\n  'jv-Latn-ID': 'jv',\n  'ka-GE': 'ka',\n  'kab-DZ': 'kab',\n  'kam-KE': 'kam',\n  'kde-TZ': 'kde',\n  'kea-CV': 'kea',\n  'khq-ML': 'khq',\n  'ki-KE': 'ki',\n  'kk-KZ': 'kk',\n  'kkj-CM': 'kkj',\n  'kl-GL': 'kl',\n  'kln-KE': 'kln',\n  'km-KH': 'km',\n  'kn-IN': 'kn',\n  'ko-KR': 'ko',\n  'kok-IN': 'kok',\n  kr: 'en',\n  'kr-NG': 'en',\n  'ks-Arab': 'ks',\n  'ks-Arab-IN': 'ks',\n  'ks-Deva': 'ks',\n  'ks-Deva-IN': 'ks',\n  'ksb-TZ': 'ksb',\n  'ksf-CM': 'ksf',\n  'ksh-DE': 'ksh',\n  'ku-Arab': 'ku',\n  'ku-Arab-IQ': 'ku',\n  'ku-Arab-IR': 'ku',\n  'kw-GB': 'kw',\n  'ky-KG': 'ky',\n  la: 'en',\n  'la-001': 'en',\n  'lag-TZ': 'lag',\n  'lb-LU': 'lb',\n  'lg-UG': 'lg',\n  'lkt-US': 'lkt',\n  'ln-CD': 'ln',\n  'lo-LA': 'lo',\n  'lrc-IR': 'lrc',\n  'lt-LT': 'lt',\n  'lu-CD': 'lu',\n  'luo-KE': 'luo',\n  'luy-KE': 'luy',\n  'lv-LV': 'lv',\n  'mas-KE': 'mas',\n  'mer-KE': 'mer',\n  'mfe-MU': 'mfe',\n  'mg-MG': 'mg',\n  'mgh-MZ': 'mgh',\n  'mgo-CM': 'mgo',\n  'mi-NZ': 'mi',\n  'mk-MK': 'mk',\n  'ml-IN': 'ml',\n  'mn-Cyrl': 'mn',\n  'mn-MN': 'mn',\n  'mn-Mong': 'mn',\n  'mn-Mong-CN': 'mn',\n  'mn-Mong-MN': 'mn',\n  mni: 'en',\n  'mni-IN': 'en',\n  moh: 'en',\n  'moh-CA': 'en',\n  'mr-IN': 'mr',\n  'ms-MY': 'ms',\n  'mt-MT': 'mt',\n  'mua-CM': 'mua',\n  'my-MM': 'my',\n  'mzn-IR': 'mzn',\n  'naq-NA': 'naq',\n  'nb-NO': 'nb',\n\n  'nd-ZW': 'nd',\n  'ne-NP': 'ne',\n  'nl-NL': 'nl',\n  'nmg-CM': 'ngm',\n  'nn-NO': 'nn',\n  'nnh-CM': 'nnh',\n  no: 'en',\n  nqo: 'en',\n  'nqo-GN': 'en',\n  nr: 'en',\n  'nr-ZA': 'en',\n  nso: 'en',\n  'nso-ZA': 'en',\n  'nus-SS': 'nus',\n  'nyn-UG': 'nyn',\n  oc: 'en',\n  'oc-FR': 'fr',\n  'om-ET': 'om',\n  'or-IN': 'or',\n  'os-GE': 'os',\n  'pa-Arab-PK': 'pa-Arab',\n  'pa-IN': 'pa',\n  pap: 'en',\n  'pap-029': 'en',\n  'pl-PL': 'pl',\n  'prg-001': 'prg',\n  prs: 'en',\n  'prs-AF': 'en',\n  'ps-AF': 'ps',\n  'pt-BR': 'pt',\n  quc: 'en',\n  'quc-Latn': 'en',\n  'quc-Latn-GT': 'en',\n  quz: 'en',\n  'quz-BO': 'en',\n  'quz-EC': 'en',\n  'quz-PE': 'en',\n  'rm-CH': 'rm',\n  'rn-BI': 'rn',\n  'ro-RO': 'ro',\n  'rof-TZ': 'rof',\n  'ru-RU': 'ru',\n  'rw-RW': 'rw',\n  'rwk-TZ': 'rwk',\n  sa: 'en',\n  'sa-IN': 'en',\n  'sah-RU': 'sah',\n  'saq-KE': 'saq',\n  'sbp-TZ': 'en',\n  'sd-Arab': 'sd',\n  'sd-Arab-PK': 'sd',\n  'sd-Deva': 'sd',\n  'sd-Deva-IN': 'sd',\n  'se-NO': 'se',\n  'seh-MZ': 'seh',\n  'ses-ML': 'ses',\n  'sg-CF': 'sg',\n  'shi-Latn-MA': 'shi-Latn',\n  'shi-Tfng-MA': 'shi-Tfng',\n  'si-LK': 'si',\n  'sk-SK': 'sk',\n  'sl-SI': 'sl',\n  sma: 'en',\n  'sma-NO': 'en',\n  'sma-SE': 'en',\n  smj: 'en',\n  'smj-NO': 'en',\n  'smj-SE': 'en',\n  'smn-FI': 'en',\n  sms: 'en',\n  'sms-FI': 'en',\n  'sn-Latn': 'sn',\n  'sn-Latn-ZW': 'sn',\n  'so-SO': 'so',\n  'sq-AL': 'so',\n  'sr-Cyrl-RS': 'sr-Cryl',\n  'sr-Latn-RS': 'sr-Latn',\n  ss: 'en',\n  'ss-SZ': 'en',\n  'ss-ZA': 'en',\n  ssy: 'en',\n  'ssy-ER': 'en',\n  st: 'en',\n  'st-LS': 'en',\n  'st-ZA': 'en',\n  'sv-SE': 'sv',\n  'sw-TZ': 'sw',\n  syr: 'en',\n  'syr-SY': 'en',\n  'ta-IN': 'ta',\n  'te-IN': 'te',\n  'teo-UG': 'teo',\n  'tg-Cyrl': 'tg',\n  'tg-Cyrl-TJ': 'tg',\n  'th-TH': 'th',\n  'ti-ET': 'ti',\n  tig: 'en',\n  'tig-ER': 'en',\n  'tk-TM': 'tk',\n  tn: 'en',\n  'tn-BW': 'en',\n  'tn-ZA': 'en',\n  'to-TO': 'to',\n  'tr-TR': 'tr',\n  ts: 'en',\n  'ts-ZA': 'en',\n  'tt-RU': 'tt',\n  'twq-NE': 'twq',\n  'tzm-Arab': 'tzm',\n  'tzm-Arab-MA': 'tzm',\n  'tzm-Latn': 'tzm',\n  'tzm-Latn-DZ': 'tzm',\n  'tzm-Latn-MA': 'tzm',\n  'tzm-Tfng': 'tzm',\n  'tzm-Tfng-MA': 'tzm',\n  'ug-CN': 'ug',\n  'uk-UA': 'uk',\n  'ur-PK': 'ur',\n  'uz-Arab-AF': 'uz-Arab',\n  'uz-Cyrl-UZ': 'uz-Cyrl',\n  'uz-Latn-UZ': 'uz-Latn',\n  'vai-Latn-LR': 'vai-Latn',\n  'vai-Vaii-LR': 'vai-Vaii',\n  ve: 'en',\n  've-ZA': 'en',\n  'vi-VN': 'vi',\n  'vo-001': 'vo',\n  'vun-TZ': 'vun',\n  'wae-CH': 'wae',\n  wal: 'en',\n  'wal-ET': 'en',\n  'wo-SN': 'wo',\n  'xh-ZA': 'xh',\n  'xog-UG': 'xog',\n  'yav-CM': 'yav',\n  'yi-001': 'yi',\n  'yo-NG': 'yo',\n  'zgh-Tfng': 'zgh',\n  'zgh-Tfng-MA': 'zgh',\n  'zh-CN': 'zh',\n  'zh-HK': 'zh',\n  'zh-MO': 'zh',\n  'zh-SG': 'zh',\n  'zh-TW': 'zh',\n  'zu-ZA': 'zu',\n};\n","import { Directive, ElementRef, Input, AfterViewInit } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[autofocus]'\n})\nexport class AutofocusDirective implements AfterViewInit {\n  @Input('autofocus')\n  delay = 0;\n\n  constructor(private elRef: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(() => this.elRef.nativeElement.focus(), this.delay);\n  }\n}\n","import { Directive, ElementRef, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[input.debounce]',\n  providers: [SubscriptionService],\n})\nexport class InputEventDebounceDirective implements OnInit {\n  @Input() debounce = 300;\n\n  @Output('input.debounce') readonly debounceEvent = new EventEmitter<Event>();\n\n  constructor(private el: ElementRef, private subscription: SubscriptionService) {}\n\n  ngOnInit(): void {\n    const input$ = fromEvent(this.el.nativeElement, 'input').pipe(debounceTime(this.debounce));\n\n    this.subscription.addOne(input$, (event: Event) => {\n      this.debounceEvent.emit(event);\n    });\n  }\n}\n","import { AfterViewInit, ChangeDetectorRef, Directive, ElementRef, HostBinding, Input } from '@angular/core';\n\n@Directive({\n  selector: '[abpEllipsis]',\n})\nexport class EllipsisDirective implements AfterViewInit {\n  @Input('abpEllipsis')\n  width: string;\n\n  @HostBinding('title')\n  @Input()\n  title: string;\n\n  @Input('abpEllipsisEnabled')\n  enabled = true;\n\n  @HostBinding('class.abp-ellipsis-inline')\n  get inlineClass() {\n    return this.enabled && this.width;\n  }\n\n  @HostBinding('class.abp-ellipsis')\n  get class() {\n    return this.enabled && !this.width;\n  }\n\n  @HostBinding('style.max-width')\n  get maxWidth() {\n    return this.enabled && this.width ? this.width || '170px' : undefined;\n  }\n\n  constructor(private cdRef: ChangeDetectorRef, private elRef: ElementRef) {}\n\n  ngAfterViewInit() {\n    this.title = this.title || (this.elRef.nativeElement as HTMLElement).innerText;\n    this.cdRef.detectChanges();\n  }\n}\n","import {\n  Directive,\n  EmbeddedViewRef,\n  Input,\n  IterableChangeRecord,\n  IterableChanges,\n  IterableDiffer,\n  IterableDiffers,\n  OnChanges,\n  TemplateRef,\n  TrackByFunction,\n  ViewContainerRef,\n} from '@angular/core';\nimport compare from 'just-compare';\nimport clone from 'just-clone';\n\nexport type CompareFn<T = any> = (value: T, comparison: T) => boolean;\n\nclass AbpForContext {\n  constructor(public $implicit: any, public index: number, public count: number, public list: any[]) {}\n}\n\nclass RecordView {\n  constructor(public record: IterableChangeRecord<any>, public view: EmbeddedViewRef<AbpForContext>) {}\n}\n\n@Directive({\n  selector: '[abpFor]',\n})\nexport class ForDirective implements OnChanges {\n  @Input('abpForOf')\n  items: any[];\n\n  @Input('abpForOrderBy')\n  orderBy: string;\n\n  @Input('abpForOrderDir')\n  orderDir: 'ASC' | 'DESC';\n\n  @Input('abpForFilterBy')\n  filterBy: string;\n\n  @Input('abpForFilterVal')\n  filterVal: any;\n\n  @Input('abpForTrackBy')\n  trackBy;\n\n  @Input('abpForCompareBy')\n  compareBy: CompareFn;\n\n  @Input('abpForEmptyRef')\n  emptyRef: TemplateRef<any>;\n\n  private differ: IterableDiffer<any>;\n\n  private isShowEmptyRef: boolean;\n\n  get compareFn(): CompareFn {\n    return this.compareBy || compare;\n  }\n\n  get trackByFn(): TrackByFunction<any> {\n    return this.trackBy || ((index: number, item: any) => (item as any).id || index);\n  }\n\n  constructor(\n    private tempRef: TemplateRef<AbpForContext>,\n    private vcRef: ViewContainerRef,\n    private differs: IterableDiffers,\n  ) {}\n\n  private iterateOverAppliedOperations(changes: IterableChanges<any>) {\n    const rw: RecordView[] = [];\n\n    changes.forEachOperation((record: IterableChangeRecord<any>, previousIndex: number, currentIndex: number) => {\n      if (record.previousIndex == null) {\n        const view = this.vcRef.createEmbeddedView(\n          this.tempRef,\n          new AbpForContext(null, -1, -1, this.items),\n          currentIndex,\n        );\n\n        rw.push(new RecordView(record, view));\n      } else if (currentIndex == null) {\n        this.vcRef.remove(previousIndex);\n      } else {\n        const view = this.vcRef.get(previousIndex);\n        this.vcRef.move(view, currentIndex);\n\n        rw.push(new RecordView(record, view as EmbeddedViewRef<AbpForContext>));\n      }\n    });\n\n    for (let i = 0, l = rw.length; i < l; i++) {\n      rw[i].view.context.$implicit = rw[i].record.item;\n    }\n  }\n\n  private iterateOverAttachedViews(changes: IterableChanges<any>) {\n    for (let i = 0, l = this.vcRef.length; i < l; i++) {\n      const viewRef = this.vcRef.get(i) as EmbeddedViewRef<AbpForContext>;\n      viewRef.context.index = i;\n      viewRef.context.count = l;\n      viewRef.context.list = this.items;\n    }\n\n    changes.forEachIdentityChange((record: IterableChangeRecord<any>) => {\n      const viewRef = this.vcRef.get(record.currentIndex) as EmbeddedViewRef<AbpForContext>;\n      viewRef.context.$implicit = record.item;\n    });\n  }\n\n  private projectItems(items: any[]): void {\n    if (!items.length && this.emptyRef) {\n      this.vcRef.clear();\n      // tslint:disable-next-line: no-unused-expression\n      this.vcRef.createEmbeddedView(this.emptyRef).rootNodes;\n      this.isShowEmptyRef = true;\n      this.differ = null;\n\n      return;\n    }\n\n    if (this.emptyRef && this.isShowEmptyRef) {\n      this.vcRef.clear();\n      this.isShowEmptyRef = false;\n    }\n\n    if (!this.differ && items) {\n      this.differ = this.differs.find(items).create(this.trackByFn);\n    }\n\n    if (this.differ) {\n      const changes = this.differ.diff(items);\n\n      if (changes) {\n        this.iterateOverAppliedOperations(changes);\n        this.iterateOverAttachedViews(changes);\n      }\n    }\n  }\n\n  private sortItems(items: any[]) {\n    if (this.orderBy) {\n      items.sort((a, b) => (a[this.orderBy] > b[this.orderBy] ? 1 : a[this.orderBy] < b[this.orderBy] ? -1 : 0));\n    } else {\n      items.sort();\n    }\n  }\n\n  ngOnChanges() {\n    let items = clone(this.items) as any[];\n    if (!Array.isArray(items)) return;\n\n    const compareFn = this.compareFn;\n\n    if (typeof this.filterBy !== 'undefined' && typeof this.filterVal !== 'undefined' && this.filterVal !== '') {\n      items = items.filter(item => compareFn(item[this.filterBy], this.filterVal));\n    }\n\n    switch (this.orderDir) {\n      case 'ASC':\n        this.sortItems(items);\n        this.projectItems(items);\n        break;\n\n      case 'DESC':\n        this.sortItems(items);\n        items.reverse();\n        this.projectItems(items);\n        break;\n\n      default:\n        this.projectItems(items);\n    }\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  Self,\n} from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime, filter } from 'rxjs/operators';\nimport { SubscriptionService } from '../services/subscription.service';\n\ntype Controls = { [key: string]: FormControl } | FormGroup[];\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: 'form[ngSubmit][formGroup]',\n  providers: [SubscriptionService],\n})\nexport class FormSubmitDirective implements OnInit {\n  @Input()\n  debounce = 200;\n\n  @Input()\n  notValidateOnSubmit: string | boolean;\n\n  @Output() readonly ngSubmit = new EventEmitter();\n\n  executedNgSubmit = false;\n\n  constructor(\n    @Self() private formGroupDirective: FormGroupDirective,\n    private host: ElementRef<HTMLFormElement>,\n    private cdRef: ChangeDetectorRef,\n    private subscription: SubscriptionService,\n  ) {}\n\n  ngOnInit() {\n    this.subscription.addOne(this.formGroupDirective.ngSubmit, () => {\n      this.markAsDirty();\n      this.executedNgSubmit = true;\n    });\n\n    const keyup$ = fromEvent(this.host.nativeElement as HTMLElement, 'keyup').pipe(\n      debounceTime(this.debounce),\n      filter(event => !(event.target instanceof HTMLTextAreaElement)),\n      filter((event: KeyboardEvent) => event && event.key === 'Enter'),\n    );\n\n    this.subscription.addOne(keyup$, () => {\n      if (!this.executedNgSubmit) {\n        this.host.nativeElement.dispatchEvent(\n          new Event('submit', { bubbles: true, cancelable: true }),\n        );\n      }\n\n      this.executedNgSubmit = false;\n    });\n  }\n\n  markAsDirty() {\n    const { form } = this.formGroupDirective;\n\n    setDirty(form.controls as { [key: string]: FormControl });\n    form.markAsDirty();\n\n    this.cdRef.detectChanges();\n  }\n}\n\nfunction setDirty(controls: Controls) {\n  if (Array.isArray(controls)) {\n    controls.forEach(group => {\n      setDirty(group.controls as { [key: string]: FormControl });\n    });\n    return;\n  }\n\n  Object.keys(controls).forEach(key => {\n    controls[key].markAsDirty();\n    controls[key].updateValueAndValidity();\n  });\n}\n","import { Directive, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\n\n@Directive({ selector: '[abpInit]' })\nexport class InitDirective implements AfterViewInit {\n  @Output('abpInit') readonly init = new EventEmitter<ElementRef<any>>();\n\n  constructor(private elRef: ElementRef) {}\n\n  ngAfterViewInit() {\n    this.init.emit(this.elRef);\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { PermissionService } from '../services/permission.service';\n\n@Directive({\n  selector: '[abpPermission]',\n})\nexport class PermissionDirective implements OnDestroy, OnChanges {\n  @Input('abpPermission') condition: string;\n\n  subscription: Subscription;\n\n  constructor(\n    private elRef: ElementRef<HTMLElement>,\n    private renderer: Renderer2,\n    @Optional() private templateRef: TemplateRef<any>,\n    private vcRef: ViewContainerRef,\n    private permissionService: PermissionService,\n    private cdRef: ChangeDetectorRef,\n  ) {}\n\n  private check() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n\n    this.subscription = this.permissionService\n      .getGrantedPolicy$(this.condition)\n      .pipe(distinctUntilChanged())\n      .subscribe(isGranted => {\n        if (this.templateRef) this.initStructural(isGranted);\n        else this.initAttribute(isGranted);\n\n        this.cdRef.detectChanges();\n      });\n  }\n\n  private initStructural(isGranted: boolean) {\n    this.vcRef.clear();\n\n    if (isGranted) this.vcRef.createEmbeddedView(this.templateRef);\n  }\n\n  /**\n   * @deprecated Will be deleted in v5.0\n   */\n  private initAttribute(isGranted: boolean) {\n    if (!isGranted) {\n      this.renderer.removeChild(this.elRef.nativeElement.parentElement, this.elRef.nativeElement);\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) this.subscription.unsubscribe();\n  }\n\n  ngOnChanges() {\n    this.check();\n  }\n}\n","import {\n  ComponentFactoryResolver,\n  Directive,\n  Injector,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  TemplateRef,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\nimport compare from 'just-compare';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport snq from 'snq';\nimport { ABP } from '../models/common';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { ReplaceableComponentsService } from '../services/replaceable-components.service';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Directive({ selector: '[abpReplaceableTemplate]', providers: [SubscriptionService] })\nexport class ReplaceableTemplateDirective implements OnInit, OnChanges {\n  @Input('abpReplaceableTemplate')\n  data: ReplaceableComponents.ReplaceableTemplateDirectiveInput<any, any>;\n\n  providedData = { inputs: {}, outputs: {} } as ReplaceableComponents.ReplaceableTemplateData<\n    any,\n    any\n  >;\n\n  context = {} as any;\n\n  externalComponent: Type<any>;\n\n  defaultComponentRef: any;\n\n  defaultComponentSubscriptions = {} as ABP.Dictionary<Subscription>;\n\n  initialized = false;\n\n  constructor(\n    private injector: Injector,\n    private templateRef: TemplateRef<any>,\n    private cfRes: ComponentFactoryResolver,\n    private vcRef: ViewContainerRef,\n    private replaceableComponents: ReplaceableComponentsService,\n    private subscription: SubscriptionService,\n  ) {\n    this.context = {\n      initTemplate: ref => {\n        this.resetDefaultComponent();\n        this.defaultComponentRef = ref;\n        this.setDefaultComponentInputs();\n      },\n    };\n  }\n\n  ngOnInit() {\n    const component$ = this.replaceableComponents\n      .get$(this.data.componentKey)\n      .pipe(\n        filter(\n          (res = {} as ReplaceableComponents.ReplaceableComponent) =>\n            !this.initialized || !compare(res.component, this.externalComponent),\n        ),\n      );\n\n    this.subscription.addOne(\n      component$,\n      (res = {} as ReplaceableComponents.ReplaceableComponent) => {\n        this.vcRef.clear();\n        this.externalComponent = res.component;\n        if (this.defaultComponentRef) {\n          this.resetDefaultComponent();\n        }\n\n        if (res.component) {\n          this.setProvidedData();\n          const customInjector = Injector.create({\n            providers: [{ provide: 'REPLACEABLE_DATA', useValue: this.providedData }],\n            parent: this.injector,\n          });\n          this.vcRef.createComponent(\n            this.cfRes.resolveComponentFactory(res.component),\n            0,\n            customInjector,\n          );\n        } else {\n          this.vcRef.createEmbeddedView(this.templateRef, this.context);\n        }\n\n        this.initialized = true;\n      },\n    );\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (snq(() => changes.data.currentValue.inputs) && this.defaultComponentRef) {\n      this.setDefaultComponentInputs();\n    }\n  }\n\n  setDefaultComponentInputs() {\n    if (!this.defaultComponentRef || (!this.data.inputs && !this.data.outputs)) return;\n\n    if (this.data.inputs) {\n      for (const key in this.data.inputs) {\n        if (this.data.inputs.hasOwnProperty(key)) {\n          if (!compare(this.defaultComponentRef[key], this.data.inputs[key].value)) {\n            this.defaultComponentRef[key] = this.data.inputs[key].value;\n          }\n        }\n      }\n    }\n\n    if (this.data.outputs) {\n      for (const key in this.data.outputs) {\n        if (this.data.outputs.hasOwnProperty(key)) {\n          if (!this.defaultComponentSubscriptions[key]) {\n            this.defaultComponentSubscriptions[key] = this.defaultComponentRef[key].subscribe(\n              value => {\n                this.data.outputs[key](value);\n              },\n            );\n          }\n        }\n      }\n    }\n  }\n\n  setProvidedData() {\n    this.providedData = { ...this.data, inputs: {} };\n\n    if (!this.data.inputs) return;\n    Object.defineProperties(this.providedData.inputs, {\n      ...Object.keys(this.data.inputs).reduce(\n        (acc, key) => ({\n          ...acc,\n          [key]: {\n            enumerable: true,\n            configurable: true,\n            get: () => this.data.inputs[key].value,\n            ...(this.data.inputs[key].twoWay && {\n              set: newValue => {\n                this.data.inputs[key].value = newValue;\n                this.data.outputs[`${key}Change`](newValue);\n              },\n            }),\n          },\n        }),\n        {},\n      ),\n    });\n  }\n\n  resetDefaultComponent() {\n    Object.keys(this.defaultComponentSubscriptions).forEach(key => {\n      this.defaultComponentSubscriptions[key].unsubscribe();\n    });\n    this.defaultComponentSubscriptions = {} as ABP.Dictionary<Subscription>;\n    this.defaultComponentRef = null;\n  }\n}\n","import { Directive, ElementRef, EventEmitter, OnInit, Output } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[click.stop]',\n  providers: [SubscriptionService],\n})\nexport class StopPropagationDirective implements OnInit {\n  @Output('click.stop') readonly stopPropEvent = new EventEmitter<MouseEvent>();\n\n  constructor(private el: ElementRef, private subscription: SubscriptionService) {}\n\n  ngOnInit(): void {\n    this.subscription.addOne(fromEvent(this.el.nativeElement, 'click'), (event: MouseEvent) => {\n      event.stopPropagation();\n      this.stopPropEvent.emit(event);\n    });\n  }\n}\n","import { AfterViewInit, Directive, ElementRef, Input, Optional, Renderer2 } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport snq from 'snq';\n\n/**\n *\n * @deprecated To be deleted in v5.0\n */\n@Directive({\n  selector: '[abpVisibility]',\n})\nexport class VisibilityDirective implements AfterViewInit {\n  @Input('abpVisibility')\n  focusedElement: HTMLElement;\n\n  completed$ = new Subject<boolean>();\n\n  constructor(@Optional() private elRef: ElementRef, private renderer: Renderer2) {}\n\n  ngAfterViewInit() {\n    if (!this.focusedElement && this.elRef) {\n      this.focusedElement = this.elRef.nativeElement;\n    }\n\n    let observer: MutationObserver;\n    observer = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        if (!mutation.target) return;\n\n        const htmlNodes = snq(\n          () => Array.from(mutation.target.childNodes).filter(node => node instanceof HTMLElement),\n          [],\n        );\n\n        if (!htmlNodes.length) {\n          this.removeFromDOM();\n        }\n      });\n    });\n\n    observer.observe(this.focusedElement, {\n      childList: true,\n    });\n\n    setTimeout(() => {\n      const htmlNodes = snq(\n        () =>\n          Array.from(this.focusedElement.childNodes).filter(node => node instanceof HTMLElement),\n        [],\n      );\n\n      if (!htmlNodes.length) this.removeFromDOM();\n    }, 0);\n\n    this.completed$.subscribe(() => observer.disconnect());\n  }\n\n  disconnect() {\n    this.completed$.next();\n    this.completed$.complete();\n  }\n\n  removeFromDOM() {\n    if (!this.elRef.nativeElement) return;\n\n    this.renderer.removeChild(this.elRef.nativeElement.parentElement, this.elRef.nativeElement);\n    this.disconnect();\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport compare from 'just-compare';\nimport { filter, map } from 'rxjs/operators';\nimport { ABP } from '../models/common';\nimport { EnvironmentService } from '../services/environment.service';\nimport { CORE_OPTIONS } from '../tokens/options.token';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OAuthConfigurationHandler {\n  constructor(\n    private oAuthService: OAuthService,\n    private environmentService: EnvironmentService,\n    @Inject(CORE_OPTIONS) private options: ABP.Root,\n  ) {\n    this.listenToSetEnvironment();\n  }\n\n  private listenToSetEnvironment() {\n    this.environmentService\n      .createOnUpdateStream(state => state)\n      .pipe(\n        map(environment => environment.oAuthConfig),\n        filter(config => !compare(config, this.options.environment.oAuthConfig)),\n      )\n      .subscribe(config => {\n        this.oAuthService.configure(config);\n      });\n  }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ABP } from '../models';\nimport { RoutesService } from '../services/routes.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RoutesHandler {\n  constructor(private routes: RoutesService, @Optional() private router: Router) {\n    this.addRoutes();\n  }\n\n  addRoutes() {\n    this.router?.config?.forEach(({ path = '', data }) => {\n      if (!data?.routes) return;\n\n      if (Array.isArray(data.routes)) {\n        this.routes.add(data.routes);\n        return;\n      }\n\n      const routes = flatRoutes([{ path, ...data.routes }], { path: '' });\n      this.routes.add(routes);\n    });\n  }\n}\n\nfunction flatRoutes(routes: RouteDef[], parent: any) {\n  if (!routes) return [];\n\n  return routes.reduce((acc, route) => {\n    const { children, ...current } = {\n      ...route,\n      parentName: parent.name,\n      path: (parent.path + '/' + route.path).replace(/\\/\\//g, '/'),\n    };\n\n    acc.push(current, ...flatRoutes(children, current));\n\n    return acc;\n  }, []);\n}\n\ntype RouteDef = ABP.Route & { children: RouteDef[] };\n","export function getPathName(url: string): string {\n  const { pathname } = new URL(url);\n  return pathname;\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const LOADER_DELAY = new InjectionToken<number>('LOADER_DELAY');\n","import { Injectable, Injector } from '@angular/core';\nimport { HttpRequest } from '@angular/common/http';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { getPathName } from '../utils/http-utils';\nimport { map, mapTo, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { of, Subject, timer } from 'rxjs';\nimport { LOADER_DELAY } from '../tokens/lodaer-delay.token';\n\nexport interface HttpWaitState {\n  requests: HttpRequest<any>[];\n  filteredRequests: Array<HttpRequestInfo>;\n}\nexport interface HttpRequestInfo {\n  method: string;\n  endpoint: string;\n}\n@Injectable({\n  providedIn: 'root',\n})\nexport class HttpWaitService {\n  protected store = new InternalStore<HttpWaitState>({\n    requests: [],\n    filteredRequests: [],\n  });\n\n  private delay: number;\n  private destroy$ = new Subject();\n\n  constructor(injector: Injector) {\n    this.delay = injector.get(LOADER_DELAY, 500);\n  }\n\n  getLoading() {\n    return !!this.applyFilter(this.store.state.requests).length;\n  }\n\n  getLoading$() {\n    return this.store\n      .sliceState(({ requests }) => requests)\n      .pipe(\n        map(requests => !!this.applyFilter(requests).length),\n        switchMap(condition =>\n          condition\n            ? this.delay === 0\n              ? of(true)\n              : timer(this.delay).pipe(mapTo(true), takeUntil(this.destroy$))\n            : of(false),\n        ),\n        tap(() => this.destroy$.next()),\n      );\n  }\n\n  updateLoading$() {\n    return this.store.sliceUpdate(({ requests }) => !!this.applyFilter(requests).length);\n  }\n\n  clearLoading() {\n    this.store.patch({ requests: [] });\n  }\n\n  addRequest(request: HttpRequest<any>) {\n    this.store.patch({ requests: [...this.store.state.requests, request] });\n  }\n\n  deleteRequest(request: HttpRequest<any>) {\n    const requests = this.store.state.requests.filter(r => r !== request);\n    this.store.patch({ requests });\n  }\n\n  addFilter(request: HttpRequestInfo | HttpRequestInfo[]) {\n    const requests = Array.isArray(request) ? request : [request];\n    const filteredRequests = [\n      ...this.store.state.filteredRequests.filter(\n        f => !requests.some(r => this.isSameRequest(f, r)),\n      ),\n      ...requests,\n    ];\n    this.store.patch({ filteredRequests });\n  }\n\n  removeFilter(request: HttpRequestInfo | HttpRequestInfo[]) {\n    const requests = Array.isArray(request) ? request : [request];\n    const filteredRequests = this.store.state.filteredRequests.filter(\n      f => !requests.some(r => this.isSameRequest(f, r)),\n    );\n    this.store.patch({ filteredRequests });\n  }\n\n  private applyFilter(requests: HttpRequest<any>[]) {\n    const { filteredRequests } = this.store.state;\n    return requests.filter(\n      ({ method, url }) =>\n        !filteredRequests.find(filteredRequest =>\n          this.isSameRequest(filteredRequest, { method, endpoint: getPathName(url) }),\n        ),\n    );\n  }\n\n  private isSameRequest(filteredRequest: HttpRequestInfo, request: HttpRequestInfo) {\n    const { method, endpoint } = filteredRequest;\n    return endpoint === request.endpoint && method === request.method;\n  }\n}\n","import { HttpHandler, HttpHeaders, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { finalize } from 'rxjs/operators';\nimport { SessionStateService } from '../services/session-state.service';\nimport { HttpWaitService } from '../services/http-wait.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApiInterceptor implements HttpInterceptor {\n  constructor(\n    private oAuthService: OAuthService,\n    private sessionState: SessionStateService,\n    private httpWaitService: HttpWaitService,\n  ) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler) {\n    this.httpWaitService.addRequest(request);\n    return next\n      .handle(\n        request.clone({\n          setHeaders: this.getAdditionalHeaders(request.headers),\n        }),\n      )\n      .pipe(finalize(() => this.httpWaitService.deleteRequest(request)));\n  }\n\n  getAdditionalHeaders(existingHeaders?: HttpHeaders) {\n    const headers = {} as any;\n\n    const token = this.oAuthService.getAccessToken();\n    if (!existingHeaders?.has('Authorization') && token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const lang = this.sessionState.getLanguage();\n    if (!existingHeaders?.has('Accept-Language') && lang) {\n      headers['Accept-Language'] = lang;\n    }\n\n    const tenant = this.sessionState.getTenant();\n    if (!existingHeaders?.has('__tenant') && tenant?.id) {\n      headers['__tenant'] = tenant.id;\n    }\n\n    return headers;\n  }\n}\n","import { Injectable, Pipe, PipeTransform } from '@angular/core';\nimport { Config } from '../models';\nimport { LocalizationService } from '../services/localization.service';\n\n@Injectable()\n@Pipe({\n  name: 'abpLocalization',\n})\nexport class LocalizationPipe implements PipeTransform {\n  constructor(private localization: LocalizationService) {}\n\n  transform(\n    value: string | Config.LocalizationWithDefault = '',\n    ...interpolateParams: string[]\n  ): string {\n    return this.localization.instant(\n      value,\n      ...interpolateParams.reduce(\n        (acc, val) => (Array.isArray(val) ? [...acc, ...val] : [...acc, val]),\n        [],\n      ),\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LocalizationPipe } from './pipes/localization.pipe';\n\n@NgModule({\n  exports: [LocalizationPipe],\n  declarations: [LocalizationPipe],\n})\nexport class LocalizationModule {}\n","import { Injectable, Pipe, PipeTransform } from '@angular/core';\nexport type SortOrder = 'asc' | 'desc';\n@Injectable()\n@Pipe({\n  name: 'abpSort',\n})\nexport class SortPipe implements PipeTransform {\n  transform(\n    value: any[],\n    sortOrder: SortOrder | string = 'asc',\n    sortKey?: string,\n  ): any {\n    sortOrder = sortOrder && (sortOrder.toLowerCase() as any);\n\n    if (!value || (sortOrder !== 'asc' && sortOrder !== 'desc')) return value;\n\n    let numberArray = [];\n    let stringArray = [];\n\n    if (!sortKey) {\n      numberArray = value.filter(item => typeof item === 'number').sort();\n      stringArray = value.filter(item => typeof item === 'string').sort();\n    } else {\n      numberArray = value\n        .filter(item => typeof item[sortKey] === 'number')\n        .sort((a, b) => a[sortKey] - b[sortKey]);\n      stringArray = value\n        .filter(item => typeof item[sortKey] === 'string')\n        .sort((a, b) => {\n          if (a[sortKey] < b[sortKey]) return -1;\n          else if (a[sortKey] > b[sortKey]) return 1;\n          else return 0;\n        });\n    }\n    const sorted = [\n      ...numberArray,\n      ...stringArray,\n      ...value.filter(\n        item =>\n          typeof (sortKey ? item[sortKey] : item) !== 'number' &&\n          typeof (sortKey ? item[sortKey] : item) !== 'string',\n      ),\n    ];\n    return sortOrder === 'asc' ? sorted : sorted.reverse();\n  }\n}\n","import { LOCALE_ID, Provider } from '@angular/core';\nimport { differentLocales } from '../constants/different-locales';\nimport { LocalizationService } from '../services/localization.service';\n\nexport class LocaleId extends String {\n  constructor(private localizationService: LocalizationService) {\n    super();\n  }\n\n  toString(): string {\n    const { currentLang } = this.localizationService;\n    return differentLocales[currentLang] || currentLang;\n  }\n\n  valueOf(): string {\n    return this.toString();\n  }\n}\n\nexport const LocaleProvider: Provider = {\n  provide: LOCALE_ID,\n  useClass: LocaleId,\n  deps: [LocalizationService],\n};\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RestService } from './rest.service';\nimport { Profile, Rest } from '../models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProfileService {\n  apiName = 'AbpIdentity';\n\n  constructor(private rest: RestService) {}\n\n  get(): Observable<Profile.Response> {\n    const request: Rest.Request<null> = {\n      method: 'GET',\n      url: '/api/identity/my-profile',\n    };\n\n    return this.rest.request<null, Profile.Response>(request, { apiName: this.apiName });\n  }\n\n  update(body: Profile.Response): Observable<Profile.Response> {\n    const request: Rest.Request<Profile.Response> = {\n      method: 'PUT',\n      url: '/api/identity/my-profile',\n      body,\n    };\n\n    return this.rest.request<Profile.Response, Profile.Response>(request, {\n      apiName: this.apiName,\n    });\n  }\n\n  changePassword(\n    body: Profile.ChangePasswordRequest,\n    skipHandleError: boolean = false,\n  ): Observable<null> {\n    const request: Rest.Request<Profile.ChangePasswordRequest> = {\n      method: 'POST',\n      url: '/api/identity/my-profile/change-password',\n      body,\n    };\n\n    return this.rest.request<Profile.ChangePasswordRequest, null>(request, {\n      skipHandleError,\n      apiName: this.apiName,\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs/operators';\nimport { ChangePassword, GetProfile, UpdateProfile } from '../actions/profile.actions';\nimport { Profile } from '../models/profile';\nimport { ProfileService } from '../services/profile.service';\n\n@State<Profile.State>({\n  name: 'ProfileState',\n  defaults: {} as Profile.State,\n})\n@Injectable()\nexport class ProfileState {\n  @Selector()\n  static getProfile({ profile }: Profile.State): Profile.Response {\n    return profile;\n  }\n\n  constructor(private profileService: ProfileService) {}\n\n  @Action(GetProfile)\n  getProfile({ patchState }: StateContext<Profile.State>) {\n    return this.profileService.get().pipe(\n      tap(profile =>\n        patchState({\n          profile,\n        }),\n      ),\n    );\n  }\n\n  @Action(UpdateProfile)\n  updateProfile({ patchState }: StateContext<Profile.State>, { payload }: UpdateProfile) {\n    return this.profileService.update(payload).pipe(\n      tap(profile =>\n        patchState({\n          profile,\n        }),\n      ),\n    );\n  }\n\n  @Action(ChangePassword)\n  changePassword(_, { payload }: ChangePassword) {\n    return this.profileService.changePassword(payload, true);\n  }\n}\n","import { Injector } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { AuthConfig, OAuthService, OAuthStorage } from 'angular-oauth2-oidc';\nimport { Observable, of } from 'rxjs';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { ConfigStateService } from '../services/config-state.service';\nimport { EnvironmentService } from '../services/environment.service';\n\nexport const oAuthStorage = localStorage;\n\nexport abstract class AuthFlowStrategy {\n  abstract readonly isInternalAuth: boolean;\n\n  protected store: Store;\n  protected environment: EnvironmentService;\n  protected configState: ConfigStateService;\n  protected oAuthService: OAuthService;\n  protected oAuthConfig: AuthConfig;\n  abstract checkIfInternalAuth(): boolean;\n  abstract login(): void;\n  abstract logout(): Observable<any>;\n  abstract destroy(): void;\n\n  private catchError = err => this.store.dispatch(new RestOccurError(err));\n\n  constructor(protected injector: Injector) {\n    this.store = injector.get(Store);\n    this.environment = injector.get(EnvironmentService);\n    this.configState = injector.get(ConfigStateService);\n    this.oAuthService = injector.get(OAuthService);\n    this.oAuthConfig = this.environment.getEnvironment().oAuthConfig;\n  }\n\n  async init(): Promise<any> {\n    const shouldClear = shouldStorageClear(\n      this.environment.getEnvironment().oAuthConfig.clientId,\n      oAuthStorage,\n    );\n    if (shouldClear) clearOAuthStorage(oAuthStorage);\n\n    this.oAuthService.configure(this.oAuthConfig);\n    return this.oAuthService.loadDiscoveryDocument().catch(this.catchError);\n  }\n}\n\nexport class AuthCodeFlowStrategy extends AuthFlowStrategy {\n  readonly isInternalAuth = false;\n\n  async init() {\n    return super\n      .init()\n      .then(() => this.oAuthService.tryLogin())\n      .then(() => {\n        if (this.oAuthService.hasValidAccessToken() || !this.oAuthService.getRefreshToken()) {\n          return Promise.resolve();\n        }\n\n        return this.oAuthService.refreshToken() as Promise<any>;\n      })\n      .then(() => this.oAuthService.setupAutomaticSilentRefresh({}, 'access_token'));\n  }\n\n  login() {\n    this.oAuthService.initCodeFlow();\n  }\n\n  checkIfInternalAuth() {\n    this.oAuthService.initCodeFlow();\n    return false;\n  }\n\n  logout() {\n    this.oAuthService.logOut();\n    return of(null);\n  }\n\n  destroy() {}\n}\n\nexport const AUTH_FLOW_STRATEGY = {\n  Code(injector: Injector) {\n    return new AuthCodeFlowStrategy(injector);\n  },\n};\n\nexport function clearOAuthStorage(storage: OAuthStorage = oAuthStorage) {\n  const keys = [\n    'access_token',\n    'id_token',\n    'refresh_token',\n    'nonce',\n    'PKCE_verifier',\n    'expires_at',\n    'id_token_claims_obj',\n    'id_token_expires_at',\n    'id_token_stored_at',\n    'access_token_stored_at',\n    'granted_scopes',\n    'session_state',\n  ];\n\n  keys.forEach(key => storage.removeItem(key));\n}\n\nfunction shouldStorageClear(clientId: string, storage: OAuthStorage): boolean {\n  const key = 'abpOAuthClientId';\n  if (!storage.getItem(key)) {\n    storage.setItem(key, clientId);\n    return false;\n  }\n\n  const shouldClear = storage.getItem(key) !== clientId;\n  if (shouldClear) storage.setItem(key, clientId);\n  return shouldClear;\n}\n","export {};\n\ndeclare global {\n  interface Date {\n    toLocalISOString?: () => string;\n  }\n}\n\nDate.prototype.toLocalISOString = function(this: Date): string {\n  const timezoneOffset = this.getTimezoneOffset();\n\n  return new Date(this.getTime() - timezoneOffset * 60000).toISOString();\n};\n","import { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { AuthFlowStrategy, AUTH_FLOW_STRATEGY } from '../strategies/auth-flow.strategy';\nimport { EnvironmentService } from './environment.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  private flow: string;\n  private strategy: AuthFlowStrategy;\n\n  get isInternalAuth() {\n    return this.strategy.isInternalAuth;\n  }\n\n  constructor(private environment: EnvironmentService, private injector: Injector) {\n    this.setStrategy();\n    this.listenToSetEnvironment();\n  }\n\n  private setStrategy = () => {\n    const flow = this.environment.getEnvironment().oAuthConfig.responseType || 'password';\n    if (this.flow === flow) return;\n\n    if (this.strategy) this.strategy.destroy();\n\n    this.flow = flow;\n    this.strategy = AUTH_FLOW_STRATEGY.Code(this.injector);\n  };\n\n  private listenToSetEnvironment() {\n    this.environment.createOnUpdateStream(state => state.oAuthConfig).subscribe(this.setStrategy);\n  }\n\n  async init() {\n    return await this.strategy.init();\n  }\n\n  logout(): Observable<any> {\n    return this.strategy.logout();\n  }\n\n  initLogin() {\n    this.strategy.login();\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { catchError, tap } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { Environment, RemoteEnv } from '../models/environment';\nimport { EnvironmentService } from '../services/environment.service';\nimport { deepMerge } from './object-utils';\n\nexport function getRemoteEnv(injector: Injector, environment: Partial<Environment>) {\n  const environmentService = injector.get(EnvironmentService);\n\n  const { remoteEnv } = environment;\n  const { headers = {}, method = 'GET', url } = remoteEnv || ({} as RemoteEnv);\n  if (!url) return Promise.resolve();\n\n  const http = injector.get(HttpClient);\n  const store = injector.get(Store);\n\n  return http\n    .request<Environment>(method, url, { headers })\n    .pipe(\n      catchError(err => store.dispatch(new RestOccurError(err))), // TODO: Condiser get handle function from a provider\n      tap(env => environmentService.setState(mergeEnvironments(environment, env, remoteEnv))),\n    )\n    .toPromise();\n}\n\nfunction mergeEnvironments(\n  local: Partial<Environment>,\n  remote: any,\n  config: RemoteEnv,\n): Environment {\n  switch (config.mergeStrategy) {\n    case 'deepmerge':\n      return deepMerge(local, remote);\n    case 'overwrite':\n    case null:\n    case undefined:\n      return remote;\n    default:\n      return config.mergeStrategy(local, remote);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RestService } from '../../../../services/rest.service';\nimport type { FindTenantResultDto } from '../../../volo/abp/asp-net-core/mvc/multi-tenancy/models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AbpTenantService {\n  apiName = 'abp';\n\n  findTenantById = (id: string) =>\n    this.restService.request<any, FindTenantResultDto>(\n      {\n        method: 'GET',\n        url: `/api/abp/multi-tenancy/tenants/by-id/${id}`,\n      },\n      { apiName: this.apiName },\n    );\n\n  findTenantByName = (name: string, headers: Record<string, string>) =>\n    this.restService.request<any, FindTenantResultDto>(\n      {\n        method: 'GET',\n        url: `/api/abp/multi-tenancy/tenants/by-name/${name}`,\n        headers,\n      },\n      { apiName: this.apiName },\n    );\n\n  constructor(private restService: RestService) {}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ABP } from '../models/common';\nimport {\n  CurrentTenantDto,\n  FindTenantResultDto,\n} from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { RestService } from './rest.service';\nimport { SessionStateService } from './session-state.service';\n\n@Injectable({ providedIn: 'root' })\nexport class MultiTenancyService {\n  private _domainTenant: CurrentTenantDto = null;\n\n  set domainTenant(value: CurrentTenantDto) {\n    this._domainTenant = value;\n    this.sessionState.setTenant(value);\n  }\n\n  get domainTenant() {\n    return this._domainTenant;\n  }\n\n  isTenantBoxVisible = true;\n\n  apiName = 'abp';\n\n  constructor(private restService: RestService, private sessionState: SessionStateService) {}\n\n  /**\n   * @deprecated Use AbpTenantService.findTenantByName method instead. To be deleted in v5.0.\n   */\n  findTenantByName(name: string, headers: ABP.Dictionary<string>): Observable<FindTenantResultDto> {\n    return this.restService.request(\n      {\n        url: `/api/abp/multi-tenancy/tenants/by-name/${name}`,\n        method: 'GET',\n        headers,\n      },\n      { apiName: this.apiName },\n    );\n  }\n\n  /**\n   * @deprecated Use AbpTenantService.findTenantById method instead. To be deleted in v5.0.\n   */\n  findTenantById(id: string, headers: ABP.Dictionary<string>): Observable<FindTenantResultDto> {\n    return this.restService.request(\n      { url: `/api/abp/multi-tenancy/tenants/by-id/${id}`, method: 'GET', headers },\n      { apiName: this.apiName },\n    );\n  }\n}\n","import { Injector } from '@angular/core';\nimport clone from 'just-clone';\nimport { of } from 'rxjs';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { Environment } from '../models/environment';\nimport { AbpTenantService } from '../proxy/pages/abp/multi-tenancy/abp-tenant.service';\nimport { CurrentTenantDto } from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { EnvironmentService } from '../services/environment.service';\nimport { MultiTenancyService } from '../services/multi-tenancy.service';\nimport { createTokenParser } from './string-utils';\n\nconst tenancyPlaceholder = '{0}';\n\nfunction getCurrentTenancyName(appBaseUrl: string): string {\n  if (appBaseUrl.charAt(appBaseUrl.length - 1) !== '/') appBaseUrl += '/';\n\n  const parseTokens = createTokenParser(appBaseUrl);\n  const token = tenancyPlaceholder.replace(/[}{]/g, '');\n  return parseTokens(window.location.href)[token]?.[0];\n}\n\nexport async function parseTenantFromUrl(injector: Injector) {\n  const environmentService = injector.get(EnvironmentService);\n  const multiTenancyService = injector.get(MultiTenancyService);\n  const abpTenantService = injector.get(AbpTenantService);\n\n  const baseUrl = environmentService.getEnvironment()?.application?.baseUrl || '';\n  const tenancyName = getCurrentTenancyName(baseUrl);\n\n  if (tenancyName) {\n    multiTenancyService.isTenantBoxVisible = false;\n    setEnvironment(injector, tenancyName);\n\n    return of(null)\n      .pipe(\n        switchMap(() => abpTenantService.findTenantByName(tenancyName, { __tenant: '' })),\n        tap(res => {\n          multiTenancyService.domainTenant = res.success\n            ? ({ id: res.tenantId, name: res.name } as CurrentTenantDto)\n            : null;\n        }),\n      )\n      .toPromise();\n  }\n\n  return Promise.resolve();\n}\n\nfunction setEnvironment(injector: Injector, tenancyName: string) {\n  const environmentService = injector.get(EnvironmentService);\n\n  const environment = clone(environmentService.getEnvironment()) as Environment;\n\n  if (environment.application.baseUrl) {\n    environment.application.baseUrl = environment.application.baseUrl.replace(\n      tenancyPlaceholder,\n      tenancyName,\n    );\n  }\n\n  if (environment.oAuthConfig.redirectUri) {\n    environment.oAuthConfig.redirectUri = environment.oAuthConfig.redirectUri.replace(\n      tenancyPlaceholder,\n      tenancyName,\n    );\n  }\n\n  environment.oAuthConfig.issuer = environment.oAuthConfig.issuer.replace(\n    tenancyPlaceholder,\n    tenancyName,\n  );\n\n  Object.keys(environment.apis).forEach(api => {\n    Object.keys(environment.apis[api]).forEach(key => {\n      environment.apis[api][key] = environment.apis[api][key].replace(\n        tenancyPlaceholder,\n        tenancyName,\n      );\n    });\n  });\n\n  return environmentService.setState(environment);\n}\n","import { registerLocaleData } from '@angular/common';\nimport { Injector } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { tap } from 'rxjs/operators';\nimport { ApplicationConfiguration } from '../models/application-configuration';\nimport { ABP } from '../models/common';\nimport { Environment } from '../models/environment';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nimport { CurrentTenantDto } from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { AuthService } from '../services/auth.service';\nimport { ConfigStateService } from '../services/config-state.service';\nimport { EnvironmentService } from '../services/environment.service';\nimport { SessionStateService } from '../services/session-state.service';\nimport { clearOAuthStorage } from '../strategies/auth-flow.strategy';\nimport { CORE_OPTIONS } from '../tokens/options.token';\nimport { getRemoteEnv } from './environment-utils';\nimport { parseTenantFromUrl } from './multi-tenancy-utils';\n\nexport function getInitialData(injector: Injector) {\n  const fn = async () => {\n    const environmentService = injector.get(EnvironmentService);\n    const configState = injector.get(ConfigStateService);\n    const appConfigService = injector.get(AbpApplicationConfigurationService);\n    const options = injector.get(CORE_OPTIONS) as ABP.Root;\n\n    environmentService.setState(options.environment as Environment);\n    await getRemoteEnv(injector, options.environment);\n    await parseTenantFromUrl(injector);\n    await injector.get(AuthService).init();\n\n    if (options.skipGetAppConfiguration) return;\n\n    return appConfigService\n      .get()\n      .pipe(\n        tap(res => configState.setState(res)),\n        tap(() => checkAccessToken(injector)),\n        tap(() => {\n          const currentTenant = configState.getOne('currentTenant') as CurrentTenantDto;\n          injector.get(SessionStateService).setTenant(currentTenant);\n        }),\n      )\n      .toPromise();\n  };\n\n  return fn;\n}\n\nexport function checkAccessToken(injector: Injector) {\n  const configState = injector.get(ConfigStateService);\n  const oAuth = injector.get(OAuthService);\n  if (oAuth.hasValidAccessToken() && !configState.getDeep('currentUser.id')) {\n    clearOAuthStorage();\n  }\n}\n\nexport function localeInitializer(injector: Injector) {\n  const fn = () => {\n    const sessionState = injector.get(SessionStateService);\n    const { registerLocaleFn }: ABP.Root = injector.get(CORE_OPTIONS);\n\n    const lang = sessionState.getLanguage() || 'en';\n\n    return new Promise((resolve, reject) => {\n      registerLocaleFn(lang).then(module => {\n        if (module?.default) registerLocaleData(module.default);\n\n        return resolve('resolved');\n      }, reject);\n    });\n  };\n\n  return fn;\n}\n","import { CommonModule } from '@angular/common';\nimport { HTTP_INTERCEPTORS, HttpClientModule, HttpClientXsrfModule } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, ModuleWithProviders, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { NgxsModule } from '@ngxs/store';\nimport { OAuthModule, OAuthStorage } from 'angular-oauth2-oidc';\nimport { AbstractNgModelComponent } from './abstracts/ng-model.component';\nimport { DynamicLayoutComponent } from './components/dynamic-layout.component';\nimport { ReplaceableRouteContainerComponent } from './components/replaceable-route-container.component';\nimport { RouterOutletComponent } from './components/router-outlet.component';\nimport { AutofocusDirective } from './directives/autofocus.directive';\nimport { InputEventDebounceDirective } from './directives/debounce.directive';\nimport { EllipsisDirective } from './directives/ellipsis.directive';\nimport { ForDirective } from './directives/for.directive';\nimport { FormSubmitDirective } from './directives/form-submit.directive';\nimport { InitDirective } from './directives/init.directive';\nimport { PermissionDirective } from './directives/permission.directive';\nimport { ReplaceableTemplateDirective } from './directives/replaceable-template.directive';\nimport { StopPropagationDirective } from './directives/stop-propagation.directive';\nimport { VisibilityDirective } from './directives/visibility.directive';\nimport { OAuthConfigurationHandler } from './handlers/oauth-configuration.handler';\nimport { RoutesHandler } from './handlers/routes.handler';\nimport { ApiInterceptor } from './interceptors/api.interceptor';\nimport { LocalizationModule } from './localization.module';\nimport { ABP } from './models/common';\nimport { LocalizationPipe } from './pipes/localization.pipe';\nimport { SortPipe } from './pipes/sort.pipe';\nimport { LocaleProvider } from './providers/locale.provider';\nimport { LocalizationService } from './services/localization.service';\nimport { ProfileState } from './states/profile.state';\nimport { oAuthStorage } from './strategies/auth-flow.strategy';\nimport { CORE_OPTIONS, coreOptionsFactory } from './tokens/options.token';\nimport { noop } from './utils/common-utils';\nimport './utils/date-extensions';\nimport { getInitialData, localeInitializer } from './utils/initial-utils';\n\nexport function storageFactory(): OAuthStorage {\n  return oAuthStorage;\n}\n\n/**\n * BaseCoreModule is the module that holds\n * all imports, declarations, exports, and entryComponents\n * but not the providers.\n * This module will be imported and exported by all others.\n */\n@NgModule({\n  exports: [\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    LocalizationModule,\n\n    AbstractNgModelComponent,\n    AutofocusDirective,\n    DynamicLayoutComponent,\n    EllipsisDirective,\n    ForDirective,\n    FormSubmitDirective,\n    InitDirective,\n    InputEventDebounceDirective,\n    PermissionDirective,\n    ReplaceableRouteContainerComponent,\n    ReplaceableTemplateDirective,\n    RouterOutletComponent,\n    SortPipe,\n    StopPropagationDirective,\n    VisibilityDirective,\n  ],\n  imports: [\n    OAuthModule,\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    LocalizationModule,\n  ],\n  declarations: [\n    AbstractNgModelComponent,\n    AutofocusDirective,\n    DynamicLayoutComponent,\n    EllipsisDirective,\n    ForDirective,\n    FormSubmitDirective,\n    InitDirective,\n    InputEventDebounceDirective,\n    PermissionDirective,\n    ReplaceableRouteContainerComponent,\n    ReplaceableTemplateDirective,\n    RouterOutletComponent,\n    SortPipe,\n    StopPropagationDirective,\n    VisibilityDirective,\n  ],\n  providers: [LocalizationPipe],\n  entryComponents: [\n    RouterOutletComponent,\n    DynamicLayoutComponent,\n    ReplaceableRouteContainerComponent,\n  ],\n})\nexport class BaseCoreModule {}\n\n/**\n * RootCoreModule is the module that will be used at root level\n * and it introduces imports useful at root level (e.g. NGXS)\n */\n@NgModule({\n  exports: [BaseCoreModule, LocalizationModule],\n  imports: [\n    BaseCoreModule,\n    LocalizationModule,\n    NgxsModule.forFeature([ProfileState]),\n    OAuthModule.forRoot(),\n    HttpClientXsrfModule.withOptions({\n      cookieName: 'XSRF-TOKEN',\n      headerName: 'RequestVerificationToken',\n    }),\n  ],\n})\nexport class RootCoreModule {}\n\n/**\n * CoreModule is the module that is publicly available\n */\n@NgModule({\n  exports: [BaseCoreModule],\n  imports: [BaseCoreModule],\n})\nexport class CoreModule {\n  static forRoot(options = {} as ABP.Root): ModuleWithProviders<RootCoreModule> {\n    return {\n      ngModule: RootCoreModule,\n      providers: [\n        LocaleProvider,\n        {\n          provide: 'CORE_OPTIONS',\n          useValue: options,\n        },\n        {\n          provide: CORE_OPTIONS,\n          useFactory: coreOptionsFactory,\n          deps: ['CORE_OPTIONS'],\n        },\n        {\n          provide: HTTP_INTERCEPTORS,\n          useExisting: ApiInterceptor,\n          multi: true,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [OAuthConfigurationHandler],\n          useFactory: noop,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [Injector],\n          useFactory: getInitialData,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [Injector],\n          useFactory: localeInitializer,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [LocalizationService],\n          useFactory: noop,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [RoutesHandler],\n          useFactory: noop,\n        },\n        { provide: OAuthStorage, useFactory: storageFactory },\n      ],\n    };\n  }\n}\n\nexport function ngxsStoragePluginSerialize(data) {\n  return data;\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  constructor(private oauthService: OAuthService, private authService: AuthService) {}\n\n  canActivate(): Observable<boolean> | boolean | UrlTree {\n    const hasValidAccessToken = this.oauthService.hasValidAccessToken();\n    if (hasValidAccessToken) {\n      return true;\n    }\n\n    this.authService.initLogin();\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { RoutesService } from '../services/routes.service';\nimport { findRoute, getRoutePath } from '../utils/route-utils';\nimport { PermissionService } from '../services/permission.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PermissionGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private routesService: RoutesService,\n    private store: Store,\n    private permissionService: PermissionService,\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    let { requiredPolicy } = route.data || {};\n\n    if (!requiredPolicy) {\n      const routeFound = findRoute(this.routesService, getRoutePath(this.router, state.url));\n      requiredPolicy = routeFound?.requiredPolicy;\n    }\n\n    if (!requiredPolicy) return of(true);\n\n    return this.permissionService.getGrantedPolicy$(requiredPolicy).pipe(\n      tap(access => {\n        if (!access) {\n          this.store.dispatch(new RestOccurError({ status: 403 }));\n        }\n      }),\n    );\n  }\n}\n","import { ABP } from './common';\n\nexport class ListResultDto<T> {\n  items?: T[];\n\n  constructor(initialValues: Partial<ListResultDto<T>> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key)) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class PagedResultDto<T> extends ListResultDto<T> {\n  totalCount?: number;\n\n  constructor(initialValues: Partial<PagedResultDto<T>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class LimitedResultRequestDto {\n  maxResultCount = 10;\n\n  constructor(initialValues: Partial<LimitedResultRequestDto> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key) && initialValues[key] !== undefined) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class PagedResultRequestDto extends LimitedResultRequestDto {\n  skipCount?: number;\n\n  constructor(initialValues: Partial<PagedResultRequestDto> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class PagedAndSortedResultRequestDto extends PagedResultRequestDto {\n  sorting?: string;\n\n  constructor(initialValues: Partial<PagedAndSortedResultRequestDto> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class EntityDto<TKey = string> {\n  id?: TKey;\n\n  constructor(initialValues: Partial<EntityDto<TKey>> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key)) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class CreationAuditedEntityDto<TPrimaryKey = string> extends EntityDto<TPrimaryKey> {\n  creationTime?: string | Date;\n  creatorId?: string;\n\n  constructor(initialValues: Partial<CreationAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class CreationAuditedEntityWithUserDto<\n  TUserDto,\n  TPrimaryKey = string\n> extends CreationAuditedEntityDto<TPrimaryKey> {\n  creator?: TUserDto;\n\n  constructor(\n    initialValues: Partial<CreationAuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {},\n  ) {\n    super(initialValues);\n  }\n}\n\nexport class AuditedEntityDto<TPrimaryKey = string> extends CreationAuditedEntityDto<TPrimaryKey> {\n  lastModificationTime?: string | Date;\n  lastModifierId?: string;\n\n  constructor(initialValues: Partial<AuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class AuditedEntityWithUserDto<\n  TUserDto,\n  TPrimaryKey = string\n> extends AuditedEntityDto<TPrimaryKey> {\n  creator?: TUserDto;\n  lastModifier?: TUserDto;\n\n  constructor(initialValues: Partial<AuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class FullAuditedEntityDto<TPrimaryKey = string> extends AuditedEntityDto<TPrimaryKey> {\n  isDeleted?: boolean;\n  deleterId?: string;\n  deletionTime?: Date | string;\n\n  constructor(initialValues: Partial<FullAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class FullAuditedEntityWithUserDto<\n  TUserDto,\n  TPrimaryKey = string\n> extends FullAuditedEntityDto<TPrimaryKey> {\n  creator?: TUserDto;\n  lastModifier?: TUserDto;\n  deleter?: TUserDto;\n\n  constructor(initialValues: Partial<FullAuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleObject {\n  extraProperties: ABP.Dictionary<any>;\n\n  constructor(initialValues: Partial<ExtensibleObject> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key)) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class ExtensibleEntityDto<TKey = string> extends ExtensibleObject {\n  id: TKey;\n\n  constructor(initialValues: Partial<ExtensibleEntityDto<TKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleCreationAuditedEntityDto<\n  TPrimaryKey = string\n> extends ExtensibleEntityDto<TPrimaryKey> {\n  creationTime: Date | string;\n  creatorId?: string;\n\n  constructor(initialValues: Partial<ExtensibleCreationAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleAuditedEntityDto<\n  TPrimaryKey = string\n> extends ExtensibleCreationAuditedEntityDto<TPrimaryKey> {\n  lastModificationTime?: Date | string;\n  lastModifierId?: string;\n\n  constructor(initialValues: Partial<ExtensibleAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleAuditedEntityWithUserDto<\n  TPrimaryKey = string,\n  TUserDto = any\n> extends ExtensibleAuditedEntityDto<TPrimaryKey> {\n  creator: TUserDto;\n  lastModifier: TUserDto;\n\n  constructor(initialValues: Partial<ExtensibleAuditedEntityWithUserDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleCreationAuditedEntityWithUserDto<\n  TPrimaryKey = string,\n  TUserDto = any\n> extends ExtensibleCreationAuditedEntityDto<TPrimaryKey> {\n  creator: TUserDto;\n\n  constructor(\n    initialValues: Partial<ExtensibleCreationAuditedEntityWithUserDto<TPrimaryKey>> = {},\n  ) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleFullAuditedEntityDto<\n  TPrimaryKey = string\n> extends ExtensibleAuditedEntityDto<TPrimaryKey> {\n  isDeleted: boolean;\n  deleterId?: string;\n  deletionTime: Date | string;\n\n  constructor(initialValues: Partial<ExtensibleFullAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleFullAuditedEntityWithUserDto<\n  TPrimaryKey = string,\n  TUserDto = any\n> extends ExtensibleFullAuditedEntityDto<TPrimaryKey> {\n  creator: TUserDto;\n  lastModifier: TUserDto;\n  deleter: TUserDto;\n\n  constructor(initialValues: Partial<ExtensibleFullAuditedEntityWithUserDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Rest } from '../models/rest';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { RestService } from './rest.service';\n\n/**\n * @deprecated Use AbpApplicationConfigurationService instead. To be deleted in v5.0.\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApplicationConfigurationService {\n  constructor(private rest: RestService) {}\n\n  getConfiguration(): Observable<ApplicationConfigurationDto> {\n    const request: Rest.Request<null> = {\n      method: 'GET',\n      url: '/api/abp/application-configuration',\n    };\n\n    return this.rest.request<null, ApplicationConfigurationDto>(request, {});\n  }\n}\n","import { Injectable, Injector, TemplateRef, Type } from '@angular/core';\nimport { ProjectionStrategy } from '../strategies/projection.strategy';\n\n@Injectable({ providedIn: 'root' })\nexport class ContentProjectionService {\n  constructor(private injector: Injector) {}\n\n  projectContent<T extends Type<any> | TemplateRef<any>>(\n    projectionStrategy: ProjectionStrategy<T>,\n    injector = this.injector,\n  ) {\n    return projectionStrategy.injectContent(injector);\n  }\n}\n","import {\n  Compiler,\n  Injector,\n  ModuleWithProviders,\n  NgModuleFactory,\n  NgModuleRef,\n  StaticProvider,\n  Type,\n} from '@angular/core';\n\nexport class LazyModuleFactory<T> extends NgModuleFactory<T> {\n  get moduleType(): Type<T> {\n    return this.moduleWithProviders.ngModule;\n  }\n\n  constructor(private moduleWithProviders: ModuleWithProviders<T>) {\n    super();\n  }\n\n  create(parentInjector: Injector | null): NgModuleRef<T> {\n    const injector = Injector.create({\n      parent: parentInjector,\n      providers: this.moduleWithProviders.providers as StaticProvider[],\n    });\n\n    const compiler = injector.get(Compiler);\n    const factory = compiler.compileModuleSync(this.moduleType);\n\n    return factory.create(injector);\n  }\n}\n","export function isNumber(value: string | number): boolean {\n  /* tslint:disable-next-line:triple-equals */\n  return value == Number(value);\n}\n","// tslint:disable: no-bitwise\n\nexport function uuid(a?: any): string {\n  return a\n    ? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n    : ('' + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid);\n}\n\nexport function generateHash(value: string): number {\n  let hashed = 0;\n  let charCode: number;\n\n  for (let i = 0; i < value.length; i++) {\n    charCode = value.charCodeAt(i);\n    hashed = (hashed << 5) - hashed + charCode;\n    hashed |= 0;\n  }\n  return hashed;\n}\n\nexport function generatePassword(length = 8) {\n  length = Math.min(Math.max(4, length), 128);\n\n  const lowers = 'abcdefghijklmnopqrstuvwxyz';\n  const uppers = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  const numbers = '0123456789';\n  const specials = '!@#$%&*()_+{}<>?[]./';\n  const all = lowers + uppers + numbers + specials;\n\n  const getRandom = (chrSet: string) => chrSet[Math.floor(Math.random() * chrSet.length)];\n\n  const password = Array({ length });\n  password[0] = getRandom(lowers);\n  password[1] = getRandom(uppers);\n  password[2] = getRandom(numbers);\n  password[3] = getRandom(specials);\n\n  for (let i = 4; i < length; i++) {\n    password[i] = getRandom(all);\n  }\n\n  return password.sort(() => 0.5 - Math.random()).join('');\n}\n","export class CrossOriginStrategy {\n  constructor(public crossorigin: 'anonymous' | 'use-credentials', public integrity?: string) {}\n\n  setCrossOrigin<T extends HTMLElement>(element: T) {\n    if (this.integrity) element.setAttribute('integrity', this.integrity);\n    element.setAttribute('crossorigin', this.crossorigin);\n  }\n}\n\nexport const CROSS_ORIGIN_STRATEGY = {\n  Anonymous(integrity?: string) {\n    return new CrossOriginStrategy('anonymous', integrity);\n  },\n  UseCredentials(integrity?: string) {\n    return new CrossOriginStrategy('use-credentials', integrity);\n  },\n};\n","export class DomStrategy {\n  constructor(\n    public target: HTMLElement = document.head,\n    public position: InsertPosition = 'beforeend',\n  ) {}\n\n  insertElement<T extends HTMLElement>(element: T) {\n    this.target.insertAdjacentElement(this.position, element);\n  }\n}\n\nexport const DOM_STRATEGY = {\n  AfterElement(element: HTMLElement) {\n    return new DomStrategy(element, 'afterend');\n  },\n  AppendToBody() {\n    return new DomStrategy(document.body, 'beforeend');\n  },\n  AppendToHead() {\n    return new DomStrategy(document.head, 'beforeend');\n  },\n  BeforeElement(element: HTMLElement) {\n    return new DomStrategy(element, 'beforebegin');\n  },\n  PrependToHead() {\n    return new DomStrategy(document.head, 'afterbegin');\n  },\n};\n","import { Observable, Observer } from 'rxjs';\nimport { CrossOriginStrategy, CROSS_ORIGIN_STRATEGY } from '../strategies/cross-origin.strategy';\nimport { DomStrategy, DOM_STRATEGY } from '../strategies/dom.strategy';\n\nexport function fromLazyLoad<T extends Event>(\n  element: HTMLScriptElement | HTMLLinkElement,\n  domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\n  crossOriginStrategy: CrossOriginStrategy = CROSS_ORIGIN_STRATEGY.Anonymous(),\n): Observable<T> {\n  crossOriginStrategy.setCrossOrigin(element);\n  domStrategy.insertElement(element);\n\n  return new Observable((observer: Observer<T>) => {\n    element.onload = (event: T) => {\n      clearCallbacks(element);\n      observer.next(event);\n      observer.complete();\n    };\n\n    const handleError = createErrorHandler(observer, element);\n\n    element.onerror = handleError;\n    element.onabort = handleError;\n    element.onemptied = handleError;\n    element.onstalled = handleError;\n    element.onsuspend = handleError;\n\n    return () => {\n      clearCallbacks(element);\n      observer.complete();\n    };\n  });\n}\n\nfunction createErrorHandler(observer: Observer<Event>, element: HTMLElement) {\n  /* tslint:disable-next-line:only-arrow-functions */\n  return function(event: Event | string) {\n    clearCallbacks(element);\n    element.parentNode.removeChild(element);\n    observer.error(event);\n  };\n}\n\nfunction clearCallbacks(element: HTMLElement) {\n  element.onload = null;\n  element.onerror = null;\n  element.onabort = null;\n  element.onemptied = null;\n  element.onstalled = null;\n  element.onsuspend = null;\n}\n","// tslint:disable: max-line-length\nimport { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * @deprecated no longer working, please use SubscriptionService (https://docs.abp.io/en/abp/latest/UI/Angular/Subscription-Service) instead.\n */\nexport const takeUntilDestroy = (componentInstance, destroyMethodName = 'ngOnDestroy') => <T>(\n  source: Observable<T>,\n) => {\n  const originalDestroy = componentInstance[destroyMethodName];\n  if (isFunction(originalDestroy) === false) {\n    throw new Error(\n      `${componentInstance.constructor.name} is using untilDestroyed but doesn't implement ${destroyMethodName}`,\n    );\n  }\n  if (!componentInstance['__takeUntilDestroy']) {\n    componentInstance['__takeUntilDestroy'] = new Subject();\n\n    componentInstance[destroyMethodName] = function() {\n      // tslint:disable-next-line: no-unused-expression\n      isFunction(originalDestroy) && originalDestroy.apply(this, arguments);\n      componentInstance['__takeUntilDestroy'].next(true);\n      componentInstance['__takeUntilDestroy'].complete();\n    };\n  }\n  return source.pipe(takeUntil<T>(componentInstance['__takeUntilDestroy']));\n};\n","import { Injectable } from '@angular/core';\nimport { ContentStrategy } from '../strategies/content.strategy';\nimport { generateHash } from '../utils';\n\n@Injectable({ providedIn: 'root' })\nexport class DomInsertionService {\n  private readonly inserted = new Set<number>();\n\n  insertContent<T extends HTMLScriptElement | HTMLStyleElement>(\n    contentStrategy: ContentStrategy<T>,\n  ): T {\n    const hash = generateHash(contentStrategy.content);\n\n    if (this.inserted.has(hash)) return;\n\n    const element = contentStrategy.insertElement();\n    this.inserted.add(hash);\n\n    return element;\n  }\n\n  removeContent(element: HTMLScriptElement | HTMLStyleElement) {\n    const hash = generateHash(element.textContent);\n    this.inserted.delete(hash);\n\n    element.parentNode.removeChild(element);\n  }\n\n  has(content: string): boolean {\n    const hash = generateHash(content);\n\n    return this.inserted.has(hash);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { InternalStore } from '../utils/internal-store-utils';\n\nexport interface ResourceWaitState {\n  resources: Set<string>;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ResourceWaitService {\n  private store = new InternalStore<ResourceWaitState>({ resources: new Set() });\n\n  getLoading() {\n    return !!this.store.state.resources.size;\n  }\n\n  getLoading$() {\n    return this.store.sliceState(({ resources }) => !!resources.size);\n  }\n\n  updateLoading$() {\n    return this.store.sliceUpdate(({ resources }) => !!resources.size);\n  }\n\n  clearLoading() {\n    this.store.patch({ resources: new Set() });\n  }\n\n  addResource(resource: string) {\n    const resources = this.store.state.resources;\n    resources.add(resource);\n    this.store.patch({ resources });\n  }\n\n  deleteResource(resource: string) {\n    const resources = this.store.state.resources;\n    resources.delete(resource);\n    this.store.patch({ resources });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { concat, Observable, of, throwError } from 'rxjs';\nimport { delay, retryWhen, shareReplay, take, tap } from 'rxjs/operators';\nimport { LoadingStrategy } from '../strategies';\nimport { ResourceWaitService } from './resource-wait.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LazyLoadService {\n  readonly loaded = new Map<string, HTMLScriptElement | HTMLLinkElement>();\n\n  constructor(private resourceWaitService: ResourceWaitService) {}\n\n  load(strategy: LoadingStrategy, retryTimes?: number, retryDelay?: number): Observable<Event> {\n    if (this.loaded.has(strategy.path)) return of(new CustomEvent('load'));\n    this.resourceWaitService.addResource(strategy.path);\n    return strategy.createStream().pipe(\n      retryWhen(error$ =>\n        concat(\n          error$.pipe(delay(retryDelay), take(retryTimes)),\n          throwError(new CustomEvent('error')),\n        ),\n      ),\n      tap(() => {\n        this.loaded.set(strategy.path, strategy.element);\n        this.resourceWaitService.deleteResource(strategy.path);\n      }),\n      delay(100),\n      shareReplay({ bufferSize: 1, refCount: true }),\n    );\n  }\n\n  remove(path: string): boolean {\n    const element = this.loaded.get(path);\n\n    if (!element) return false;\n\n    element.parentNode.removeChild(element);\n    this.loaded.delete(path);\n    return true;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const LIST_QUERY_DEBOUNCE_TIME = new InjectionToken<number>('LIST_QUERY_DEBOUNCE_TIME');\n","import { Injectable, Injector, OnDestroy } from '@angular/core';\nimport {\n  BehaviorSubject,\n  MonoTypeOperatorFunction,\n  Observable,\n  of,\n  ReplaySubject,\n  Subject,\n} from 'rxjs';\nimport {\n  catchError,\n  debounceTime,\n  filter,\n  shareReplay,\n  switchMap,\n  takeUntil,\n  tap,\n} from 'rxjs/operators';\nimport { ABP } from '../models/common';\nimport { PagedResultDto } from '../models/dtos';\nimport { LIST_QUERY_DEBOUNCE_TIME } from '../tokens/list.token';\n\n@Injectable()\nexport class ListService<QueryParamsType = ABP.PageQueryParams> implements OnDestroy {\n  private _filter = '';\n  set filter(value: string) {\n    this._filter = value;\n    this.get();\n  }\n  get filter(): string {\n    return this._filter;\n  }\n\n  private _maxResultCount = 10;\n  set maxResultCount(value: number) {\n    this._maxResultCount = value;\n    this.get();\n  }\n  get maxResultCount(): number {\n    return this._maxResultCount;\n  }\n\n  private _skipCount = 0;\n  private _page = 0;\n  set page(value: number) {\n    if (value === this._page) return;\n\n    this._page = value;\n    this.get();\n  }\n  get page(): number {\n    return this._page;\n  }\n\n  private _sortKey = '';\n  set sortKey(value: string) {\n    this._sortKey = value;\n    this.get();\n  }\n  get sortKey(): string {\n    return this._sortKey;\n  }\n\n  private _sortOrder = '';\n  set sortOrder(value: string) {\n    this._sortOrder = value;\n    this.get();\n  }\n  get sortOrder(): string {\n    return this._sortOrder;\n  }\n\n  private _query$ = new ReplaySubject<QueryParamsType>(1);\n\n  get query$(): Observable<QueryParamsType> {\n    return this._query$\n      .asObservable()\n      .pipe(this.delay, shareReplay({ bufferSize: 1, refCount: true }));\n  }\n\n  private _isLoading$ = new BehaviorSubject(false);\n\n  private destroy$ = new Subject();\n\n  get isLoading$(): Observable<boolean> {\n    return this._isLoading$.asObservable();\n  }\n\n  get = () => {\n    this.resetPageWhenUnchanged();\n    this._query$.next(({\n      filter: this._filter || undefined,\n      maxResultCount: this._maxResultCount,\n      skipCount: this._page * this._maxResultCount,\n      sorting: this._sortOrder ? `${this._sortKey} ${this._sortOrder}` : undefined,\n    } as any) as QueryParamsType);\n  };\n\n  private delay: MonoTypeOperatorFunction<QueryParamsType>;\n\n  constructor(injector: Injector) {\n    const delay = injector.get(LIST_QUERY_DEBOUNCE_TIME, 300);\n    this.delay = delay ? debounceTime(delay) : tap();\n    this.get();\n  }\n\n  hookToQuery<T extends any>(\n    streamCreatorCallback: QueryStreamCreatorCallback<T, QueryParamsType>,\n  ): Observable<PagedResultDto<T>> {\n    this._isLoading$.next(true);\n\n    return this.query$.pipe(\n      switchMap(query => streamCreatorCallback(query).pipe(catchError(() => of(null)))),\n      filter(Boolean),\n      tap(() => this._isLoading$.next(false)),\n      shareReplay({ bufferSize: 1, refCount: true }),\n      takeUntil(this.destroy$),\n    );\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n  }\n\n  private resetPageWhenUnchanged() {\n    const skipCount = this._page * this._maxResultCount;\n\n    if (skipCount === this._skipCount) {\n      this._page = 0;\n      this._skipCount = 0;\n    } else this._skipCount = skipCount;\n  }\n}\n\nexport type QueryStreamCreatorCallback<T, QueryParamsType = ABP.PageQueryParams> = (\n  query: QueryParamsType,\n) => Observable<PagedResultDto<T>>;\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Action, createSelector, Selector, State, StateContext, Store } from '@ngxs/store';\nimport { of, throwError } from 'rxjs';\nimport { catchError, distinctUntilChanged, switchMap, tap } from 'rxjs/operators';\nimport snq from 'snq';\nimport { GetAppConfiguration, PatchConfigState, SetEnvironment } from '../actions/config.actions';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { ApplicationConfiguration } from '../models/application-configuration';\nimport { Config } from '../models/config';\nimport { ConfigStateService } from '../services/config-state.service';\nimport { EnvironmentService } from '../services/environment.service';\nimport { SessionStateService } from '../services/session-state.service';\nimport { interpolate } from '../utils/string-utils';\nimport compare from 'just-compare';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\n\n/**\n * @deprecated Use ConfigStateService instead. To be deleted in v5.0.\n */\n@State<Config.State>({\n  name: 'ConfigState',\n  defaults: {} as Config.State,\n})\n@Injectable()\nexport class ConfigState {\n  @Selector()\n  static getAll(state: Config.State) {\n    return state;\n  }\n\n  @Selector()\n  static getApplicationInfo(state: Config.State): Config.Application {\n    return state.environment.application || ({} as Config.Application);\n  }\n\n  @Selector()\n  static getEnvironment(state: Config.State): Config.Environment {\n    return state.environment;\n  }\n\n  static getOne(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return state[key];\n    });\n\n    return selector;\n  }\n\n  static getDeep(keys: string[] | string) {\n    if (typeof keys === 'string') {\n      keys = keys.split('.');\n    }\n\n    if (!Array.isArray(keys)) {\n      throw new Error('The argument must be a dot string or an string array.');\n    }\n\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return (keys as string[]).reduce((acc, val) => {\n        if (acc) {\n          return acc[val];\n        }\n\n        return undefined;\n      }, state);\n    });\n\n    return selector;\n  }\n\n  static getApiUrl(key?: string) {\n    const selector = createSelector([ConfigState], (state: Config.State): string => {\n      return (state.environment.apis[key || 'default'] || state.environment.apis.default).url;\n    });\n\n    return selector;\n  }\n\n  static getFeature(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return snq(() => state.features.values[key]);\n    });\n\n    return selector;\n  }\n\n  static getSetting(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return snq(() => state.setting.values[key]);\n    });\n\n    return selector;\n  }\n\n  static getSettings(keyword?: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      const settings = snq(() => state.setting.values, {});\n\n      if (!keyword) return settings;\n\n      const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\n\n      return keysFound.reduce((acc, key) => {\n        acc[key] = settings[key];\n        return acc;\n      }, {});\n    });\n\n    return selector;\n  }\n\n  /**\n   * @deprecated use PermissionService's getGrantedPolicyStream or getGrantedPolicy methods.\n   */\n  static getGrantedPolicy(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State): boolean => {\n      if (!key) return true;\n      const getPolicy = (k: string) => snq(() => state.auth.grantedPolicies[k], false);\n\n      const orRegexp = /\\|\\|/g;\n      const andRegexp = /&&/g;\n\n      // TODO: Allow combination of ANDs & ORs\n      if (orRegexp.test(key)) {\n        const keys = key.split('||').filter(Boolean);\n\n        if (keys.length < 2) return false;\n\n        return keys.some(k => getPolicy(k.trim()));\n      } else if (andRegexp.test(key)) {\n        const keys = key.split('&&').filter(Boolean);\n\n        if (keys.length < 2) return false;\n\n        return keys.every(k => getPolicy(k.trim()));\n      }\n\n      return getPolicy(key);\n    });\n\n    return selector;\n  }\n\n  static getLocalizationResource(resourceName: string) {\n    const selector = createSelector([ConfigState], (state: Config.State): {\n      [key: string]: string;\n    } => {\n      return state.localization.values[resourceName];\n    });\n\n    return selector;\n  }\n\n  static getLocalization(\n    key: string | Config.LocalizationWithDefault,\n    ...interpolateParams: string[]\n  ) {\n    if (!key) key = '';\n    let defaultValue: string;\n\n    if (typeof key !== 'string') {\n      defaultValue = key.defaultValue;\n      key = key.key;\n    }\n\n    const keys = key.split('::') as string[];\n    const selector = createSelector([ConfigState], (state: Config.State): string => {\n      const warn = (message: string) => {\n        if (!state.environment.production) console.warn(message);\n      };\n\n      if (keys.length < 2) {\n        warn('The localization source separator (::) not found.');\n        return defaultValue || (key as string);\n      }\n      if (!state.localization) return defaultValue || keys[1];\n\n      const sourceName =\n        keys[0] ||\n        snq(() => state.environment.localization.defaultResourceName) ||\n        state.localization.defaultResourceName;\n      const sourceKey = keys[1];\n\n      if (sourceName === '_') {\n        return defaultValue || sourceKey;\n      }\n\n      if (!sourceName) {\n        warn(\n          'Localization source name is not specified and the defaultResourceName was not defined!',\n        );\n\n        return defaultValue || sourceKey;\n      }\n\n      const source = state.localization.values[sourceName];\n      if (!source) {\n        warn('Could not find localization source: ' + sourceName);\n        return defaultValue || sourceKey;\n      }\n\n      let localization = source[sourceKey];\n      if (typeof localization === 'undefined') {\n        return defaultValue || sourceKey;\n      }\n\n      interpolateParams = interpolateParams.filter(params => params != null);\n      if (localization) localization = interpolate(localization, interpolateParams);\n\n      if (typeof localization !== 'string') localization = '';\n\n      return localization || defaultValue || (key as string);\n    });\n\n    return selector;\n  }\n\n  constructor(\n    private http: HttpClient,\n    private store: Store,\n    private sessionState: SessionStateService,\n    private environmentService: EnvironmentService,\n    private configState: ConfigStateService,\n  ) {\n    this.syncConfigState();\n    this.syncEnvironment();\n  }\n\n  private syncConfigState() {\n    this.configState\n      .createOnUpdateStream(state => state)\n      .pipe(distinctUntilChanged(compare))\n      .subscribe(config => this.store.dispatch(new PatchConfigState(config as any)));\n  }\n\n  private syncEnvironment() {\n    this.environmentService\n      .createOnUpdateStream(state => state)\n      .pipe(distinctUntilChanged(compare))\n      .subscribe(env => this.store.dispatch(new PatchConfigState({ environment: env } as any)));\n  }\n\n  @Action(GetAppConfiguration)\n  addData({ patchState, dispatch }: StateContext<Config.State>) {\n    const apiName = 'default';\n    const api = this.store.selectSnapshot(ConfigState.getApiUrl(apiName));\n    return this.http\n      .get<ApplicationConfigurationDto>(`${api}/api/abp/application-configuration`)\n      .pipe(\n        tap(configuration => this.configState.setState(configuration)),\n        catchError((err: HttpErrorResponse) => {\n          dispatch(new RestOccurError(err));\n          return throwError(err);\n        }),\n      );\n  }\n\n  @Action(SetEnvironment)\n  setEnvironment(_, { environment }: SetEnvironment) {\n    return this.environmentService.setState(environment);\n  }\n\n  @Action(PatchConfigState)\n  setConfig({ patchState, getState }: StateContext<Config.State>, { state }: PatchConfigState) {\n    patchState({ ...getState(), ...state });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { ProfileState } from '../states';\nimport { Profile } from '../models';\nimport { GetProfile, UpdateProfile, ChangePassword } from '../actions';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProfileStateService {\n  constructor(private store: Store) {}\n\n  getProfile() {\n    return this.store.selectSnapshot(ProfileState.getProfile);\n  }\n\n  dispatchGetProfile() {\n    return this.store.dispatch(new GetProfile());\n  }\n\n  dispatchUpdateProfile(...args: ConstructorParameters<typeof UpdateProfile>) {\n    return this.store.dispatch(new UpdateProfile(...args));\n  }\n\n  dispatchChangePassword(...args: ConstructorParameters<typeof ChangePassword>) {\n    return this.store.dispatch(new ChangePassword(...args));\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { NavigationCancel, NavigationEnd, NavigationError, NavigationStart, Router } from '@angular/router';\nimport { filter, map, mapTo, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { of, Subject, timer } from 'rxjs';\nimport { LOADER_DELAY } from '../tokens/lodaer-delay.token';\n\nexport interface RouterWaitState {\n  loading: boolean;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RouterWaitService {\n  private store = new InternalStore<RouterWaitState>({ loading: false });\n  private destroy$ = new Subject();\n  private delay: number;\n  constructor(private router: Router, injector: Injector) {\n    this.delay = injector.get(LOADER_DELAY, 500);\n    this.router.events\n      .pipe(\n        filter(\n          event =>\n            event instanceof NavigationStart ||\n            event instanceof NavigationEnd ||\n            event instanceof NavigationError ||\n            event instanceof NavigationCancel,\n        ),\n        map(event => event instanceof NavigationStart),\n        switchMap(condition =>\n          condition\n            ? this.delay === 0\n              ? of(true)\n              : timer(this.delay || 0).pipe(mapTo(true), takeUntil(this.destroy$))\n            : of(false),\n        ),\n        tap(() => this.destroy$.next()),\n      )\n      .subscribe(status => {\n        this.setLoading(status);\n      });\n  }\n\n  getLoading() {\n    return this.store.state.loading;\n  }\n\n  getLoading$() {\n    return this.store.sliceState(({ loading }) => loading);\n  }\n\n  updateLoading$() {\n    return this.store.sliceUpdate(({ loading }) => loading);\n  }\n\n  setLoading(loading: boolean) {\n    this.store.patch({ loading });\n  }\n}\n","import { Injectable, TrackByFunction } from '@angular/core';\nimport { O } from 'ts-toolbelt';\n\nexport const trackBy = <T = any>(key: keyof T): TrackByFunction<T> => (_, item) => item[key];\n\nexport const trackByDeep = <T = any>(\n  ...keys: T extends object ? O.Paths<T> : never\n): TrackByFunction<T> => (_, item) => keys.reduce((acc, key) => acc[key], item);\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TrackByService<ItemType = any> {\n  by = trackBy;\n\n  byDeep = trackByDeep;\n}\n","import { ViewContainerRef } from '@angular/core';\n\nexport abstract class ContainerStrategy {\n  constructor(public containerRef: ViewContainerRef) {}\n\n  abstract getIndex(): number;\n\n  prepare(): void {}\n}\n\nexport class ClearContainerStrategy extends ContainerStrategy {\n  getIndex(): number {\n    return 0;\n  }\n\n  prepare() {\n    this.containerRef.clear();\n  }\n}\n\nexport class InsertIntoContainerStrategy extends ContainerStrategy {\n  constructor(containerRef: ViewContainerRef, private index: number) {\n    super(containerRef);\n  }\n\n  getIndex() {\n    return Math.min(Math.max(0, this.index), this.containerRef.length);\n  }\n}\n\nexport const CONTAINER_STRATEGY = {\n  Clear(containerRef: ViewContainerRef) {\n    return new ClearContainerStrategy(containerRef);\n  },\n  Append(containerRef: ViewContainerRef) {\n    return new InsertIntoContainerStrategy(containerRef, containerRef.length);\n  },\n  Prepend(containerRef: ViewContainerRef) {\n    return new InsertIntoContainerStrategy(containerRef, 0);\n  },\n  Insert(containerRef: ViewContainerRef, index: number) {\n    return new InsertIntoContainerStrategy(containerRef, index);\n  },\n};\n","export abstract class ContentSecurityStrategy {\n  constructor(public nonce?: string) {}\n\n  abstract applyCSP(element: HTMLScriptElement | HTMLStyleElement): void;\n}\n\nexport class LooseContentSecurityStrategy extends ContentSecurityStrategy {\n  constructor(nonce: string) {\n    super(nonce);\n  }\n\n  applyCSP(element: HTMLScriptElement | HTMLStyleElement) {\n    element.setAttribute('nonce', this.nonce);\n  }\n}\n\nexport class NoContentSecurityStrategy extends ContentSecurityStrategy {\n  constructor() {\n    super();\n  }\n\n  applyCSP(_: HTMLScriptElement | HTMLStyleElement) {}\n}\n\nexport const CONTENT_SECURITY_STRATEGY = {\n  Loose(nonce: string) {\n    return new LooseContentSecurityStrategy(nonce);\n  },\n  None() {\n    return new NoContentSecurityStrategy();\n  },\n};\n","import { ContentSecurityStrategy, CONTENT_SECURITY_STRATEGY } from './content-security.strategy';\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\n\nexport abstract class ContentStrategy<T extends HTMLScriptElement | HTMLStyleElement = any> {\n  constructor(\n    public content: string,\n    protected domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\n    protected contentSecurityStrategy: ContentSecurityStrategy = CONTENT_SECURITY_STRATEGY.None(),\n  ) {}\n\n  abstract createElement(): T;\n\n  insertElement(): T {\n    const element = this.createElement();\n\n    this.contentSecurityStrategy.applyCSP(element);\n    this.domStrategy.insertElement(element);\n\n    return element;\n  }\n}\n\nexport class StyleContentStrategy extends ContentStrategy<HTMLStyleElement> {\n  createElement(): HTMLStyleElement {\n    const element = document.createElement('style');\n    element.textContent = this.content;\n\n    return element;\n  }\n}\n\nexport class ScriptContentStrategy extends ContentStrategy<HTMLScriptElement> {\n  createElement(): HTMLScriptElement {\n    const element = document.createElement('script');\n    element.textContent = this.content;\n\n    return element;\n  }\n}\n\nexport const CONTENT_STRATEGY = {\n  AppendScriptToBody(content: string) {\n    return new ScriptContentStrategy(content, DOM_STRATEGY.AppendToBody());\n  },\n  AppendScriptToHead(content: string) {\n    return new ScriptContentStrategy(content, DOM_STRATEGY.AppendToHead());\n  },\n  AppendStyleToHead(content: string) {\n    return new StyleContentStrategy(content, DOM_STRATEGY.AppendToHead());\n  },\n  PrependStyleToHead(content: string) {\n    return new StyleContentStrategy(content, DOM_STRATEGY.PrependToHead());\n  },\n};\n","import { ComponentRef, TemplateRef, Type } from '@angular/core';\nimport { InferredContextOf, InferredInstanceOf } from '../models';\n\nexport abstract class ContextStrategy<T = any> {\n  constructor(public context: Partial<ContextType<T>>) {}\n\n  /* tslint:disable-next-line:no-unused-variable */\n  setContext(componentRef?: ComponentRef<InferredInstanceOf<T>>): Partial<ContextType<T>> {\n    return this.context;\n  }\n}\n\nexport class NoContextStrategy<\n  T extends Type<any> | TemplateRef<any> = any\n> extends ContextStrategy<T> {\n  constructor() {\n    super(undefined);\n  }\n}\n\nexport class ComponentContextStrategy<T extends Type<any> = any> extends ContextStrategy<T> {\n  setContext(componentRef: ComponentRef<InferredInstanceOf<T>>): Partial<InferredInstanceOf<T>> {\n    Object.keys(this.context).forEach(key => (componentRef.instance[key] = this.context[key]));\n    componentRef.changeDetectorRef.detectChanges();\n    return this.context;\n  }\n}\n\nexport class TemplateContextStrategy<T extends TemplateRef<any> = any> extends ContextStrategy<T> {\n  setContext(): Partial<InferredContextOf<T>> {\n    return this.context;\n  }\n}\n\nexport const CONTEXT_STRATEGY = {\n  None<T extends Type<any> | TemplateRef<any> = any>() {\n    return new NoContextStrategy<T>();\n  },\n  Component<T extends Type<any> = any>(context: Partial<InferredInstanceOf<T>>) {\n    return new ComponentContextStrategy<T>(context);\n  },\n  Template<T extends TemplateRef<any> = any>(context: Partial<InferredContextOf<T>>) {\n    return new TemplateContextStrategy<T>(context);\n  },\n};\n\ntype ContextType<T> = T extends Type<infer U> | TemplateRef<infer U> ? U : never;\n","import { Observable, of } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { fromLazyLoad } from '../utils';\nimport { CrossOriginStrategy, CROSS_ORIGIN_STRATEGY } from './cross-origin.strategy';\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\n\nexport abstract class LoadingStrategy<T extends HTMLScriptElement | HTMLLinkElement = any> {\n  element: T;\n\n  constructor(\n    public path: string,\n    protected domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\n    protected crossOriginStrategy: CrossOriginStrategy = CROSS_ORIGIN_STRATEGY.Anonymous(),\n  ) {}\n\n  abstract createElement(): T;\n\n  createStream<E extends Event>(): Observable<E> {\n    this.element = this.createElement();\n\n    return of(null).pipe(\n      switchMap(() => fromLazyLoad<E>(this.element, this.domStrategy, this.crossOriginStrategy)),\n    );\n  }\n}\n\nexport class ScriptLoadingStrategy extends LoadingStrategy<HTMLScriptElement> {\n  constructor(src: string, domStrategy?: DomStrategy, crossOriginStrategy?: CrossOriginStrategy) {\n    super(src, domStrategy, crossOriginStrategy);\n  }\n\n  createElement(): HTMLScriptElement {\n    const element = document.createElement('script');\n    element.src = this.path;\n\n    return element;\n  }\n}\n\nexport class StyleLoadingStrategy extends LoadingStrategy<HTMLLinkElement> {\n  constructor(href: string, domStrategy?: DomStrategy, crossOriginStrategy?: CrossOriginStrategy) {\n    super(href, domStrategy, crossOriginStrategy);\n  }\n\n  createElement(): HTMLLinkElement {\n    const element = document.createElement('link');\n    element.rel = 'stylesheet';\n    element.href = this.path;\n\n    return element;\n  }\n}\n\nexport const LOADING_STRATEGY = {\n  AppendAnonymousScriptToBody(src: string, integrity?: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToBody(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  AppendAnonymousScriptToHead(src: string, integrity?: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  AppendAnonymousStyleToHead(src: string, integrity?: string) {\n    return new StyleLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  PrependAnonymousScriptToHead(src: string, integrity?: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.PrependToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  PrependAnonymousStyleToHead(src: string, integrity?: string) {\n    return new StyleLoadingStrategy(\n      src,\n      DOM_STRATEGY.PrependToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n};\n","import {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  Injector,\n  TemplateRef,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\nimport { InferredContextOf, InferredInstanceOf } from '../models/utility';\nimport { ContainerStrategy, CONTAINER_STRATEGY } from './container.strategy';\nimport { ContextStrategy, CONTEXT_STRATEGY } from './context.strategy';\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\n\nexport abstract class ProjectionStrategy<T = any> {\n  constructor(public content: T) {}\n\n  abstract injectContent(injector: Injector): ComponentRefOrEmbeddedViewRef<T>;\n}\n\nexport class ComponentProjectionStrategy<T extends Type<any>> extends ProjectionStrategy<T> {\n  constructor(\n    component: T,\n    private containerStrategy: ContainerStrategy,\n    private contextStrategy: ContextStrategy = CONTEXT_STRATEGY.None(),\n  ) {\n    super(component);\n  }\n\n  injectContent(injector: Injector) {\n    this.containerStrategy.prepare();\n\n    const resolver = injector.get(ComponentFactoryResolver) as ComponentFactoryResolver;\n    const factory = resolver.resolveComponentFactory<InferredInstanceOf<T>>(this.content);\n\n    const componentRef = this.containerStrategy.containerRef.createComponent(\n      factory,\n      this.containerStrategy.getIndex(),\n      injector,\n    );\n    this.contextStrategy.setContext(componentRef);\n\n    return componentRef as ComponentRefOrEmbeddedViewRef<T>;\n  }\n}\n\nexport class RootComponentProjectionStrategy<T extends Type<any>> extends ProjectionStrategy<T> {\n  constructor(\n    component: T,\n    private contextStrategy: ContextStrategy = CONTEXT_STRATEGY.None(),\n    private domStrategy: DomStrategy = DOM_STRATEGY.AppendToBody(),\n  ) {\n    super(component);\n  }\n\n  injectContent(injector: Injector) {\n    const appRef = injector.get(ApplicationRef);\n    const resolver = injector.get(ComponentFactoryResolver) as ComponentFactoryResolver;\n    const componentRef = resolver\n      .resolveComponentFactory<InferredInstanceOf<T>>(this.content)\n      .create(injector);\n\n    this.contextStrategy.setContext(componentRef);\n\n    appRef.attachView(componentRef.hostView);\n    const element: HTMLElement = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0];\n    this.domStrategy.insertElement(element);\n\n    return componentRef as ComponentRefOrEmbeddedViewRef<T>;\n  }\n}\n\nexport class TemplateProjectionStrategy<T extends TemplateRef<any>> extends ProjectionStrategy<T> {\n  constructor(\n    templateRef: T,\n    private containerStrategy: ContainerStrategy,\n    private contextStrategy = CONTEXT_STRATEGY.None(),\n  ) {\n    super(templateRef);\n  }\n\n  injectContent() {\n    this.containerStrategy.prepare();\n\n    const embeddedViewRef = this.containerStrategy.containerRef.createEmbeddedView(\n      this.content,\n      this.contextStrategy.context,\n      this.containerStrategy.getIndex(),\n    );\n    embeddedViewRef.detectChanges();\n\n    return embeddedViewRef as ComponentRefOrEmbeddedViewRef<T>;\n  }\n}\n\nexport const PROJECTION_STRATEGY = {\n  AppendComponentToBody<T extends Type<unknown>>(\n    component: T,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new RootComponentProjectionStrategy<T>(\n      component,\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  AppendComponentToContainer<T extends Type<unknown>>(\n    component: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new ComponentProjectionStrategy<T>(\n      component,\n      CONTAINER_STRATEGY.Append(containerRef),\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  AppendTemplateToContainer<T extends TemplateRef<unknown>>(\n    templateRef: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredContextOf<T>>,\n  ) {\n    return new TemplateProjectionStrategy<T>(\n      templateRef,\n      CONTAINER_STRATEGY.Append(containerRef),\n      context && CONTEXT_STRATEGY.Template(context),\n    );\n  },\n  PrependComponentToContainer<T extends Type<unknown>>(\n    component: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new ComponentProjectionStrategy<T>(\n      component,\n      CONTAINER_STRATEGY.Prepend(containerRef),\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  PrependTemplateToContainer<T extends TemplateRef<unknown>>(\n    templateRef: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredContextOf<T>>,\n  ) {\n    return new TemplateProjectionStrategy<T>(\n      templateRef,\n      CONTAINER_STRATEGY.Prepend(containerRef),\n      context && CONTEXT_STRATEGY.Template(context),\n    );\n  },\n  ProjectComponentToContainer<T extends Type<unknown>>(\n    component: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new ComponentProjectionStrategy<T>(\n      component,\n      CONTAINER_STRATEGY.Clear(containerRef),\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  ProjectTemplateToContainer<T extends TemplateRef<unknown>>(\n    templateRef: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredContextOf<T>>,\n  ) {\n    return new TemplateProjectionStrategy<T>(\n      templateRef,\n      CONTAINER_STRATEGY.Clear(containerRef),\n      context && CONTEXT_STRATEGY.Template(context),\n    );\n  },\n};\n\ntype ComponentRefOrEmbeddedViewRef<T> = T extends Type<infer U>\n  ? ComponentRef<U>\n  : T extends TemplateRef<infer C>\n  ? EmbeddedViewRef<C>\n  : never;\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface MinAgeError {\n  minAge: {\n    age: number;\n  };\n}\n\nexport interface MinAgeOptions {\n  age?: number;\n}\n\nexport function validateMinAge({ age = 18 }: MinAgeOptions = {}): ValidatorFn {\n  return (control: AbstractControl): MinAgeError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    return isValidMinAge(control.value, age) ? null : { minAge: { age } };\n  };\n}\n\nfunction isValidMinAge(value: string | number, minAge: number) {\n  const date = new Date();\n  date.setFullYear(date.getFullYear() - minAge);\n  date.setHours(23, 59, 59, 999);\n\n  return Number(new Date(value)) <= date.valueOf();\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface CreditCardError {\n  creditCard: true;\n}\n\nexport function validateCreditCard(): ValidatorFn {\n  return (control: AbstractControl): CreditCardError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    return isValidCreditCard(String(control.value)) ? null : { creditCard: true };\n  };\n}\n\nfunction isValidCreditCard(value: string): boolean {\n  value = value.replace(/[ -]/g, '');\n\n  if (!/^[0-9]{13,19}$/.test(value)) return false;\n\n  let checksum = 0;\n  let multiplier = 1;\n\n  for (let i = value.length; i > 0; i--) {\n    const digit = Number(value[i - 1]) * multiplier;\n    /* tslint:disable-next-line:no-bitwise */\n    checksum += (digit % 10) + ~~(digit / 10);\n\n    multiplier = (multiplier * 2) % 3;\n  }\n\n  return checksum % 10 === 0;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface RangeError {\n  range: {\n    max: number;\n    min: number;\n  };\n}\n\nexport interface RangeOptions {\n  maximum?: number;\n  minimum?: number;\n}\n\nexport function validateRange({ maximum = Infinity, minimum = 0 }: RangeOptions = {}): ValidatorFn {\n  return (control: AbstractControl): RangeError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    const value = Number(control.value);\n    return getMinError(value, minimum, maximum) || getMaxError(value, maximum, minimum);\n  };\n}\n\nfunction getMaxError(value: number, max: number, min: number): RangeError {\n  return value > max ? { range: { max, min } } : null;\n}\n\nfunction getMinError(value: number, min: number, max: number): RangeError {\n  return value < min ? { range: { min, max } } : null;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface RequiredError {\n  required: true;\n}\n\nexport interface RequiredOptions {\n  allowEmptyStrings?: boolean;\n}\n\nexport function validateRequired({ allowEmptyStrings }: RequiredOptions = {}): ValidatorFn {\n  return (control: AbstractControl): RequiredError | null => {\n    return isValidRequired(control.value, allowEmptyStrings) ? null : { required: true };\n  };\n}\n\nfunction isValidRequired(value: any, allowEmptyStrings: boolean): boolean {\n  if (value || value === 0 || value === false) return true;\n\n  if (allowEmptyStrings && value === '') return true;\n\n  return false;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface StringLengthError {\n  maxlength?: {\n    requiredLength: number;\n  };\n  minlength?: {\n    requiredLength: number;\n  };\n}\n\nexport interface StringLengthOptions {\n  maximumLength?: number;\n  minimumLength?: number;\n}\n\nexport function validateStringLength({\n  maximumLength = Infinity,\n  minimumLength = 0,\n}: StringLengthOptions = {}): ValidatorFn {\n  return (control: AbstractControl): StringLengthError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    const value = String(control.value);\n\n    return getMinLengthError(value, minimumLength) || getMaxLengthError(value, maximumLength);\n  };\n}\n\nfunction getMaxLengthError(value: string, requiredLength: number): StringLengthError {\n  return value.length > requiredLength ? { maxlength: { requiredLength } } : null;\n}\n\nfunction getMinLengthError(value: string, requiredLength: number): StringLengthError {\n  return value.length < requiredLength ? { minlength: { requiredLength } } : null;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface UrlError {\n  url: true;\n}\n\nexport function validateUrl(): ValidatorFn {\n  return (control: AbstractControl): UrlError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    return isValidUrl(control.value) ? null : { url: true };\n  };\n}\n\nfunction isValidUrl(value: string): boolean {\n  if (/^http(s)?:\\/\\/[^/]/.test(value) || /^ftp:\\/\\/[^/]/.test(value)) {\n    const a = document.createElement('a');\n    a.href = value;\n    return !!a.host;\n  }\n\n  return false;\n}\n","import { Validators } from '@angular/forms';\nimport { validateMinAge } from './age.validator';\nimport { validateCreditCard } from './credit-card.validator';\nimport { validateRange } from './range.validator';\nimport { validateRequired } from './required.validator';\nimport { validateStringLength } from './string-length.validator';\nimport { validateUrl } from './url.validator';\nexport * from './age.validator';\nexport * from './credit-card.validator';\nexport * from './range.validator';\nexport * from './required.validator';\nexport * from './string-length.validator';\nexport * from './url.validator';\n\nexport const AbpValidators = {\n  creditCard: validateCreditCard,\n  emailAddress: () => Validators.email,\n  minAge: validateMinAge,\n  range: validateRange,\n  required: validateRequired,\n  stringLength: validateStringLength,\n  url: validateUrl,\n};\n","import { Injectable } from '@angular/core';\nimport { RestService } from '../../../../../../services/rest.service';\nimport type {\n  ApplicationApiDescriptionModel,\n  ApplicationApiDescriptionModelRequestDto,\n} from '../../../http/modeling/models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AbpApiDefinitionService {\n  apiName = 'abp';\n\n  getByModel = (model: ApplicationApiDescriptionModelRequestDto) =>\n    this.restService.request<any, ApplicationApiDescriptionModel>(\n      {\n        method: 'GET',\n        url: '/api/abp/api-definition',\n        params: { includeTypes: model.includeTypes },\n      },\n      { apiName: this.apiName },\n    );\n\n  constructor(private restService: RestService) {}\n}\n","export function downloadBlob(blob: Blob, filename: string) {\n  const blobUrl = URL.createObjectURL(blob);\n\n  const link = document.createElement('a');\n\n  link.href = blobUrl;\n  link.download = filename;\n\n  document.body.appendChild(link);\n\n  link.dispatchEvent(\n    new MouseEvent('click', {\n      bubbles: true,\n      cancelable: true,\n      view: window,\n    }),\n  );\n\n  document.body.removeChild(link);\n}\n","import { ApplicationConfiguration } from '../models/application-configuration';\nimport { DateTimeFormatDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { ConfigStateService } from '../services';\n\nexport function getShortDateFormat(configStateService: ConfigStateService) {\n  const dateTimeFormat = configStateService.getDeep(\n    'localization.currentCulture.dateTimeFormat',\n  ) as DateTimeFormatDto;\n\n  return dateTimeFormat.shortDatePattern;\n}\n\nexport function getShortTimeFormat(configStateService: ConfigStateService) {\n  const dateTimeFormat = configStateService.getDeep(\n    'localization.currentCulture.dateTimeFormat',\n  ) as DateTimeFormatDto;\n\n  return dateTimeFormat.shortTimePattern.replace('tt', 'a');\n}\n\nexport function getShortDateShortTimeFormat(configStateService: ConfigStateService) {\n  const dateTimeFormat = configStateService.getDeep(\n    'localization.currentCulture.dateTimeFormat',\n  ) as DateTimeFormatDto;\n\n  return `${dateTimeFormat.shortDatePattern} ${dateTimeFormat.shortTimePattern.replace('tt', 'a')}`;\n}\n","import { ABP } from '../models/common';\nimport { isNumber } from './number-utils';\n\nexport function mapEnumToOptions<T>(_enum: T): ABP.Option<T>[] {\n  const options: ABP.Option<T>[] = [];\n\n  for (const member in _enum)\n    if (!isNumber(member))\n      options.push({\n        key: member,\n        value: _enum[member],\n      });\n\n  return options;\n}\n"]}