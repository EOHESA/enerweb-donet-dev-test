{"version":3,"file":"abp-ng.setting-management-config.umd.js","sources":["../../packages/setting-management/config/src/providers/route.provider.ts","../../../packages/setting-management/config/src/setting-management-config.module.ts","../../../packages/setting-management/config/src/abp-ng.setting-management-config.ts"],"sourcesContent":["import { eLayoutType, RoutesService, SettingTabsService } from '@abp/ng.core';\nimport { eThemeSharedRouteNames } from '@abp/ng.theme.shared';\nimport { APP_INITIALIZER } from '@angular/core';\nimport { debounceTime, map } from 'rxjs/operators';\nimport { eSettingManagementRouteNames } from '../enums/route-names';\n\nexport const SETTING_MANAGEMENT_ROUTE_PROVIDERS = [\n  { provide: APP_INITIALIZER, useFactory: configureRoutes, deps: [RoutesService], multi: true },\n  {\n    provide: APP_INITIALIZER,\n    useFactory: hideRoutes,\n    deps: [RoutesService, SettingTabsService],\n    multi: true,\n  },\n];\n\nexport function configureRoutes(routesService: RoutesService) {\n  return () => {\n    routesService.add([\n      {\n        name: eSettingManagementRouteNames.Settings,\n        path: '/setting-management',\n        parentName: eThemeSharedRouteNames.Administration,\n        layout: eLayoutType.application,\n        order: 100,\n        iconClass: 'fa fa-cog',\n      },\n    ]);\n  };\n}\n\nexport function hideRoutes(routesService: RoutesService, settingTabsService: SettingTabsService) {\n  return () => {\n    settingTabsService.visible$\n      .pipe(\n        debounceTime(0),\n        map(nodes => !nodes.length),\n      )\n      .subscribe(invisible =>\n        routesService.patch(eSettingManagementRouteNames.Settings, { invisible }),\n      );\n  };\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { SETTING_MANAGEMENT_ROUTE_PROVIDERS } from './providers/route.provider';\n\n@NgModule()\nexport class SettingManagementConfigModule {\n  static forRoot(): ModuleWithProviders<SettingManagementConfigModule> {\n    return {\n      ngModule: SettingManagementConfigModule,\n      providers: [SETTING_MANAGEMENT_ROUTE_PROVIDERS],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {SETTING_MANAGEMENT_ROUTE_PROVIDERS as ɵa,configureRoutes as ɵb,hideRoutes as ɵc} from './providers/route.provider';"],"names":["APP_INITIALIZER","RoutesService","SettingTabsService","debounceTime","map","NgModule"],"mappings":";;;;;;QAMa,kCAAkC,GAAG;QAChD,EAAE,OAAO,EAAEA,oBAAe,EAAE,UAAU,EAAE,eAAe,EAAE,IAAI,EAAE,CAACC,qBAAa,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;QAC7F;YACE,OAAO,EAAED,oBAAe;YACxB,UAAU,EAAE,UAAU;YACtB,IAAI,EAAE,CAACC,qBAAa,EAAEC,0BAAkB,CAAC;YACzC,KAAK,EAAE,IAAI;SACZ;MACD;aAEc,eAAe,CAAC,aAA4B;QAC1D,OAAO;YACL,aAAa,CAAC,GAAG,CAAC;gBAChB;oBACE,IAAI;oBACJ,IAAI,EAAE,qBAAqB;oBAC3B,UAAU;oBACV,MAAM;oBACN,KAAK,EAAE,GAAG;oBACV,SAAS,EAAE,WAAW;iBACvB;aACF,CAAC,CAAC;SACJ,CAAC;IACJ,CAAC;aAEe,UAAU,CAAC,aAA4B,EAAE,kBAAsC;QAC7F,OAAO;YACL,kBAAkB,CAAC,QAAQ;iBACxB,IAAI,CACHC,sBAAY,CAAC,CAAC,CAAC,EACfC,aAAG,CAAC,UAAA,KAAK,IAAI,OAAA,CAAC,KAAK,CAAC,MAAM,GAAA,CAAC,CAC5B;iBACA,SAAS,CAAC,UAAA,SAAS,IAClB,OAAA,aAAa,CAAC,KAAK,kDAAwC,EAAE,SAAS,WAAA,EAAE,CAAC,GAAA,CAC1E,CAAC;SACL,CAAC;IACJ;;;QCtCA;;QACS,qCAAO,GAAd;YACE,OAAO;gBACL,QAAQ,EAAE,6BAA6B;gBACvC,SAAS,EAAE,CAAC,kCAAkC,CAAC;aAChD,CAAC;SACH;;;;gBAPFC,aAAQ;;;ICHT;;;;;;;;;;;;;;;;;;"}